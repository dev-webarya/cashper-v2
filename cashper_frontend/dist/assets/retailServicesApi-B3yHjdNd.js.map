{"version":3,"file":"retailServicesApi-B3yHjdNd.js","sources":["../../src/services/retailServicesApi.js"],"sourcesContent":["// Retail Services API\r\n// API Base URL Configuration\r\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://127.0.0.1:8000';\r\n\r\n// Helper function to get auth headers\r\nconst getAuthHeaders = () => {\r\n  const token = localStorage.getItem('access_token');\r\n  return {\r\n    'Authorization': `Bearer ${token}`,\r\n    'Content-Type': 'application/json'\r\n  };\r\n};\r\n\r\n// Helper function to handle file upload\r\nconst createFormDataWithFiles = (data) => {\r\n  const formData = new FormData();\r\n  \r\n  Object.keys(data).forEach(key => {\r\n    if (data[key] !== null && data[key] !== undefined) {\r\n      if (data[key] instanceof File) {\r\n        formData.append(key, data[key]);\r\n      } else if (Array.isArray(data[key])) {\r\n        data[key].forEach(item => {\r\n          formData.append(key, item);\r\n        });\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    }\r\n  });\r\n  \r\n  return formData;\r\n};\r\n\r\n// ITR Filing Service\r\nexport const submitITRFilingApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/itr-filing`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit ITR filing application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting ITR filing application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ITR Revision Service\r\nexport const submitITRRevisionApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/itr-revision`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit ITR revision application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting ITR revision application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ITR Notice Reply Service\r\nexport const submitITRNoticeReplyApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/itr-notice-reply`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit ITR notice reply application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting ITR notice reply application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Individual PAN Service\r\nexport const submitIndividualPANApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/individual-pan`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit Individual PAN application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting Individual PAN application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// HUF PAN Service\r\nexport const submitHUFPANApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/huf-pan`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit HUF PAN application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting HUF PAN application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// PF Withdrawal Service\r\nexport const submitPFWithdrawalApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/pf-withdrawal`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit PF withdrawal application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting PF withdrawal application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Document Update Service\r\nexport const submitDocumentUpdateApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/document-update`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit document update application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting document update application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Trading/Demat Account Service\r\nexport const submitTradingDematApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/trading-demat`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit trading/demat application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting trading/demat application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Bank Account Service\r\nexport const submitBankAccountApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/bank-account`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit bank account application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting bank account application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Financial Planning Service\r\nexport const submitFinancialPlanningApplication = async (applicationData) => {\r\n  try {\r\n    const token = localStorage.getItem('access_token');\r\n    const formData = createFormDataWithFiles(applicationData);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/retail-services/financial-planning`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.detail || 'Failed to submit financial planning application');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error submitting financial planning application:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Get User's Retail Service Applications\r\nexport const getUserRetailApplications = async () => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/user/retail-services/applications`, {\r\n      method: 'GET',\r\n      headers: getAuthHeaders()\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to fetch retail service applications');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching retail applications:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Get Application by ID\r\nexport const getRetailApplicationById = async (applicationId) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/user/retail-services/applications/${applicationId}`, {\r\n      method: 'GET',\r\n      headers: getAuthHeaders()\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to fetch application details');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching application details:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default {\r\n  submitITRFilingApplication,\r\n  submitITRRevisionApplication,\r\n  submitITRNoticeReplyApplication,\r\n  submitIndividualPANApplication,\r\n  submitHUFPANApplication,\r\n  submitPFWithdrawalApplication,\r\n  submitDocumentUpdateApplication,\r\n  submitTradingDematApplication,\r\n  submitBankAccountApplication,\r\n  submitFinancialPlanningApplication,\r\n  getUserRetailApplications,\r\n  getRetailApplicationById\r\n};\r\n"],"names":["API_BASE_URL","createFormDataWithFiles","data","formData","key","item","submitITRFilingApplication","applicationData","token","response","errorData","error","submitITRRevisionApplication","submitITRNoticeReplyApplication","submitIndividualPANApplication","submitHUFPANApplication","submitPFWithdrawalApplication","submitDocumentUpdateApplication","submitTradingDematApplication","submitBankAccountApplication","submitFinancialPlanningApplication"],"mappings":"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"}
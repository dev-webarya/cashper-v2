const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DSNujeMc.js","assets/index-yrnWZ-a-.js","assets/index-DJwOJB3O.css","assets/arrow-left-DiYeyS6s.js","assets/createLucideIcon-CjEx-mil.js","assets/users-DQ4DJbp6.js","assets/indian-rupee-2bv1x3GT.js","assets/shield-D89Dqx28.js","assets/trending-up-Byba4ZSd.js","assets/calculator-uXzCNAk0.js","assets/shopping-bag-6T5R_EwU.js","assets/calendar-Do96wxSy.js","assets/notificationApi-DbeVT2-A.js","assets/circle-alert-Dkr8_vtj.js","assets/clock-D7DwAjTJ.js","assets/wallet-D-M4SJ9e.js","assets/circle-check-big-rPkRElWp.js","assets/eye-DuPaQZEl.js","assets/x-BDUCCLSz.js","assets/file-text-BY8kjK1W.js","assets/chart-pie-DKnDG4iK.js","assets/index-B9ygI19o.js","assets/triangle-alert-Bg8XxMbj.js","assets/mail-Ce9qtwhw.js","assets/phone-CqcdPlAf.js"])))=>i.map(i=>d[i]);
import{u as mc,j as e,L as xc,r as xe,_ as Jo,a as vd,R as $l}from"./index-yrnWZ-a-.js";import{A as yd}from"./arrow-left-DiYeyS6s.js";import{c as Vr}from"./createLucideIcon-CjEx-mil.js";import{U as cr}from"./users-DQ4DJbp6.js";import{I as _a}from"./indian-rupee-2bv1x3GT.js";import{S as Ia}from"./shield-D89Dqx28.js";import{T as Rs}from"./trending-up-Byba4ZSd.js";import{C as Fi,B as Xo}from"./calculator-uXzCNAk0.js";import{S as Ko}from"./shopping-bag-6T5R_EwU.js";import{C as on}from"./calendar-Do96wxSy.js";import{C as Zo,M as wd,S as kr,B as Qo,L as jd,e as Ei,A as Li,d as Bi,c as is,D as Nd,i as Ad,j as kd,P as Wl,F as el,b as Mo,T as Ld,I as Sd,k as Cd,s as Pd,l as _d,u as Id}from"./notificationApi-DbeVT2-A.js";import{C as hs}from"./circle-alert-Dkr8_vtj.js";import{C as ls}from"./clock-D7DwAjTJ.js";import{R as hl,W as Eo}from"./wallet-D-M4SJ9e.js";import{C as dt}from"./circle-check-big-rPkRElWp.js";import{E as Ls}from"./eye-DuPaQZEl.js";import{X as Oi}from"./x-BDUCCLSz.js";import{F as as}from"./file-text-BY8kjK1W.js";import{C as Fd}from"./chart-pie-DKnDG4iK.js";import{a as Dd}from"./index-B9ygI19o.js";import{T as Td}from"./triangle-alert-Bg8XxMbj.js";import{M as Rd}from"./mail-Ce9qtwhw.js";import{P as Md}from"./phone-CqcdPlAf.js";const Ed=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qi=Vr("chevron-left",Ed);const Bd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],St=Vr("circle-x",Bd);const Od=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qd=Vr("layout-dashboard",Od);const Ud=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zd=Vr("send",Ud);const $d=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wd=Vr("settings",$d);const Hd=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vd=Vr("square-check-big",Hd);const Gd=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yd=Vr("wifi-off",Gd);const Jd=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Xd=Vr("wifi",Jd),Kd=({isOpen:n,activeView:s,setActiveView:r,toggleSidebar:i})=>{const l=mc(),o=[{id:"dashboard",name:"Dashboard",icon:e.jsx(qd,{className:"w-5 h-5"})},{id:"users",name:"User Management",icon:e.jsx(cr,{className:"w-5 h-5"})},{id:"loans",name:"Loan Management",icon:e.jsx(_a,{className:"w-5 h-5"})},{id:"insurance",name:"Insurance",icon:e.jsx(Ia,{className:"w-5 h-5"})},{id:"investments",name:"Investments",icon:e.jsx(Rs,{className:"w-5 h-5"})},{id:"taxplanning",name:"Tax Planning",icon:e.jsx(Fi,{className:"w-5 h-5"})},{id:"retailservices",name:"Retail Services",icon:e.jsx(Ko,{className:"w-5 h-5"})},{id:"corporateservices",name:"Corporate Services",icon:e.jsx(Xo,{className:"w-5 h-5"})},{id:"taxconsultations",name:"Inquiry",icon:e.jsx(on,{className:"w-5 h-5"})},{id:"reports",name:"Analytics",icon:e.jsx(Zo,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:e.jsx(Wd,{className:"w-5 h-5"})}];return e.jsx(e.Fragment,{children:e.jsx("aside",{className:`fixed lg:relative top-0 left-0 bottom-0 z-40 w-[280px] xs:w-72 sm:w-64 lg:w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out shadow-xl lg:shadow-none h-full ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-between p-3 xs:p-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-white flex-shrink-0",children:[e.jsx("h2",{className:"text-base xs:text-lg font-bold text-gray-900",children:"Admin Menu"}),e.jsx("button",{onClick:i,className:"p-1.5 xs:p-2 text-gray-600 hover:text-green-700 hover:bg-green-100 rounded-lg transition-colors active:scale-95 [touch-action:manipulation] [-webkit-tap-highlight-color:rgba(16,185,129,0.2)]","aria-label":"Close sidebar",children:e.jsx("svg",{className:"w-4 h-4 xs:w-5 xs:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"flex-1 py-3 xs:py-4 px-2 xs:px-3 sm:px-4 overflow-y-auto overflow-x-hidden [&::-webkit-scrollbar]:w-1 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-green-500 [&::-webkit-scrollbar-thumb]:rounded",children:e.jsx("ul",{className:"space-y-1 xs:space-y-1.5",children:o.map(c=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>{l(`/admin/${c.id}`),r(c.id),window.innerWidth<1024&&i()},className:`w-full flex items-center space-x-2.5 xs:space-x-3 px-3 xs:px-4 py-2.5 xs:py-3 rounded-lg transition-all duration-200 group active:scale-[0.98] [touch-action:manipulation] [-webkit-tap-highlight-color:rgba(16,185,129,0.2)] ${s===c.id?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-md":"text-gray-700 hover:bg-green-50 hover:text-green-700"}`,children:[e.jsx("span",{className:`transition-transform duration-200 flex-shrink-0 ${s===c.id?"scale-110":"group-hover:scale-110"}`,children:c.icon}),e.jsx("span",{className:"font-medium text-sm xs:text-base truncate min-w-0",children:c.name})]})},c.id))})}),e.jsx("div",{className:"p-2 xs:p-3 sm:p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:e.jsxs(xc,{to:"/",className:"flex items-center justify-center space-x-2 px-3 xs:px-4 py-2 xs:py-2.5 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98] [touch-action:manipulation] [-webkit-tap-highlight-color:rgba(16,185,129,0.2)]",children:[e.jsx(yd,{className:"w-4 h-4 xs:w-5 xs:h-5 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-sm xs:text-base whitespace-nowrap",children:"Back to Home"})]})})]})})})},Zd=({toggleSidebar:n,setActiveView:s,adminProfile:r})=>{const i=mc(),[l,o]=xe.useState(!1),[c,m]=xe.useState(!1),[u,b]=xe.useState(""),[v,y]=xe.useState(!1),k=re=>{i(`/admin/${re}`),s(re),m(!1)},x=[{id:1,type:"loan",message:"5 new loan applications pending review",time:"5 min ago",unread:!0},{id:2,type:"user",message:"12 new users registered today",time:"1 hour ago",unread:!0},{id:3,type:"insurance",message:"3 insurance claims require approval",time:"2 hours ago",unread:!1},{id:4,type:"alert",message:"System backup completed successfully",time:"3 hours ago",unread:!1}],M=x.filter(re=>re.unread).length,E=[{title:"Dashboard",category:"Navigation",action:()=>{i("/admin/dashboard"),s("dashboard")}},{title:"User Management",category:"Management",action:()=>{i("/admin/users"),s("users")}},{title:"Loan Management",category:"Management",action:()=>{i("/admin/loans"),s("loans")}},{title:"Insurance Management",category:"Management",action:()=>{i("/admin/insurance"),s("insurance")}},{title:"Investment Management",category:"Management",action:()=>{i("/admin/investments"),s("investments")}},{title:"Tax Planning Management",category:"Management",action:()=>{i("/admin/taxplanning"),s("taxplanning")}},{title:"Reports & Analytics",category:"Analytics",action:()=>{i("/admin/reports"),s("reports")}},{title:"Settings",category:"Configuration",action:()=>{i("/admin/settings"),s("settings")}},{title:"Notifications",category:"Communication",action:()=>{i("/admin/notifications"),s("notifications")}},{title:"System Logs",category:"System",action:()=>{i("/admin/logs"),s("logs")}}],T=re=>{const ue=re.target.value;b(ue),y(ue.length>0)},S=E.filter(re=>re.title.toLowerCase().includes(u.toLowerCase())||re.category.toLowerCase().includes(u.toLowerCase())),L=re=>{re.action(),b(""),y(!1)},X=()=>{i("/login")};return e.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-md border-b border-gray-200",children:e.jsx("div",{className:"w-full px-2 xs:px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-14 xs:h-16 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 xs:space-x-3 sm:space-x-4",children:[e.jsx("button",{onClick:n,className:"lg:hidden p-1.5 xs:p-2 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded-lg focus:outline-none transition-colors active:scale-95","aria-label":"Toggle sidebar",children:e.jsx(wd,{className:"w-5 h-5 xs:w-6 xs:h-6"})}),e.jsx(xc,{to:"/",className:"flex items-center group",children:e.jsx("img",{src:"/logo_company.png",alt:" Cashper Logo",className:"h-7 xs:h-8 sm:h-10 md:h-12 w-auto group-hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"hidden md:flex items-center ml-2 lg:ml-4",children:e.jsx("span",{className:"px-2.5 py-1 bg-gradient-to-r from-green-600 to-green-700 text-white text-[10px] sm:text-xs font-bold rounded-full",children:"ADMIN PANEL"})})]}),e.jsxs("div",{className:"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 md:space-x-3",children:[e.jsxs("div",{className:"hidden sm:block relative",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg px-2.5 sm:px-3 py-1.5 sm:py-2 max-w-[120px] md:max-w-xs lg:max-w-sm focus-within:ring-2 focus-within:ring-green-500 transition-all",children:[e.jsx(kr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0"}),e.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:T,onFocus:()=>u&&y(!0),className:"ml-1.5 sm:ml-2 bg-transparent outline-none border-none focus:ring-0 text-xs sm:text-sm text-gray-700 placeholder-gray-400 w-full min-w-0",style:{outline:"none",boxShadow:"none"}})]}),v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>y(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-2xl border border-gray-200 z-40 max-h-96 overflow-y-auto",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gradient-to-r from-green-600 to-green-700",children:e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Search Results"})}),S.length>0?e.jsx("div",{className:"py-1",children:S.map((re,ue)=>e.jsx("button",{onClick:()=>L(re),className:"w-full px-4 py-3 text-left hover:bg-green-50 transition-colors border-b border-gray-100 last:border-0 active:bg-green-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:re.title}),e.jsx("p",{className:"text-xs text-gray-500",children:re.category})]}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},ue))}):e.jsx("div",{className:"p-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:['No results found for "',u,'"']})})]})]})]}),e.jsx("button",{onClick:()=>{y(!v),b("")},className:"sm:hidden p-1.5 xs:p-2 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors active:scale-95",children:e.jsx(kr,{className:"w-4 h-4 xs:w-5 xs:h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!l),className:"relative p-1.5 xs:p-2 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors active:scale-95","aria-label":"Notifications",children:[e.jsx(Qo,{className:"w-4 h-4 xs:w-5 xs:h-5 sm:w-6 sm:h-6"}),M>0&&e.jsx("span",{className:"absolute top-0.5 right-0.5 xs:top-1 xs:right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>o(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-[calc(100vw-2rem)] xs:w-80 sm:w-96 max-w-md bg-white rounded-xl shadow-2xl border border-gray-200 z-40",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-3 xs:px-4 py-2.5 xs:py-3 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-semibold text-xs xs:text-sm sm:text-base",children:"Notifications"}),e.jsxs("span",{className:"text-[10px] xs:text-xs bg-white/20 px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-white",children:[M," new"]})]})}),e.jsx("div",{className:"max-h-[60vh] xs:max-h-80 overflow-y-auto",children:x.map(re=>e.jsx("div",{className:`px-3 xs:px-4 py-2.5 xs:py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100 ${re.unread?"bg-green-50":""}`,children:e.jsxs("div",{className:"flex items-start space-x-2 xs:space-x-3",children:[e.jsx("div",{className:`w-1.5 h-1.5 xs:w-2 xs:h-2 rounded-full mt-1.5 xs:mt-2 flex-shrink-0 ${re.unread?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] xs:text-xs sm:text-sm text-gray-800 font-medium leading-snug",children:re.message}),e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs text-gray-500 mt-0.5 xs:mt-1",children:re.time})]})]})},re.id))}),e.jsx("div",{className:"px-3 xs:px-4 py-2 xs:py-3 bg-gray-50 text-center border-t rounded-b-xl",children:e.jsx("button",{onClick:()=>{s("notifications"),o(!1)},className:"text-[11px] xs:text-xs sm:text-sm text-green-700 hover:text-green-800 font-semibold active:scale-95 transition-transform",children:"View All Notifications"})})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!c),className:"flex items-center space-x-1 xs:space-x-1.5 sm:space-x-2 p-0.5 xs:p-1 hover:bg-green-50 rounded-lg transition-colors active:scale-95","aria-label":"User menu",children:[r?.profileImage?e.jsx("img",{src:r.profileImage.startsWith("http")?r.profileImage:`http://localhost:8000${r.profileImage}`,alt:"Admin Profile",className:"w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-full object-cover shadow-lg border-2 border-green-600",onError:re=>{console.error("Failed to load profile image:",r.profileImage),re.target.style.display="none",re.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-7 h-7 xs:w-8 xs:h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center text-white font-semibold text-xs xs:text-sm sm:text-base shadow-lg",style:{display:r?.profileImage?"none":"flex"},children:r?.fullName?.charAt(0)||"AD"}),e.jsx("svg",{className:"hidden sm:block w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-52 xs:w-56 bg-white rounded-xl shadow-2xl border border-gray-200 z-40",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-3 xs:px-4 py-2.5 xs:py-3 rounded-t-xl",children:[e.jsx("p",{className:"text-white font-semibold text-xs xs:text-sm",children:r?.fullName||"Admin User"}),e.jsx("p",{className:"text-[10px] xs:text-xs text-green-100 truncate",children:r?.email||"sudha@gmail.com"})]}),e.jsxs("div",{className:"py-1.5 xs:py-2",children:[e.jsx("button",{onClick:()=>k("profile"),className:"w-full flex items-center space-x-2 px-3 xs:px-4 py-1.5 xs:py-2 text-xs xs:text-sm text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors active:bg-green-100",children:e.jsx("span",{children:"My Profile"})}),e.jsx("button",{onClick:()=>k("settings"),className:"w-full flex items-center space-x-2 px-3 xs:px-4 py-1.5 xs:py-2 text-xs xs:text-sm text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors active:bg-green-100",children:e.jsx("span",{children:"Settings"})})]}),e.jsx("div",{className:"py-1.5 xs:py-2 border-t border-gray-200",children:e.jsxs("button",{onClick:X,className:"w-full flex items-center space-x-2 px-3 xs:px-4 py-1.5 xs:py-2 text-xs xs:text-sm text-red-600 hover:bg-red-50 transition-colors active:bg-red-100",children:[e.jsx(jd,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4"}),e.jsx("span",{children:"Logout"})]})})]})]})]})]})]})})})},Hl=()=>{const[n,s]=xe.useState("week"),[r,i]=xe.useState(1),l=4,[o,c]=xe.useState(null),[m,u]=xe.useState(null),[b,v]=xe.useState(null),[y,k]=xe.useState([]),[x,M]=xe.useState(!0),[E,T]=xe.useState(null),[S,L]=xe.useState(!1),[X,re]=xe.useState("disconnected"),ue="http://127.0.0.1:8000/api/admin",ve="ws://127.0.0.1:8000/api/admin",de=xe.useRef(null),$=xe.useRef(0),ie=3,Z=xe.useRef(null),f=xe.useRef(null),_=F=>({user:cr,loan:_a,insurance:Ia,investment:Rs,payment:Li})[F]||Li,D=F=>({user:"text-blue-600",loan:"text-green-600",insurance:"text-emerald-600",investment:"text-purple-600",payment:"text-indigo-600"})[F]||"text-gray-600",g=F=>({user:"bg-blue-50",loan:"bg-green-50",insurance:"bg-emerald-50",investment:"bg-purple-50",payment:"bg-indigo-50"})[F]||"bg-gray-50",I=xe.useCallback(()=>{try{re("connecting");const F=`${ve}/ws/dashboard`;console.log("üîå Connecting to WebSocket:",F);const O=new WebSocket(F);O.onopen=()=>{console.log("‚úÖ WebSocket connected"),L(!0),re("connected"),T(null),$.current=0,M(!1)},O.onmessage=K=>{try{const ee=JSON.parse(K.data);if(console.log("üì° Real-time update:",ee),ee.type==="dashboard_update"){if(ee.stats){const ne=Ne=>typeof Ne=="string"&&Ne.includes("‚Çπ")?"0":Ne||"0",se=[{title:"Total Users",value:ee.stats.totalUsers||"0",change:ee.stats.totalUsersChange||"+0%",trend:(ee.stats.totalUsersChange||"+0%").includes("-")?"down":"up",icon:cr,gradient:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Active Loans",value:ee.stats.activeLoansCount||ne(ee.stats.activeLoans),change:ee.stats.activeLoansChange||"+0%",trend:(ee.stats.activeLoansChange||"+0%").includes("-")?"down":"up",icon:_a,gradient:"from-green-600 to-green-700",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Insurance Policies",value:ee.stats.insurancePolicies||"0",change:ee.stats.insurancePoliciesChange||"+0%",trend:(ee.stats.insurancePoliciesChange||"+0%").includes("-")?"down":"up",icon:Ia,gradient:"from-emerald-600 to-teal-600",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},{title:"Total Revenue",value:ee.stats.totalRevenueCount||ne(ee.stats.totalRevenue),change:ee.stats.totalRevenueChange||"+0%",trend:(ee.stats.totalRevenueChange||"+0%").includes("-")?"down":"up",icon:Rs,gradient:"from-purple-600 to-pink-600",bgColor:"bg-purple-50",textColor:"text-purple-700"}];c(se)}if(ee.performance&&u({totalLogins:ee.performance.total_logins||0,hoursActive:ee.performance.hours_active||0,tasksCompleted:ee.performance.tasks_completed||0,rating:ee.performance.rating||0,ratingMax:ee.performance.rating_max||5}),ee.activities){const ne=ee.activities.map(se=>({id:se.id,action:se.action,user:se.user,time:se.time,amount:se.amount,type:se.type,icon:_(se.type),color:D(se.type),bg:g(se.type)}));k(ne)}v(new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))}}catch(ee){console.error("Error parsing WebSocket message:",ee)}},O.onerror=K=>{console.error("‚ùå WebSocket error:",K),re("error")},O.onclose=()=>{if(console.log("üîå WebSocket closed"),L(!1),$.current<ie){$.current++;const K=Math.pow(2,$.current)*1e3;console.log(`üîÑ Reconnect attempt ${$.current}/${ie} in ${K}ms`),Z.current=setTimeout(()=>{I()},K)}else console.log("‚ö†Ô∏è Switching to polling fallback"),re("fallback"),z()},de.current=O}catch(F){console.error("Failed to create WebSocket:",F),re("fallback"),z()}},[]),z=xe.useCallback(()=>{console.log("üìä Starting fallback polling"),re("fallback");const F=async()=>{try{const O=localStorage.getItem("access_token"),K=Date.now(),[ee,J,ne]=await Promise.all([fetch(`${ue}/dashboard/stats?t=${K}`,{headers:{Authorization:`Bearer ${O}`,"Cache-Control":"no-cache"}}),fetch(`${ue}/dashboard/performance-metrics?t=${K}`,{headers:{Authorization:`Bearer ${O}`,"Cache-Control":"no-cache"}}),fetch(`${ue}/dashboard/activities`,{headers:{Authorization:`Bearer ${O}`}})]);if(ee.ok&&J.ok&&ne.ok){const[se,Ne,Ce]=await Promise.all([ee.json(),J.json(),ne.json()]);console.log("‚úÖ Fallback polling data received");const De=Q=>typeof Q=="string"&&Q.includes("‚Çπ")?"0":Q||"0",be=[{title:"Total Users",value:se.totalUsers||"0",change:se.totalUsersChange||"+0%",trend:(se.totalUsersChange||"+0%").includes("-")?"down":"up",icon:cr,gradient:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:" Loans",value:se.activeLoansCount||De(se.activeLoans),change:se.activeLoansChange||"+0%",trend:(se.activeLoansChange||"+0%").includes("-")?"down":"up",icon:_a,gradient:"from-green-600 to-green-700",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Insurance Policies",value:se.insurancePolicies||"0",change:se.insurancePoliciesChange||"+0%",trend:(se.insurancePoliciesChange||"+0%").includes("-")?"down":"up",icon:Ia,gradient:"from-emerald-600 to-teal-600",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},{title:"Total Revenue",value:se.totalRevenueCount||De(se.totalRevenue),change:se.totalRevenueChange||"+0%",trend:(se.totalRevenueChange||"+0%").includes("-")?"down":"up",icon:Rs,gradient:"from-purple-600 to-pink-600",bgColor:"bg-purple-50",textColor:"text-purple-700"}];if(c(be),u({totalLogins:Ne.total_logins||0,hoursActive:Ne.hours_active||0,tasksCompleted:Ne.tasks_completed||0,rating:Ne.rating||0,ratingMax:Ne.rating_max||5}),Ce.activities){const Q=Ce.activities.map(q=>({id:q.id,action:q.action,user:q.user,time:q.time,amount:q.amount,type:q.type,icon:_(q.type),color:D(q.type),bg:g(q.type)}));k(Q)}v(new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),M(!1)}}catch(O){console.error("Fallback polling error:",O)}};F(),f.current=setInterval(F,1e4)},[]);xe.useEffect(()=>(I(),()=>{de.current&&de.current.close(),Z.current&&clearTimeout(Z.current),f.current&&clearInterval(f.current)}),[I]);const te=async()=>{console.log("üîÑ Manual refresh triggered"),de.current&&de.current.readyState===WebSocket.OPEN&&de.current.send("refresh")},H=F=>{alert(`Viewing Activity:

Action: ${F.action}
User: ${F.user}
Amount: ${F.amount}
Time: ${F.time}
Type: ${F.type}`)},W=F=>{window.confirm(`Are you sure you want to delete this activity?

${F.action} by ${F.user}`)&&alert("Activity deleted successfully!")},G=Math.ceil(y.length/l),V=y.slice((r-1)*l,r*l),j=[{title:"Total Users",value:"0",change:"+0%",trend:"up",icon:cr,gradient:"from-blue-600 to-blue-700",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Active Loans",value:"0",change:"+0%",trend:"up",icon:_a,gradient:"from-green-600 to-green-700",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Insurance Policies",value:"0",change:"+0%",trend:"up",icon:Ia,gradient:"from-emerald-600 to-teal-600",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},{title:"Total Revenue",value:"0",change:"+0%",trend:"up",icon:Rs,gradient:"from-purple-600 to-pink-600",bgColor:"bg-purple-50",textColor:"text-purple-700"}];return x?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ei,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):E?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(hs,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-semibold",children:E}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Retry"})]})}):e.jsxs("div",{className:"space-y-4 xs:space-y-5 sm:space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl sm:rounded-2xl shadow-lg p-4 xs:p-5 sm:p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold mb-2",children:"Admin Dashboard üë®‚Äçüíº"}),e.jsx("p",{className:"text-xs xs:text-sm sm:text-base text-green-50",children:"Real-time platform analytics and management"}),b&&e.jsxs("p",{className:"text-xs text-green-100 mt-1 flex items-center",children:[e.jsx(ls,{className:"w-3 h-3 mr-1"}),"Last update: ",b]}),e.jsxs("div",{className:"flex items-center mt-2 text-xs",children:[X==="connected"&&e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx(Xd,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"Real-time (WebSocket)"})]}),X==="fallback"&&e.jsxs("div",{className:"flex items-center text-yellow-100",children:[e.jsx(Yd,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"Polling mode (10s refresh)"})]}),X==="connecting"&&e.jsxs("div",{className:"flex items-center text-blue-100",children:[e.jsx(Ei,{className:"w-3 h-3 mr-1 animate-spin"}),e.jsx("span",{children:"Connecting..."})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:te,className:"px-3 xs:px-4 py-1.5 xs:py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white text-xs xs:text-sm font-medium hover:bg-white/30 transition-colors flex items-center space-x-1",title:"Refresh metrics",children:[e.jsx(hl,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("select",{value:n,onChange:F=>s(F.target.value),className:"px-3 xs:px-4 py-1.5 xs:py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white text-xs xs:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/50",children:[e.jsx("option",{value:"today",className:"text-gray-900",children:"Today"}),e.jsx("option",{value:"week",className:"text-gray-900",children:"This Week"}),e.jsx("option",{value:"month",className:"text-gray-900",children:"This Month"}),e.jsx("option",{value:"year",className:"text-gray-900",children:"This Year"})]})]})]})}),m&&e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-3 xs:gap-4 sm:gap-5 lg:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-l-4 border-blue-600 transform hover:-translate-y-1",children:e.jsxs("div",{className:"p-4 xs:p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-semibold text-blue-700 mb-1",children:"Total Logins"}),e.jsx("p",{className:"text-2xl xs:text-3xl lg:text-4xl font-bold text-blue-900",children:m.totalLogins.toLocaleString()})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-blue-600 shadow-lg",children:e.jsx(Zo,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]}),e.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[e.jsx(ls,{className:"w-3.5 h-3.5 mr-1"}),e.jsx("span",{className:"font-medium",children:"Session tracking"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-l-4 border-green-600 transform hover:-translate-y-1",children:e.jsxs("div",{className:"p-4 xs:p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-semibold text-green-700 mb-1",children:"Hours Active"}),e.jsx("p",{className:"text-2xl xs:text-3xl lg:text-4xl font-bold text-green-900",children:m.hoursActive.toLocaleString()})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-green-600 shadow-lg",children:e.jsx(ls,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]}),e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(Li,{className:"w-3.5 h-3.5 mr-1"}),e.jsx("span",{className:"font-medium",children:"Time logged"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-l-4 border-purple-600 transform hover:-translate-y-1",children:e.jsxs("div",{className:"p-4 xs:p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-semibold text-purple-700 mb-1",children:"Tasks Completed"}),e.jsx("p",{className:"text-2xl xs:text-3xl lg:text-4xl font-bold text-purple-900",children:m.tasksCompleted.toLocaleString()})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-purple-600 shadow-lg",children:e.jsx(Vd,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]}),e.jsxs("div",{className:"flex items-center text-xs text-purple-600",children:[e.jsx(dt,{className:"w-3.5 h-3.5 mr-1"}),e.jsx("span",{className:"font-medium",children:"Total actions"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 xs:gap-4 sm:gap-5 lg:gap-6",children:(o||j).map((F,O)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 xs:p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-medium text-gray-600 mb-2",children:F.title}),e.jsx("p",{className:"text-2xl xs:text-3xl font-bold text-gray-900",children:F.value})]}),e.jsx("div",{className:`p-2.5 xs:p-3 rounded-lg bg-gradient-to-br ${F.gradient}`,children:e.jsx(F.icon,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]})}),e.jsx("div",{className:`h-1 bg-gradient-to-r ${F.gradient}`})]},O))}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 xs:gap-4 sm:gap-5 lg:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 xs:p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-medium text-gray-600 mb-2",children:"Investments"}),e.jsx("p",{className:"text-2xl xs:text-3xl font-bold text-gray-900",children:"0"})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-gradient-to-br from-indigo-600 to-indigo-700",children:e.jsx(Rs,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]})}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-indigo-600 to-indigo-700"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 xs:p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-medium text-gray-600 mb-2",children:"Tax Planning"}),e.jsx("p",{className:"text-2xl xs:text-3xl font-bold text-gray-900",children:"0"})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-gradient-to-br from-amber-600 to-amber-700",children:e.jsx(Zo,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]})}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-amber-600 to-amber-700"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 xs:p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-medium text-gray-600 mb-2",children:"Retail Services"}),e.jsx("p",{className:"text-2xl xs:text-3xl font-bold text-gray-900",children:"0"})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-gradient-to-br from-cyan-600 to-cyan-700",children:e.jsx(cr,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]})}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-cyan-600 to-cyan-700"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 xs:p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs xs:text-sm font-medium text-gray-600 mb-2",children:"Corporate Services"}),e.jsx("p",{className:"text-2xl xs:text-3xl font-bold text-gray-900",children:"0"})]}),e.jsx("div",{className:"p-2.5 xs:p-3 rounded-lg bg-gradient-to-br from-rose-600 to-rose-700",children:e.jsx(Li,{className:"w-5 h-5 xs:w-6 xs:h-6 text-white"})})]})}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-rose-600 to-rose-700"})]})]}),e.jsx("div",{className:"flex flex-col gap-4 xs:gap-5 sm:gap-6",children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-md p-4 xs:p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-5",children:[e.jsx("h3",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-900",children:"Recent Activities"}),e.jsxs("span",{className:"px-2 xs:px-3 py-1 bg-blue-100 text-blue-700 text-xs xs:text-sm font-bold rounded-full",children:[y.length," Total"]})]}),e.jsx("div",{className:"space-y-3 xs:space-y-4 mb-4",children:V.length>0?V.map(F=>e.jsxs("div",{className:"flex flex-row items-center justify-between p-3 xs:p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:`p-2 xs:p-2.5 rounded-lg ${F.bg} flex-shrink-0`,children:e.jsx(F.icon,{className:`w-4 h-4 xs:w-5 xs:h-5 ${F.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs xs:text-sm font-semibold text-gray-900 mb-0.5 truncate",children:F.action}),e.jsx("p",{className:"text-xs text-gray-600 truncate mb-0.5",children:F.user}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[10px] xs:text-xs text-gray-500",children:[e.jsx("span",{children:F.time}),F.amount!=="-"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"font-semibold text-green-600",children:F.amount})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>H(F),className:"px-2.5 xs:px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-xs font-semibold rounded-lg transition-colors flex items-center space-x-1 whitespace-nowrap",children:[e.jsx(Ls,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{onClick:()=>W(F),className:"px-2.5 xs:px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white text-xs font-semibold rounded-lg transition-colors flex items-center space-x-1 whitespace-nowrap",children:[e.jsx(Oi,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Delete"})]})]})]},F.id)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No recent activities"})})}),G>1&&e.jsxs("div",{className:"flex flex-col xs:flex-row items-center justify-between gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs xs:text-sm text-gray-600 order-2 xs:order-1",children:["Showing ",(r-1)*l+1," to ",Math.min(r*l,y.length)," of ",y.length," activities"]}),e.jsxs("div",{className:"flex items-center space-x-2 order-1 xs:order-2",children:[e.jsx("button",{onClick:()=>i(F=>Math.max(F-1,1)),disabled:r===1,className:"p-1.5 xs:p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(qi,{className:"w-4 h-4 xs:w-5 xs:h-5 text-gray-600"})}),[...Array(G)].map((F,O)=>e.jsx("button",{onClick:()=>i(O+1),className:`px-2.5 xs:px-3 py-1 xs:py-1.5 text-xs xs:text-sm font-semibold rounded-lg transition-colors ${r===O+1?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:O+1},O)),e.jsx("button",{onClick:()=>i(F=>Math.min(F+1,G)),disabled:r===G,className:"p-1.5 xs:p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Bi,{className:"w-4 h-4 xs:w-5 xs:h-5 text-gray-600"})})]})]})]})})]})},Ta="http://127.0.0.1:8000/api/admin",Qd=()=>{const n=localStorage.getItem("access_token"),s=localStorage.getItem("user");return!!(n&&s)},Ra=()=>{const n=localStorage.getItem("access_token");if(!n)throw new Error("No authentication token found. Please login.");return{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}},$i=async n=>{if(n.status===401)throw localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("adminProfile"),window.location.href="/login?redirect=/admin",new Error("Session expired. Please login again.");const s=await n.json().catch(()=>({}));throw new Error(s.detail||s.message||`Request failed with status ${n.status}`)},eu=async(n={})=>{if(!Qd())throw new Error("Not authenticated. Please login.");const{page:s=1,limit:r=10,search:i="",status_filter:l="all"}=n,o=new URLSearchParams({page:s.toString(),limit:r.toString()});i&&o.append("search",i),l&&l!=="all"&&o.append("status_filter",l);try{const c=await fetch(`${Ta}/users/detailed?${o}`,{headers:Ra()});return c.ok||await $i(c),c.json()}catch(c){throw console.error("getUsersDetailed error:",c),c}},tu=async n=>{const s=await fetch(`${Ta}/users/${n}/details`,{headers:Ra()});return s.ok||await $i(s),s.json()},su=async(n,s)=>{const r=await fetch(`${Ta}/users/${n}/suspend`,{method:"PUT",headers:Ra(),body:JSON.stringify({reason:s})});return r.ok||await $i(r),r.json()},ru=async n=>{const s=await fetch(`${Ta}/users/${n}/unsuspend`,{method:"PUT",headers:Ra()});return s.ok||await $i(s),s.json()},nu=async n=>{const s=await fetch(`${Ta}/users/${n}`,{method:"DELETE",headers:Ra()});if(!s.ok)throw new Error("Failed to delete user");return s.json()},au=()=>{const[n,s]=xe.useState(""),[r,i]=xe.useState("all"),[l,o]=xe.useState(!1),[c,m]=xe.useState(null),[u,b]=xe.useState([]),[v,y]=xe.useState(!0),[k,x]=xe.useState(null),[M,E]=xe.useState({total:0,active:0,inactive:0,suspended:0}),[T,S]=xe.useState({page:1,limit:10,total:0,totalPages:0}),[L,X]=xe.useState(!1);xe.useEffect(()=>{re()},[T.page,r,n]);const re=async()=>{try{y(!0),x(null);const f=await eu({page:T.page,limit:T.limit,search:n,status_filter:r});b(f.users||[]),S({...T,total:f.total||0,totalPages:f.totalPages||1}),f.totalStats&&E({total:f.totalStats.total||0,active:f.totalStats.active||0,inactive:f.totalStats.inactive||0,suspended:f.totalStats.suspended||0})}catch(f){console.error("Error fetching users:",f),x(f.message||"Failed to fetch users")}finally{y(!1)}},ue=async f=>{try{X(!0);const _=await tu(f.id);m(_.user),o(!0)}catch(_){console.error("Error fetching user details:",_),alert("Failed to fetch user details: "+_.message)}finally{X(!1)}},ve=async(f,_)=>{const D=_==="Suspended"?"unsuspend":"suspend",g=D==="suspend"?prompt("Enter reason for suspension:"):null;if(!(D==="suspend"&&!g)&&confirm(`Are you sure you want to ${D} this user?`))try{X(!0),D==="suspend"?await su(f,g):await ru(f),alert(`User ${D}ed successfully`),re()}catch(I){console.error(`Error ${D}ing user:`,I),alert(`Failed to ${D} user: `+I.message)}finally{X(!1)}},de=async f=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{X(!0),await nu(f),alert("User deleted successfully"),re()}catch(_){console.error("Error deleting user:",_),alert("Failed to delete user: "+_.message)}finally{X(!1)}},$=f=>{f>=1&&f<=T.totalPages&&S({...T,page:f})},ie=f=>{s(f.target.value),S({...T,page:1})},Z=f=>{i(f),S({...T,page:1})};return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg sm:rounded-xl shadow-lg p-4 xs:p-5 sm:p-6 text-white",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold mb-1 sm:mb-2",children:"Admin Dashboard üë®‚Äçüíº"}),e.jsx("p",{className:"text-xs xs:text-sm sm:text-base text-green-50 mb-2",children:"Monitor and manage your platform analytics"}),e.jsxs("div",{className:"flex flex-col xs:flex-row gap-3 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("svg",{className:"w-3 h-3 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"truncate",children:"Updated: Nov 22, 12:28:18 AM"})]}),e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("svg",{className:"w-3 h-3 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.251a.75.75 0 0 1 .75.75v1.488a.75.75 0 0 1-1.5 0v-1.488a.75.75 0 0 1 .75-.75ZM15.75 9.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM13.678 14.25a.75.75 0 0 1 .75.75v1.488a.75.75 0 0 1-1.5 0v-1.488a.75.75 0 0 1 .75-.75ZM10.5 14.25a.75.75 0 0 1 .75.75v1.488a.75.75 0 0 1-1.5 0v-1.488a.75.75 0 0 1 .75-.75Z"})}),e.jsx("span",{children:"Real-time"})]})]})]})})}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Processing..."})]})}),k&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:k}),e.jsx("button",{onClick:re,className:"mt-2 text-sm underline hover:no-underline",children:"Try Again"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage all registered users and their accounts"})]}),e.jsxs("button",{className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 transition-all duration-300 flex items-center space-x-2 justify-center text-sm sm:text-base",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{children:"Add New User"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-xs sm:text-sm font-semibold",children:"Total Users"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-900 mt-1 sm:mt-2",children:M.total.toLocaleString()})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-xs sm:text-sm font-semibold",children:"Active Users"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-900 mt-1 sm:mt-2",children:M.active.toLocaleString()})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-600 text-xs sm:text-sm font-semibold",children:"Inactive Users"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-900 mt-1 sm:mt-2",children:M.inactive.toLocaleString()})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg sm:rounded-xl p-4 sm:p-6 border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 text-xs sm:text-sm font-semibold",children:"Suspended"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-red-900 mt-1 sm:mt-2",children:M.suspended.toLocaleString()})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:n,onChange:ie,className:"w-full pl-9 sm:pl-10 pr-4 py-2.5 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","active","inactive","suspended"].map(f=>e.jsx("button",{onClick:()=>Z(f),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg font-semibold text-xs sm:text-sm transition-all duration-300 capitalize active:scale-95 ${r===f?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:f},f))})]})}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[640px]",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-[10px] xs:text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-[10px] xs:text-xs font-semibold text-gray-600 uppercase tracking-wider hidden md:table-cell",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-[10px] xs:text-xs font-semibold text-gray-600 uppercase tracking-wider hidden lg:table-cell",children:"Join Date"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-[10px] xs:text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-[10px] xs:text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:v?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):u.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No users found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your filters or search term"})]})}):u.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm sm:text-base flex-shrink-0",children:f.name.charAt(0)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-xs sm:text-sm truncate",children:f.name}),e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-500 md:hidden truncate",children:f.email})]})]})}),e.jsxs("td",{className:"px-3 sm:px-6 py-3 sm:py-4 hidden md:table-cell",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-900 truncate",children:f.email}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:f.phone})]}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm text-gray-600 hidden lg:table-cell",children:f.joinDate}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] xs:text-xs font-semibold whitespace-nowrap ${f.status==="Active"?"bg-green-100 text-green-700":f.status==="Inactive"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:f.status})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("button",{onClick:()=>ue(f),disabled:L,className:"p-1.5 sm:p-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",title:"View Details",children:e.jsxs("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>ve(f.id,f.status),disabled:L,className:`p-1.5 sm:p-2 bg-gradient-to-r ${f.status==="Suspended"?"from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700"} text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed`,title:f.status==="Suspended"?"Unsuspend User":"Suspend User",children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),e.jsx("button",{onClick:()=>de(f.id),disabled:L,className:"hidden sm:block p-1.5 sm:p-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete User",children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},f.id))})]})}),e.jsx("div",{className:"bg-gray-50 px-3 sm:px-4 md:px-6 py-3 sm:py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-semibold",children:(T.page-1)*T.limit+1})," to ",e.jsx("span",{className:"font-semibold",children:Math.min(T.page*T.limit,T.total)})," of ",e.jsx("span",{className:"font-semibold",children:T.total})," users"]}),e.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2",children:[e.jsx("button",{onClick:()=>$(T.page-1),disabled:T.page===1||v,className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 font-semibold text-xs sm:text-sm transition-colors active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("span",{className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg font-semibold text-xs sm:text-sm",children:T.page}),e.jsxs("span",{className:"hidden xs:inline text-gray-600 text-xs sm:text-sm",children:["of ",T.totalPages]}),e.jsx("button",{onClick:()=>$(T.page+1),disabled:T.page>=T.totalPages||v,className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 font-semibold text-xs sm:text-sm transition-colors active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),l&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-3 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-2xl max-w-md w-full max-h-[60vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-4 sm:px-6 py-2 sm:py-3 flex items-center justify-between sticky top-0",children:[e.jsx("h3",{className:"text-sm sm:text-base font-bold text-white",children:"User Details"}),e.jsx("button",{onClick:()=>o(!1),className:"text-white hover:bg-white/20 p-1.5 sm:p-2 rounded-lg transition-colors active:scale-95",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col xs:flex-row items-center xs:items-start space-y-3 xs:space-y-0 xs:space-x-4 text-center xs:text-left",children:[c.profileImage?e.jsx("img",{src:c.profileImage,alt:c.fullName||c.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-green-500 flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-lg sm:text-2xl font-bold flex-shrink-0",children:c.fullName?.charAt(0)||c.name?.charAt(0)||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:c.fullName||c.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:c.email}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:c.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-2 sm:p-3 rounded-lg",children:[e.jsx("p",{className:"text-blue-600 text-xs font-semibold",children:"Join Date"}),e.jsx("p",{className:"text-sm sm:text-base font-bold text-blue-900 mt-0.5",children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.joinDate||"N/A"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-2 sm:p-3 rounded-lg",children:[e.jsx("p",{className:"text-green-600 text-xs font-semibold",children:"Status"}),e.jsx("p",{className:"text-sm sm:text-base font-bold text-green-900 mt-0.5",children:c.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-2 sm:p-3 rounded-lg",children:[e.jsx("p",{className:"text-indigo-600 text-xs font-semibold",children:"Email Verified"}),e.jsx("p",{className:"text-sm sm:text-base font-bold text-indigo-900 mt-0.5",children:c.isEmailVerified?"Yes":"No"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-2 sm:p-3 rounded-lg",children:[e.jsx("p",{className:"text-purple-600 text-xs font-semibold",children:"Phone Verified"}),e.jsx("p",{className:"text-sm sm:text-base font-bold text-purple-900 mt-0.5",children:c.isPhoneVerified?"Yes":"No"})]})]}),c.panCard&&e.jsxs("div",{className:"border-t pt-3 sm:pt-4",children:[e.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[c.panCard&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"PAN Card:"})," ",c.panCard]}),c.aadharCard&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Aadhar Card:"})," ",c.aadharCard]}),c.city&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",c.city]}),c.state&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"State:"})," ",c.state]})]})]})]})]})})]})},iu=()=>{const[n,s]=xe.useState("all"),[r,i]=xe.useState("all"),[l,o]=xe.useState(""),[c,m]=xe.useState(!1),[u,b]=xe.useState(null),[v,y]=xe.useState(1),k=6,[x,M]=xe.useState([]),[E,T]=xe.useState(!0),[S,L]=xe.useState(null),[X,re]=xe.useState(0),[ue,ve]=xe.useState(1),[de,$]=xe.useState(!1),[ie,Z]=xe.useState(null),[f,_]=xe.useState([]),[D,g]=xe.useState(0),[I,z]=xe.useState(null),[te,H]=xe.useState(!1),[W,G]=xe.useState(null),[V,j]=xe.useState({totalPending:0,totalUnderReview:0,totalApproved:0,totalRejected:0,totalDisbursed:0,homeLoanCount:0,personalLoanCount:0,businessLoanCount:0,shortTermLoanCount:0});xe.useEffect(()=>{if(!ie||!De(ie)){z(null);return}return(async()=>{try{H(!0);const ke=localStorage.getItem("access_token"),Ee=`http://localhost:8000/api/admin/loan-management/download-document/documents/${ie.split("/").pop()}`,Ve=await fetch(Ee,{headers:{Authorization:`Bearer ${ke}`}});if(Ve.ok){const Ke=await Ve.blob(),Xe=URL.createObjectURL(Ke);z(Xe)}else console.error("Failed to load image:",Ve.status),z(null)}catch(ke){console.error("Error loading document image:",ke),z(null)}finally{H(!1)}})(),()=>{I&&I.startsWith("blob:")&&URL.revokeObjectURL(I)}},[ie]);const F=async()=>{try{T(!0),L(null);const me=localStorage.getItem("access_token"),ke=me?{Authorization:`Bearer ${me}`}:{};let _e=new URLSearchParams({page:v.toString(),limit:k.toString(),_t:new Date().getTime().toString()});n&&n!=="all"&&_e.append("status",n),r&&r!=="all"&&_e.append("loan_type",r),l&&_e.append("search",l);const Ee=await fetch(`http://127.0.0.1:8000/api/admin/loan-management/applications?${_e}`,{headers:ke,cache:"no-store"});if(!Ee.ok)throw new Error(`Failed to fetch loans: ${Ee.status}`);const Ve=await Ee.json();let Ke=Ve.applications||[];Ke=Ke.filter(Re=>{const Ye=Re.customer&&Re.email&&(Re.type||Re.loan_type),Be=Re.loanAmount&&parseFloat(Re.loanAmount)>1e8&&!Re.id;return Ye&&!Be});const Xe=Ke.map(Re=>{const Ye={"Personal Loan":"personal",Personal:"personal","Home Loan":"home",Home:"home","Business Loan":"business",Business:"business","Short-term Loan":"short-term","Short Term":"short-term","short-term":"short-term"};return{id:Re.id||Re._id,applicationId:Re.id||Re._id,customer:Re.customer||"Unknown",email:Re.email||"",phone:Re.phone||"",type:Re.type||"Personal Loan",loanTypeKey:Ye[Re.type]||"personal",amount:typeof Re.amount=="string"?Re.amount:`‚Çπ${parseFloat(Re.amount||0).toLocaleString()}`,status:Re.status||"Pending",appliedDate:Re.appliedDate||"N/A",tenure:Re.tenure||"N/A",interestRate:Re.interestRate||"8.5%",purpose:Re.purpose||"N/A",income:Re.income||"N/A",cibilScore:Re.cibilScore||750,documents:Re.documents||[],rejectionReason:Re.rejectionReason||null}});M(Xe),re(Ve.total||0),ve(Ve.totalPages||1)}catch(me){console.error("Error loading loans:",me),L("Failed to load loan applications. Please try again."),M([])}finally{T(!1)}},O=async()=>{try{const me=localStorage.getItem("access_token"),ke=me?{Authorization:`Bearer ${me}`}:{},_e=await fetch("http://127.0.0.1:8000/api/admin/loan-management/statistics",{headers:ke});if(!_e.ok)throw new Error(`Failed to fetch statistics: ${_e.status}`);const Ee=await _e.json();j({totalPending:Ee.pendingApplications||Ee.totalPending||0,totalUnderReview:Ee.underReviewApplications||Ee.totalUnderReview||0,totalApproved:Ee.approvedApplications||Ee.totalApproved||0,totalRejected:Ee.rejectedApplications||Ee.totalRejected||0,totalDisbursed:Ee.disbursedApplications||Ee.totalDisbursed||0,homeLoanCount:Ee.homeLoanCount||0,personalLoanCount:Ee.personalLoanCount||0,businessLoanCount:Ee.businessLoanCount||0,shortTermLoanCount:Ee.shortTermLoanCount||0})}catch(me){console.error("Error loading statistics:",me),j({totalPending:0,totalUnderReview:0,totalApproved:0,totalRejected:0,totalDisbursed:0,homeLoanCount:0,personalLoanCount:0,businessLoanCount:0,shortTermLoanCount:0})}};xe.useEffect(()=>{F(),O()},[]),xe.useEffect(()=>{F()},[v]),xe.useEffect(()=>{y(1)},[n,r,l]),xe.useEffect(()=>{v===1&&F()},[n,r,l]);const K=async()=>{await F(),await O()},J=x,ne=async(me,ke)=>{try{const _e=localStorage.getItem("access_token");let Ee,Ve=ke;ke.startsWith("/uploads/")?(Ee=`http://localhost:8000/api/admin/loan-management/download-document/${ke.substring(1)}`,Ve=ke.split("/").pop()):ke.startsWith("http")?Ee=ke:(Ee=`http://localhost:8000/api/admin/loan-management/download-document/documents/${ke}`,Ve=ke);const Ke=await fetch(Ee,{headers:{Authorization:`Bearer ${_e}`}});if(Ke.ok){const Xe=await Ke.blob(),Re=window.URL.createObjectURL(Xe),Ye=document.createElement("a");Ye.href=Re,Ye.download=Ve,document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),window.URL.revokeObjectURL(Re);return}else if(Ke.status===404){console.warn("Document not found at path, trying alternate locations");const Xe=`http://localhost:8000/uploads/documents/${ke.split("/").pop()}`,Re=await fetch(Xe,{headers:{Authorization:`Bearer ${_e}`}});if(Re.ok){const Ye=await Re.blob(),Be=window.URL.createObjectURL(Ye),kt=document.createElement("a");kt.href=Be,kt.download=Ve,document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),window.URL.revokeObjectURL(Be);return}}alert("‚ùå Failed to download document. Please check the file path and try again.")}catch(_e){console.error("Error downloading document:",_e),alert("‚ùå Failed to download document. Please try again.")}},se=(me,ke,_e=null)=>{if(!me||me.length===0){alert("No documents available");return}_(me);const Ee=me.indexOf(ke);g(Ee>=0?Ee:0),Z(me[Ee>=0?Ee:0]),G(_e||u?.id||null),$(!0)},Ne=()=>{if(D<f.length-1){const me=D+1;g(me),Z(f[me])}},Ce=()=>{if(D>0){const me=D-1;g(me),Z(f[me])}},De=me=>me?[".jpg",".jpeg",".png",".gif",".webp",".bmp"].some(_e=>me.toLowerCase().endsWith(_e)):!1,be=me=>me?me.toLowerCase().endsWith(".pdf"):!1,we=async(me,ke,_e,Ee=null)=>{try{const Ve=localStorage.getItem("access_token"),Xe={personal:"http://127.0.0.1:8000/api/personal-loan/applications",home:"http://127.0.0.1:8000/api/home-loan/applications",business:"http://127.0.0.1:8000/api/business-loan/applications","short-term":"http://127.0.0.1:8000/api/short-term-loan/applications"}[ke];if(!Xe)throw new Error(`Invalid loan type: ${ke}`);const Re=`${Xe}/${me}/status`,Ye={status:_e.toLowerCase()};_e.toLowerCase()==="rejected"&&Ee&&(Ye.rejectionReason=Ee);const Be=await fetch(Re,{method:"PATCH",headers:{Authorization:`Bearer ${Ve}`,"Content-Type":"application/json"},body:JSON.stringify(Ye)});if(!Be.ok){const kt=await Be.json().catch(()=>({}));throw new Error(kt.detail||`HTTP ${Be.status}: ${Be.statusText}`)}return await Be.json()}catch(Ve){throw console.error("Error updating loan status:",Ve),Ve}},Q=async me=>{try{const ke=u||x.find(_e=>_e.id===me);if(!ke){alert("Error: Loan not found");return}if(!ke.loanTypeKey){alert("Error: Loan type information not available");return}if(window.confirm(`Are you sure you want to approve this loan? (${me})`)){const _e=await we(me,ke.loanTypeKey,"Approved");alert(`‚úÖ Loan ${me} has been approved successfully!`),await F(),await O(),c&&m(!1)}}catch(ke){console.error("Error approving loan:",ke),alert(`‚ùå Error approving loan: ${ke.message}`)}},q=async me=>{try{const ke=u||x.find(Ee=>Ee.id===me);if(!ke){alert("Error: Loan not found");return}if(!ke.loanTypeKey){alert("Error: Loan type information not available");return}const _e=prompt("Please enter rejection reason:");if(!_e||_e.trim()===""){alert("‚ùå Rejection reason is required");return}if(window.confirm(`Are you sure you want to reject this loan? (${me})`)){const Ee=await we(me,ke.loanTypeKey,"Rejected",_e);alert(`‚ùå Loan ${me} has been rejected!`),await F(),await O(),c&&m(!1)}}catch(ke){console.error("Error rejecting loan:",ke),alert(`‚ùå Error rejecting loan: ${ke.message}`)}},He=async me=>{try{const ke=u||x.find(_e=>_e.id===me);if(!ke){alert("Error: Loan not found");return}if(!ke.loanTypeKey){alert("Error: Loan type information not available");return}if(window.confirm(`Are you sure you want to move this loan to review? (${me})`)){const _e=await we(me,ke.loanTypeKey,"Under Review");alert(`üìã Loan ${me} is now under review.`),await F(),await O(),c&&m(!1)}}catch(ke){console.error("Error updating loan:",ke),alert(`‚ùå Error updating loan: ${ke.message}`)}},Me=async me=>{try{const ke=u||x.find(_e=>_e.id===me);if(!ke){alert("Error: Loan not found");return}if(!ke.loanTypeKey){alert("Error: Loan type information not available");return}if(window.confirm(`Are you sure you want to disburse this loan? (${me})`)){const _e=await we(me,ke.loanTypeKey,"Disbursed");alert(`üí∞ Loan ${me} has been disbursed successfully!`),await F(),await O(),c&&m(!1)}}catch(ke){console.error("Error disbursing loan:",ke),alert(`‚ùå Error disbursing loan: ${ke.message}`)}},Ae=async()=>{try{const me=x.map(Xe=>({ID:Xe.id||"",Customer:Xe.customer||"",Type:Xe.type||"",Amount:Xe.amount||"",Status:Xe.status||"","Applied Date":Xe.appliedDate||"",Tenure:Xe.tenure||"","Interest Rate":Xe.interestRate||""})),ke=Object.keys(me[0]),_e=[ke.join(","),...me.map(Xe=>ke.map(Re=>{const Ye=Xe[Re];return`"${String(Ye).replace(/"/g,'""')}"`}).join(","))].join(`
`),Ee=new Blob([_e],{type:"text/csv"}),Ve=window.URL.createObjectURL(Ee),Ke=document.createElement("a");Ke.href=Ve,Ke.download=`loan-applications-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),window.URL.revokeObjectURL(Ve)}catch(me){console.error("Error exporting CSV:",me),alert("Failed to export data. Please try again.")}},Te=me=>{b(me),m(!0)},Oe=me=>{switch(me){case"Pending":return"bg-yellow-100 text-yellow-700";case"Under Review":return"bg-blue-100 text-blue-700";case"Approved":return"bg-green-100 text-green-700";case"Rejected":return"bg-red-100 text-red-700";case"Disbursed":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 rounded-2xl p-4 sm:p-6 space-y-4 sm:space-y-6 shadow-lg ${c?"overflow-hidden":""}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Loan Management"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:["Review and manage all loan applications (Total: ",X,")"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:K,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",title:"Refresh data",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:Ae,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Export"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-600 text-xs sm:text-sm font-semibold",children:"Pending"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-yellow-900 mt-1 sm:mt-2",children:V.totalPending})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-3 sm:p-4 md:p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-xs sm:text-sm font-semibold",children:"Under Review"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 mt-1 sm:mt-2",children:V.totalUnderReview})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-3 sm:p-4 md:p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-xs sm:text-sm font-semibold",children:"Approved"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-900 mt-1 sm:mt-2",children:V.totalApproved})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-3 sm:p-4 md:p-6 border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 text-xs sm:text-sm font-semibold",children:"Rejected"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-red-900 mt-1 sm:mt-2",children:V.totalRejected})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-3 sm:p-4 md:p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-600 text-xs sm:text-sm font-semibold",children:"Disbursed"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-purple-900 mt-1 sm:mt-2",children:V.totalDisbursed})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-5 border border-orange-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-600 text-xs sm:text-sm font-semibold",children:"üè† Home Loans"}),e.jsx("p",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-orange-900 mt-1",children:V.homeLoanCount})]})})}),e.jsx("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-5 border border-cyan-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-600 text-xs sm:text-sm font-semibold",children:"üë§ Personal Loans"}),e.jsx("p",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-cyan-900 mt-1",children:V.personalLoanCount})]})})}),e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-5 border border-indigo-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-600 text-xs sm:text-sm font-semibold",children:"üíº Business Loans"}),e.jsx("p",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-indigo-900 mt-1",children:V.businessLoanCount})]})})}),e.jsx("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-5 border border-pink-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-pink-600 text-xs sm:text-sm font-semibold",children:"‚ö° Short-term Loans"}),e.jsx("p",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-pink-900 mt-1",children:V.shortTermLoanCount})]})})})]}),e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-md p-3 sm:p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Search by customer name, loan ID, or type...",value:l,onChange:me=>{o(me.target.value)},className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Filter by Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","under review","approved","rejected","disbursed"].map(me=>e.jsx("button",{onClick:()=>s(me),className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-lg font-semibold transition-all duration-300 capitalize ${n===me?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:me},me))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Filter by Loan Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Types",icon:"üìä"},{key:"home",label:`Home Loans (${V.homeLoanCount})`,icon:"üè†"},{key:"personal",label:`Personal Loans (${V.personalLoanCount})`,icon:"üë§"},{key:"business",label:`Business Loans (${V.businessLoanCount})`,icon:"üíº"},{key:"short-term",label:`Short-term Loans (${V.shortTermLoanCount})`,icon:"‚ö°"}].map(me=>e.jsxs("button",{onClick:()=>i(me.key),className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-lg font-semibold transition-all duration-300 ${r===me.key?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"mr-1",children:me.icon}),me.label]},me.key))})]}),(n!=="all"||r!=="all"||l)&&e.jsxs("div",{className:"text-sm text-gray-600 pt-2 border-t border-gray-200",children:["Showing ",e.jsx("span",{className:"font-semibold",children:x.length})," application(s)",n!=="all"&&` with status "${n}"`,r!=="all"&&` and loan type "${r}"`,l&&` matching "${l}"`]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[E?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(Ei,{className:"w-8 h-8 animate-spin text-green-600 mr-3"}),e.jsx("p",{className:"text-gray-600",children:"Loading loan applications..."})]}):S?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(hs,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-semibold",children:S}),e.jsx("button",{onClick:F,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Retry"})]}):J.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(hs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No loan applications found"})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Loan ID"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hidden md:table-cell",children:"Type"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hidden lg:table-cell",children:"Applied Date"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:J.map(me=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4",children:e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:me.id})}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-bold flex-shrink-0",children:me.customer?.charAt(0)||"L"}),e.jsx("div",{className:"min-w-0",children:e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:me.customer})})]})}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-xs sm:text-sm text-gray-600 hidden md:table-cell",children:me.type}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4",children:e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:me.amount?.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4 text-xs sm:text-sm text-gray-600 hidden lg:table-cell",children:me.appliedDate}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4",children:e.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${Oe(me.status)}`,children:me.status})}),e.jsx("td",{className:"px-3 sm:px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("button",{onClick:()=>Te(me),className:"p-1.5 sm:p-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105",title:"View Details",children:e.jsxs("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>{b(me),Q(me.id)},className:"p-1.5 sm:p-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105",title:"Approve",children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("button",{onClick:()=>{b(me),q(me.id)},className:"p-1.5 sm:p-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow hover:shadow-lg transition-all duration-300 transform hover:scale-105",title:"Reject",children:e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]},me.id))})]})})}),!E&&!S&&ue>1&&e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-700",children:[e.jsxs("span",{className:"font-semibold",children:["Page ",v]})," of ",e.jsx("span",{className:"font-semibold",children:ue}),"(Showing ",e.jsx("span",{className:"font-semibold",children:J.length>0?(v-1)*k+1:0})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(v*k,X)})," of"," ",e.jsx("span",{className:"font-semibold",children:X})," total)"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>y(me=>Math.max(me-1,1)),disabled:v===1,className:`px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-300 ${v===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 shadow hover:shadow-lg"}`,children:[e.jsx(qi,{className:"w-4 h-4 inline sm:mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),[...Array(ue)].map((me,ke)=>{const _e=ke+1;return _e===1||_e===ue||_e>=v-1&&_e<=v+1?e.jsx("button",{onClick:()=>y(_e),className:`px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-300 ${v===_e?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_e},_e):_e===v-2||_e===v+2?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},_e):null}),e.jsxs("button",{onClick:()=>y(me=>Math.min(me+1,ue)),disabled:v===ue,className:`px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-300 ${v===ue?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 shadow hover:shadow-lg"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(Bi,{className:"w-4 h-4 inline sm:ml-1"})]})]})]})})]}),c&&u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 overflow-hidden",children:e.jsxs("div",{className:"bg-white  shadow-2xl max-w-2xl w-full max-h-[80vh] border-2 border-green-600 border-opacity-50 flex flex-col",children:[e.jsxs("div",{className:`px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between sticky top-0 z-10 shadow-md ${u.status==="Approved"?"bg-gradient-to-r from-green-600 to-emerald-600":u.status==="Rejected"?"bg-gradient-to-r from-red-600 to-red-700":u.status==="Disbursed"?"bg-gradient-to-r from-purple-600 to-purple-700":u.status==="Under Review"?"bg-gradient-to-r from-blue-600 to-blue-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"} flex-shrink-0`,children:[e.jsxs("div",{className:"min-w-0 flex-1 mr-2",children:[e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white truncate",children:"Loan Application Details"}),e.jsx("p",{className:"text-xs sm:text-sm text-green-100",children:u.id})]}),e.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white/20 p-1.5 sm:p-2 rounded-lg transition-colors flex-shrink-0",children:e.jsx(Oi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto flex-1",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Name"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900 break-words",children:u.customer})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Email"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900 break-all",children:u.email})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Phone"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:u.phone})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Monthly Income"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:u.income})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3",children:"Loan Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-3 sm:p-4 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-green-600 text-xs sm:text-sm font-semibold",children:"Loan Amount"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-900 mt-1",children:u.amount})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-3 sm:p-4 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-blue-600 text-xs sm:text-sm font-semibold",children:"Loan Type"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-blue-900 mt-1",children:u.type})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-3 sm:p-4 rounded-lg border border-indigo-200",children:[e.jsx("p",{className:"text-indigo-600 text-xs sm:text-sm font-semibold",children:"Tenure"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-indigo-900 mt-1",children:u.tenure})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 sm:p-4 rounded-lg border border-purple-200",children:[e.jsx("p",{className:"text-purple-600 text-xs sm:text-sm font-semibold",children:"Interest Rate"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-purple-900 mt-1",children:u.interestRate})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Applied Date"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:u.appliedDate})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Purpose"}),e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:u.purpose})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3",children:"Uploaded Documents"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"space-y-2",children:u.documents&&u.documents.length>0?u.documents.map((me,ke)=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(as,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 break-all",children:me})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>se(u.documents,me,u.id),className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",title:"View Document",children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"View"})]}),e.jsxs("button",{onClick:()=>ne(u.id,me),className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-green-600 hover:bg-green-100 rounded-lg text-sm font-medium transition-colors",title:"Download Document",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})]},ke)):e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No documents uploaded"})})})]}),u.rejectionReason&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-red-900 mb-3",children:"Rejection Reason"}),e.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:u.rejectionReason})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3",children:"Current Status"}),e.jsx("div",{className:`p-4 rounded-lg border-2 ${u.status==="Approved"?"bg-green-50 border-green-200":u.status==="Rejected"?"bg-red-50 border-red-200":u.status==="Disbursed"?"bg-purple-50 border-purple-200":u.status==="Under Review"?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-200"}`,children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold ${Oe(u.status)}`,children:[u.status==="Approved"&&e.jsx(dt,{className:"w-5 h-5"}),u.status==="Rejected"&&e.jsx(St,{className:"w-5 h-5"}),u.status==="Under Review"&&e.jsx(hs,{className:"w-5 h-5"}),u.status==="Pending"&&e.jsx(ls,{className:"w-5 h-5"}),u.status==="Disbursed"&&e.jsx(dt,{className:"w-5 h-5"}),u.status]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-4 border-t flex-shrink-0",children:[u.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>He(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 transform hover:scale-105",children:[e.jsx(hs,{className:"w-5 h-5"}),"Move to Review"]}),e.jsxs("button",{onClick:()=>Q(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(dt,{className:"w-5 h-5"}),"Approve"]}),e.jsxs("button",{onClick:()=>q(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(St,{className:"w-5 h-5"}),"Reject"]})]}),u.status==="Under Review"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Q(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(dt,{className:"w-5 h-5"}),"Approve Loan"]}),e.jsxs("button",{onClick:()=>q(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(St,{className:"w-5 h-5"}),"Reject Loan"]})]}),u.status==="Approved"&&e.jsxs("button",{onClick:()=>Me(u.id),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(Nd,{className:"w-5 h-5"}),"Disburse Loan"]}),e.jsx("button",{onClick:()=>m(!1),className:"px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-semibold transition-all duration-300",children:"Close"})]})]})]})}),de&&ie&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col border-2 border-blue-600 border-opacity-50",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-4 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 flex-shrink-0 border-b border-blue-200",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white truncate",children:"Document Viewer"}),e.jsxs("p",{className:"text-xs sm:text-sm text-blue-100 truncate",children:["Document ",D+1," of ",f.length]}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-100 truncate mt-1",children:ie})]}),e.jsx("button",{onClick:()=>$(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-colors flex-shrink-0 ml-2",children:e.jsx(Oi,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-auto flex items-center justify-center bg-gray-100 p-4 sm:p-6",children:De(ie)?e.jsx("div",{className:"flex flex-col items-center",children:te?e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ei,{className:"w-12 h-12 text-blue-600 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Loading document..."})]}):I?e.jsx("img",{src:I,alt:ie,onError:me=>{me.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy="0.3em" font-family="sans-serif" font-size="16" fill="%239ca3af"%3EImage not found or error loading%3C/text%3E%3C/svg%3E'},className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}):e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(hs,{className:"w-12 h-12 text-red-600"}),e.jsx("p",{className:"text-gray-700 font-semibold",children:"Failed to load image"}),e.jsx("p",{className:"text-gray-600 text-sm",children:ie})]})}):be(ie)?e.jsxs("div",{className:"text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(as,{className:"w-12 h-12 text-red-600"})}),e.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:ie}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"PDF Document"}),e.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[e.jsxs("button",{onClick:()=>ne(W||"",ie),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[e.jsx(is,{className:"w-4 h-4"}),"Download PDF"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click download to view the PDF file"})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(as,{className:"w-12 h-12 text-gray-600"})}),e.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:ie}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Document type not supported for preview"}),e.jsxs("button",{onClick:()=>ne(W||"",ie),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[e.jsx(is,{className:"w-4 h-4"}),"Download Document"]})]})}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 flex items-center justify-between bg-gray-50 border-t flex-shrink-0 flex-wrap gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[e.jsx("button",{onClick:Ce,disabled:D===0,className:`p-2 rounded-lg transition-colors ${D===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:"Previous Document",children:e.jsx(qi,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 px-2 min-w-fit",children:[D+1," / ",f.length]}),e.jsx("button",{onClick:Ne,disabled:D===f.length-1,className:`p-2 rounded-lg transition-colors ${D===f.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:"Next Document",children:e.jsx(Bi,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>{ne(W||"",ie)},className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]}),e.jsx("button",{onClick:()=>$(!1),className:"flex-1 sm:flex-none px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition-colors",children:"Close"})]})]})]})})]})},La="http://localhost:8000/api",ou=()=>{const[n,s]=xe.useState("all"),[r,i]=xe.useState("all"),[l,o]=xe.useState(""),[c,m]=xe.useState(!1),[u,b]=xe.useState(null),[v,y]=xe.useState(!1),[k,x]=xe.useState(null),[M,E]=xe.useState([]),[T,S]=xe.useState({totalPolicies:0,activePolicies:0,pendingPolicies:0,expiredPolicies:0,totalClaims:0,premiumCollected:"‚Çπ0"}),[L,X]=xe.useState(1),[re,ue]=xe.useState(0),ve=6,de=async()=>{try{const I=await fetch(`${La}/admin/insurance-management/statistics`);if(I.ok){const z=await I.json();S(z)}}catch(I){console.error("Error fetching statistics:",I)}},$=async()=>{y(!0),x(null);try{const I=new URLSearchParams;n!=="all"&&I.append("type",n),r!=="all"&&I.append("status",r),l&&I.append("search",l),I.append("skip",(L-1)*ve),I.append("limit",ve);const z=await fetch(`${La}/admin/insurance-management/policies?${I}`);if(z.ok){const te=await z.json();E(te.policies),ue(te.total)}else x("Failed to fetch policies")}catch(I){console.error("Error fetching policies:",I),x("Error connecting to server")}finally{y(!1)}};xe.useEffect(()=>{de()},[]),xe.useEffect(()=>{$()},[n,r,l,L]);const ie=I=>{b(I),m(!0)},Z=async(I,z)=>{try{(await fetch(`${La}/admin/insurance-management/policies/${I}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z,remarks:`Status updated to ${z} by admin`})})).ok?(alert(`Policy status updated to ${z}`),$(),de()):alert("Failed to update policy status")}catch(te){console.error("Error updating policy status:",te),alert("Error updating policy status")}},f=async(I,z)=>{try{const te=localStorage.getItem("access_token"),H=encodeURIComponent(z),W=`${La}/admin/insurance-management/documents/download/${I}/${H}`;console.log("Downloading from:",W);const G=await fetch(W,{method:"GET",headers:{Authorization:te?`Bearer ${te}`:""}});if(G.ok){const V=await G.blob(),j=window.URL.createObjectURL(V),F=document.createElement("a"),O=z.split("\\").pop().split("/").pop();F.href=j,F.download=O,document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL(j),console.log("File downloaded successfully")}else if(G.status===404){const V=await G.json().catch(()=>({}));console.error("Download error:",V),alert("Document not found on server. Please ensure the file has been uploaded correctly.")}else{const V=await G.text();console.error("Server error:",V),alert(`Failed to download document: ${G.statusText}`)}}catch(te){console.error("Error downloading document:",te),alert("Failed to download document. Please check console for details.")}},_=async()=>{try{const I=new URLSearchParams;n!=="all"&&I.append("type",n),r!=="all"&&I.append("status",r);const z=await fetch(`${La}/admin/insurance-management/policies/export/csv?${I}`);if(z.ok){const H=(await z.json()).policies,G=[["ID","Customer","Type","Premium","Coverage","Status","Start Date","End Date"].join(","),...H.map(O=>[O.id||O.policyId,O.customer,O.type,O.premium,O.coverage,O.status,O.startDate,O.endDate].join(","))].join(`
`),V=new Blob([G],{type:"text/csv"}),j=window.URL.createObjectURL(V),F=document.createElement("a");F.href=j,F.download="insurance-policies.csv",F.click(),window.URL.revokeObjectURL(j)}else alert("Failed to export policies")}catch(I){console.error("Error exporting policies:",I),alert("Error exporting policies")}},D=I=>{switch(I){case"Active":return"bg-green-100 text-green-700";case"Pending":return"bg-yellow-100 text-yellow-700";case"Expired":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},g=Math.ceil(re/ve);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Insurance Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage insurance policies and claims"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold shadow-lg transition-all duration-300",children:[e.jsx(hl,{className:"w-5 h-5"}),"Refresh"]}),e.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[e.jsx(is,{className:"w-5 h-5"}),"Export"]})]})]}),k&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:k}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by customer name, policy ID, or email...",value:l,onChange:I=>{o(I.target.value),X(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:r,onChange:I=>{i(I.target.value),X(1)},className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm font-semibold",children:"Total Policies"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:T.totalPolicies.toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-sm font-semibold",children:"Active Policies"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:T.activePolicies.toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-600 text-sm font-semibold",children:"Total Claims"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:T.totalClaims})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-6 border border-indigo-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-600 text-sm font-semibold",children:"Premium Collected"}),e.jsx("p",{className:"text-3xl font-bold text-indigo-900 mt-2",children:T.premiumCollected})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","Term Insurance","Health Insurance","Motor Insurance"].map(I=>e.jsx("button",{onClick:()=>{s(I),X(1)},className:`px-4 py-2 rounded-lg font-semibold transition-all duration-300 capitalize ${n===I?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:I},I))})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Insurance Policies"}),e.jsx("p",{className:"text-sm text-gray-600",children:v?"Loading...":`Showing ${M.length} of ${re} policies`})]}),v&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!v&&M.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(hs,{className:"w-16 h-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"No policies found"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your filters"})]}),!v&&M.length>0&&e.jsx("div",{className:"block lg:hidden",children:e.jsx("div",{className:"divide-y divide-gray-200",children:M.map(I=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:I.customer.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:I.customer}),e.jsxs("p",{className:"text-xs text-gray-500",children:["#",I.id||I.policyId]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D(I.status)}`,children:I.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:I.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Premium"}),e.jsx("p",{className:"font-semibold text-gray-900",children:I.premium})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Coverage"}),e.jsx("p",{className:"font-semibold text-gray-900",children:I.coverage})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Valid Till"}),e.jsx("p",{className:"font-medium text-gray-700",children:I.endDate})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>ie(I),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View"]}),e.jsxs("button",{onClick:()=>Z(I.id||I.policyId,"Active"),disabled:I.status==="Active",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>Z(I.id||I.policyId,"Expired"),disabled:I.status==="Expired",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(St,{className:"w-4 h-4"}),"Reject"]})]})]},I.id||I.policyId))})}),!v&&M.length>0&&e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Premium"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Coverage"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Valid Till"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"font-mono text-sm text-gray-700",children:["#",I.id||I.policyId]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:I.customer.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:I.customer}),e.jsx("p",{className:"text-sm text-gray-600",children:I.phone})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.type})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:I.premium})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:I.coverage})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm text-gray-700",children:I.endDate})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D(I.status)}`,children:I.status})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>ie(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ls,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z(I.id||I.policyId,"Active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Approve",disabled:I.status==="Active",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z(I.id||I.policyId,"Expired"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reject",disabled:I.status==="Expired",children:e.jsx(St,{className:"w-4 h-4"})})]})})]},I.id||I.policyId))})]})}),!v&&g>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*ve+1," to ",Math.min(L*ve,re)," of ",re," policies"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>X(I=>Math.max(I-1,1)),disabled:L===1,className:`p-2 rounded-lg font-semibold transition-all duration-300 ${L===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white transform hover:scale-105"}`,children:e.jsx(qi,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(g)].map((I,z)=>{const te=z+1;return te===1||te===g||te>=L-1&&te<=L+1?e.jsx("button",{onClick:()=>X(te),className:`w-10 h-10 rounded-lg font-semibold transition-all duration-300 ${L===te?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg transform scale-110":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:te},te):te===L-2||te===L+2?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},te):null})}),e.jsx("button",{onClick:()=>X(I=>Math.min(I+1,g)),disabled:L===g,className:`p-2 rounded-lg font-semibold transition-all duration-300 ${L===g?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white transform hover:scale-105"}`,children:e.jsx(Bi,{className:"w-5 h-5"})})]})]})]}),c&&u&&e.jsx("div",{className:"fixed inset-0 bg-transparent z-50 flex items-center justify-center p-4",onClick:()=>m(!1),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto border-2 border-blue-500 w-full max-w-3xl",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-xl",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Policy Details"}),e.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:e.jsx(Oi,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"üë§"}),"Customer Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.customer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${D(u.status)}`,children:u.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Policy Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Policy ID"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.id||u.policyId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Insurance Type"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Premium"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.premium})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Coverage"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.coverage})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Start Date"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.startDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"End Date"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.endDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Nominee"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.nominee})]})]})]}),u.documents&&u.documents.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Uploaded Documents"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"space-y-2",children:u.documents.map((I,z)=>{const te=typeof I=="string"?I:I.name||I.filename||"Unknown",H=te.split("\\").pop().split("/").pop();return e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 break-all",children:H}),e.jsx("span",{className:"text-xs text-gray-500 block",children:te})]})]}),e.jsxs("button",{onClick:()=>f(u.id||u.policyId,te),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ml-2",children:[e.jsx(is,{className:"w-4 h-4"}),"Download"]})]},z)})})})]}),(!u.documents||u.documents.length===0)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Uploaded Documents"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-center text-gray-600",children:e.jsx("p",{children:"No documents uploaded for this policy"})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:()=>{Z(u.id||u.policyId,"Active"),m(!1)},className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:u.status==="Active",children:[e.jsx(dt,{className:"w-5 h-5"}),"Approve"]}),e.jsxs("button",{onClick:()=>{Z(u.id||u.policyId,"Expired"),m(!1)},className:"flex-1 flex items-center justify-center gap-2 bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:u.status==="Expired",children:[e.jsx(St,{className:"w-5 h-5"}),"Reject"]})]})]})]})})]})},lu=()=>{const[n,s]=xe.useState([]),[r,i]=xe.useState(!1),[l,o]=xe.useState(""),[c,m]=xe.useState("all"),[u,b]=xe.useState("all"),[v,y]=xe.useState(1),[k,x]=xe.useState(null),[M,E]=xe.useState(!1),[T,S]=xe.useState(!1),[L,X]=xe.useState([]),[re,ue]=xe.useState(!1),[ve,de]=xe.useState({totalAUM:"‚Çπ0",activeInvestors:0,activeSIPs:0,avgReturn:"+0%"}),[$,ie]=xe.useState({customer:"",email:"",phone:"",fundName:"",type:"Mutual Funds",amount:"",totalInvested:"",returns:"",startDate:"",tenure:"",status:"Pending",documents:[]}),Z=6;xe.useEffect(()=>{f(),_()},[]);const f=async()=>{try{const J=localStorage.getItem("access_token"),ne=await fetch("http://127.0.0.1:8000/api/admin/investments/stats",{headers:{Authorization:`Bearer ${J}`}}),se=await ne.json();ne.ok&&de({totalAUM:se.totalAUM||"‚Çπ0",activeInvestors:se.activeInvestors||0,activeSIPs:se.totalInvestments||0,avgReturn:se.avgReturn||"+0%"})}catch(J){console.error("Error fetching stats:",J)}},_=async()=>{i(!0);try{const J=localStorage.getItem("access_token"),[ne,se]=await Promise.all([fetch("http://127.0.0.1:8000/api/mutual-funds/application/all",{method:"GET",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}}),fetch("http://127.0.0.1:8000/api/sip/application/all",{method:"GET",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}})]),Ne=await ne.json(),Ce=await se.json(),De=(Ne.applications||Ne.data||[]).map(Q=>({id:Q._id||Q.id,customer:Q.name||"",email:Q.email||"",phone:Q.phone||"",fundName:Q.investmentType==="sip"?"SIP Investment":"Mutual Fund",type:"Mutual Funds",amount:Q.investmentType==="sip"?`‚Çπ${Q.sipAmount||0}`:`‚Çπ${Q.investmentAmount||0}`,totalInvested:Q.investmentType==="sip"?`‚Çπ${(Q.sipAmount*12*(Q.tenure||1)||0).toLocaleString("en-IN")}`:`‚Çπ${Q.investmentAmount||0}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),returns:Q.riskProfile==="Low"?"+8%":Q.riskProfile==="Medium"?"+10%":"+12%",startDate:Q.createdAt?new Date(Q.createdAt).toLocaleDateString():new Date().toLocaleDateString(),tenure:Q.tenure?`${Q.tenure} Years`:"N/A",status:Q.status==="submitted"?"Pending":Q.status||"Pending",documents:Q.documents||[]})),be=(Ce.applications||Ce.data||[]).map(Q=>({id:Q._id||Q.id,customer:Q.name||"",email:Q.email||"",phone:Q.phone||"",fundName:"SIP Investment",type:"SIP",amount:`‚Çπ${Q.sipAmount||0}`,totalInvested:`‚Çπ${(Q.sipAmount*12*(Q.tenure||1)||0).toLocaleString("en-IN")}`,returns:"+10%",startDate:Q.createdAt?new Date(Q.createdAt).toLocaleDateString():new Date().toLocaleDateString(),tenure:`${Q.tenure||0} Years`,status:Q.status==="submitted"?"Pending":Q.status||"Pending",documents:Q.documents||[]})),we=[...De,...be];s(we)}catch(J){console.error("Error fetching investments:",J),s([])}finally{i(!1)}},D=n.filter(J=>{if(u!=="all"&&J.type!==u||c!=="all"&&J.status!==c)return!1;if(l){const ne=l.toLowerCase();return J.customer?.toLowerCase().includes(ne)||J.email?.toLowerCase().includes(ne)||J.fundName?.toLowerCase().includes(ne)}return!0}),g=Math.ceil(D.length/Z),I=(v-1)*Z,z=D.slice(I,I+Z),te=J=>{const ne={Active:"bg-green-100 text-green-700 border-green-300",Pending:"bg-yellow-100 text-yellow-700 border-yellow-300",Completed:"bg-blue-100 text-blue-700 border-blue-300",Cancelled:"bg-red-100 text-red-700 border-red-300"};return e.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${ne[J]||ne.Active} flex items-center gap-1 w-fit`,children:[J==="Active"&&e.jsx(dt,{className:"w-3 h-3"}),J==="Pending"&&e.jsx(ls,{className:"w-3 h-3"}),J]})},H=J=>{x(J),E(!0),W(J.id)},W=async J=>{ue(!0);try{const ne=localStorage.getItem("access_token"),se=await fetch(`http://127.0.0.1:8000/api/admin/investments/${J}/documents`,{method:"GET",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"}});if(se.ok){const Ne=await se.json();X(Ne.documents||[])}else console.error("Failed to fetch documents"),X([])}catch(ne){console.error("Error fetching documents:",ne),X([])}finally{ue(!1)}},G=async(J,ne)=>{try{const se=localStorage.getItem("access_token"),Ne=await fetch(`http://localhost:8000/api/admin/investments/${J}/status`,{method:"PUT",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({status:ne})}),Ce=await Ne.json();Ne.ok&&Ce.success?(s(De=>De.map(be=>be.id===J?{...be,status:ne}:be)),alert(Ce.message||`Investment status updated to ${ne}`),_(),f()):alert(Ce.detail||"Failed to update status")}catch(se){console.error("Error updating status:",se),alert("Failed to update status")}},V=J=>{const{name:ne,value:se}=J.target;ie(Ne=>({...Ne,[ne]:se}))},j=J=>{const ne=Array.from(J.target.files);ie(se=>({...se,documents:[...se.documents,...ne.map(Ne=>({name:Ne.name,size:Ne.size,file:Ne}))]}))},F=J=>{ie(ne=>({...ne,documents:ne.documents.filter((se,Ne)=>Ne!==J)}))},O=async J=>{J.preventDefault();try{const ne=localStorage.getItem("access_token"),se=new FormData;se.append("customer",$.customer),se.append("email",$.email),se.append("phone",$.phone),se.append("fundName",$.fundName),se.append("type",$.type),se.append("amount",$.amount.replace(/‚Çπ|,/g,"")||"0"),se.append("totalInvested",$.totalInvested.replace(/‚Çπ|,/g,"")||"0"),se.append("returns",$.returns),se.append("startDate",$.startDate),se.append("tenure",$.tenure),se.append("status",$.status),$.documents&&$.documents.length>0&&$.documents.forEach((De,be)=>{De.file&&se.append("documents",De.file)});const Ne=await fetch("http://127.0.0.1:8000/api/admin/investments/create",{method:"POST",headers:{Authorization:`Bearer ${ne}`},body:se}),Ce=await Ne.json();Ne.ok?(alert("Investment added successfully!"),ie({customer:"",email:"",phone:"",fundName:"",type:"Mutual Funds",amount:"",totalInvested:"",returns:"",startDate:"",tenure:"",status:"Pending",documents:[]}),S(!1),_(),f()):alert(Ce.detail||"Failed to add investment")}catch(ne){console.error("Error adding investment:",ne),alert("Error adding investment")}},K=()=>{const J=["ID","Customer","Email","Phone","Type","Fund","Amount","Total Invested","Returns","Status","Start Date","Tenure"],ne=D.map(be=>[be.id,be.customer,be.email,be.phone,be.type,be.fundName,be.amount,be.totalInvested,be.returns,be.status,be.startDate,be.tenure]),se=[J,...ne].map(be=>be.join(",")).join(`
`),Ne=new Blob([se],{type:"text/csv"}),Ce=window.URL.createObjectURL(Ne),De=document.createElement("a");De.href=Ce,De.download=`investments_${new Date().getTime()}.csv`,document.body.appendChild(De),De.click(),document.body.removeChild(De),window.URL.revokeObjectURL(Ce)},ee=async(J,ne)=>{try{if(!ne){alert("Document name is required");return}const se=localStorage.getItem("access_token");let Ne=ne;ne.includes("/")&&(Ne=ne.split("/").pop());const Ce=`http://127.0.0.1:8000/api/mutual-funds/documents/download/${encodeURIComponent(Ne)}`,De=await fetch(Ce,{method:"GET",headers:{Authorization:`Bearer ${se}`}});if(De.ok){const be=await De.blob(),we=window.URL.createObjectURL(be),Q=document.createElement("a");Q.href=we,Q.download=Ne,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),window.URL.revokeObjectURL(we)}else{const be=await De.json().catch(()=>({}));alert(`Failed to download document: ${be.detail||"Unknown error"}`)}}catch(se){console.error("Error downloading document:",se),alert("Error downloading document: "+se.message)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Rs,{className:"w-8 h-8 text-purple-600"}),"Investment Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Mutual Funds and SIP investments"})]}),e.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md",children:[e.jsx(is,{className:"w-5 h-5"}),"Export Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-700",children:"Total AUM"}),e.jsx(Eo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-900",children:ve.totalAUM}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Assets Under Management"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-700",children:"Active Investors"}),e.jsx(cr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-900",children:ve.activeInvestors}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Unique investors"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 sm:p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-700",children:"Total Investments"}),e.jsx(Fd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-purple-900",children:ve.activeSIPs}),e.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"Mutual Funds & SIPs"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-4 sm:p-6 border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-indigo-700",children:"Avg Return"}),e.jsx(Rs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-indigo-900",children:ve.avgReturn}),e.jsx("p",{className:"text-xs text-indigo-600 mt-2",children:"Average returns"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>{b("all"),y(1)},className:`flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold transition-all ${u==="all"?"bg-gradient-to-r from-purple-600 to-purple-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"text-lg",children:"üìã"}),e.jsx("span",{className:"text-sm sm:text-base",children:"All Applications"}),e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:n.length})]}),e.jsxs("button",{onClick:()=>{b("Mutual Funds"),y(1)},className:`flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold transition-all ${u==="Mutual Funds"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"text-lg",children:"üí∞"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Mutual Funds"}),e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:n.filter(J=>J.type==="Mutual Funds").length})]}),e.jsxs("button",{onClick:()=>{b("SIP"),y(1)},className:`flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold transition-all ${u==="SIP"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"text-lg",children:"üìà"}),e.jsx("span",{className:"text-sm sm:text-base",children:"SIP"}),e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:n.filter(J=>J.type==="SIP").length})]})]}),e.jsxs("button",{onClick:()=>S(!T),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-md text-sm sm:text-base",children:[e.jsx("span",{children:"‚ûï"}),"Add Investment"]})]})}),T&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-green-500",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Investment"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-600 hover:text-red-600 text-2xl",children:"‚úï"})]}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",name:"customer",placeholder:"Customer Name *",value:$.customer,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"email",name:"email",placeholder:"Email *",value:$.email,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Phone *",value:$.phone,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",name:"fundName",placeholder:"Fund Name *",value:$.fundName,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsxs("select",{name:"type",value:$.type,onChange:V,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",children:[e.jsx("option",{value:"Mutual Funds",children:"Mutual Funds"}),e.jsx("option",{value:"SIP",children:"SIP"})]}),e.jsx("input",{type:"text",name:"amount",placeholder:"Monthly Amount (‚Çπ) *",value:$.amount,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"text",name:"totalInvested",placeholder:"Total Invested (‚Çπ) *",value:$.totalInvested,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"text",name:"returns",placeholder:"Returns (e.g., +12.5%)",value:$.returns,onChange:V,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"date",name:"startDate",value:$.startDate,onChange:V,required:!0,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsx("input",{type:"text",name:"tenure",placeholder:"Tenure (e.g., 5 years)",value:$.tenure,onChange:V,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none"}),e.jsxs("select",{name:"status",value:$.status,onChange:V,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload Documents"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",id:"docUpload",multiple:!0,onChange:j,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),e.jsx("label",{htmlFor:"docUpload",className:"flex items-center justify-center cursor-pointer",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("p",{className:"text-gray-600",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PDF, JPG, PNG (max 5MB each)"})]})})]}),$.documents&&$.documents.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Uploaded Files (",$.documents.length,")"]}),e.jsx("div",{className:"space-y-2",children:$.documents.map((J,ne)=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:J.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(J.size/1024).toFixed(2)," KB"]})]})]}),e.jsx("button",{type:"button",onClick:()=>F(ne),className:"text-red-600 hover:text-red-700 hover:bg-red-50 px-2 py-1 rounded text-sm font-medium transition-colors",children:"Remove"})]},ne))})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-6 py-2.5 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all font-semibold",children:"Add Investment"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search investor, email, fund...",value:l,onChange:J=>{o(J.target.value),y(1)},className:"w-full pl-9 sm:pl-10 pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("select",{value:c,onChange:J=>{m(J.target.value),y(1)},className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})}),e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Investments"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",z.length," of ",D.length," investments"]})]}),e.jsx("div",{className:"block lg:hidden",children:r?e.jsx("div",{className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4 animate-pulse",children:e.jsx(Rs,{className:"w-8 h-8 text-purple-600"})}),e.jsx("p",{className:"text-gray-600",children:"Loading investments..."})]})}):z.length===0?e.jsx("div",{className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(Eo,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No investments found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your search or filters"})]})}):e.jsx("div",{className:"divide-y divide-gray-200",children:z.map(J=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:J.customer.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:J.customer}),e.jsxs("p",{className:"text-xs text-gray-500",children:["#",J.id]})]})]}),e.jsx("div",{children:te(J.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Fund Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:J.fundName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Monthly Amount"}),e.jsx("p",{className:"font-semibold text-gray-900",children:J.amount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Invested"}),e.jsx("p",{className:"font-semibold text-gray-900",children:J.totalInvested})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Returns"}),e.jsx("p",{className:"font-semibold text-green-600",children:J.returns})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>H(J),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View"]}),e.jsxs("button",{onClick:()=>G(J.id,"Active"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",disabled:J.status==="Active",children:[e.jsx(dt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>G(J.id,"Cancelled"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",disabled:J.status==="Cancelled",children:[e.jsx(St,{className:"w-4 h-4"}),"Reject"]})]})]},J.id))})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Fund Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount/Month"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Invested"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Returns"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4 animate-pulse",children:e.jsx(Rs,{className:"w-8 h-8 text-purple-600"})}),e.jsx("p",{className:"text-gray-600",children:"Loading investments..."})]})})}):z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(Eo,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No investments found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your search or filters"})]})})}):z.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"font-mono text-sm text-gray-700",children:["#",J.id]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:J.customer.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:J.customer}),e.jsx("p",{className:"text-sm text-gray-600",children:J.email})]})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:J.fundName}),e.jsx("p",{className:"text-xs text-gray-500",children:J.type})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:J.amount})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:J.totalInvested})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-green-600",children:J.returns})}),e.jsx("td",{className:"px-4 py-4",children:te(J.status)}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>H(J),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ls,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>G(J.id,"Active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Approve",disabled:J.status==="Active",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>G(J.id,"Cancelled"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Reject",disabled:J.status==="Cancelled",children:e.jsx(St,{className:"w-4 h-4"})})]})})]},J.id))})]})}),D.length>0&&e.jsx("div",{className:"px-3 sm:px-4 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-medium",children:I+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(I+Z,D.length)})," of"," ",e.jsx("span",{className:"font-medium",children:D.length})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>y(J=>Math.max(J-1,1)),disabled:v===1,className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"Prev"})]}),e.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(g,5))].map((J,ne)=>{let se;return g<=5||v<=3?se=ne+1:v>=g-2?se=g-4+ne:se=v-2+ne,e.jsx("button",{onClick:()=>y(se),className:`w-8 h-8 sm:w-10 sm:h-10 text-xs sm:text-sm font-medium rounded-lg transition-colors ${v===se?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:se},se)})}),e.jsx("button",{onClick:()=>y(J=>Math.min(J+1,g)),disabled:v===g,className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})}),M&&k&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-transparent z-40 flex items-center justify-center p-4",onClick:()=>E(!1),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden border-2 border-gray-300",onClick:J=>J.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 flex justify-between items-center z-10",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Investment Details"}),e.jsx("button",{onClick:()=>E(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[calc(85vh-60px)]",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(cr,{className:"w-4 h-4 text-purple-600"}),"Customer Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.customer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Status"}),e.jsx("div",{className:"mt-1",children:te(k.status)})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-purple-600"}),"Investment Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Fund Name"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.fundName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Investment Type"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Monthly Amount"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.amount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total Invested"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.totalInvested})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Returns"}),e.jsx("p",{className:"font-semibold text-green-600 text-base",children:k.returns})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Start Date"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.startDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Tenure"}),e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:k.tenure})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Uploaded Documents"]}),re?e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Loading documents..."})}):L&&L.length>0?e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsx("div",{className:"space-y-2",children:L.map((J,ne)=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:J.name||J.filename||"Document"}),e.jsx("p",{className:"text-xs text-gray-500",children:J.size||""})]})]}),e.jsxs("button",{onClick:()=>ee(k.id,J.filename||J.name),className:"text-blue-600 hover:text-blue-700 hover:underline text-xs font-medium transition-colors flex items-center gap-1",children:[e.jsx(is,{className:"w-3 h-3"}),"Download"]})]},ne))})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"No documents uploaded yet"})})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[e.jsxs("button",{onClick:()=>{G(k.id,"Active"),E(!1)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:k.status==="Active",children:[e.jsx(dt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>{G(k.id,"Cancelled"),E(!1)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:k.status==="Cancelled",children:[e.jsx(St,{className:"w-4 h-4"}),"Reject"]})]})]})]})})})]})},Bo=n=>{if(!n)return"N/A";try{const s=new Date(n);return isNaN(s.getTime())?"N/A":s.toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}catch{return n}},Oo=n=>n?{"below-5":"‚Çπ0 - ‚Çπ5 Lakhs","5-10":"‚Çπ5-10 Lakhs","10-20":"‚Çπ10-20 Lakhs","20-50":"‚Çπ20-50 Lakhs","above-50":"‚Çπ50+ Lakhs","below-20":"Below ‚Çπ20 Lakhs","20-1cr":"‚Çπ20 Lakhs - ‚Çπ1 Cr","1-5cr":"‚Çπ1-5 Cr","5-10cr":"‚Çπ5-10 Cr","10-50cr":"‚Çπ10-50 Cr","above-50cr":"‚Çπ50+ Cr"}[n]||n:"N/A",Vl=(n,s)=>{if(!n)return"‚Çπ0 - ‚Çπ0";const i={"below-5":{min:0,max:5e5},"5-10":{min:5e5,max:1e6},"10-20":{min:1e6,max:2e6},"20-50":{min:2e6,max:5e6},"above-50":{min:5e6,max:1e7},"below-20":{min:0,max:2e6},"20-1cr":{min:2e6,max:1e7},"1-5cr":{min:1e7,max:5e7},"5-10cr":{min:5e7,max:1e8},"10-50cr":{min:1e8,max:5e8},"above-50cr":{min:5e8,max:1e9}}[n];if(!i)return"‚Çπ0 - ‚Çπ0";const l=Math.round(i.min*.15),o=Math.round(i.max*.3);return`‚Çπ${l.toLocaleString("en-IN")} - ‚Çπ${o.toLocaleString("en-IN")}`},cu=()=>{const[n,s]=xe.useState("all"),[r,i]=xe.useState([]),[l,o]=xe.useState(!1),[c,m]=xe.useState(""),[u,b]=xe.useState("all"),[v,y]=xe.useState("all"),[k,x]=xe.useState(1),[M,E]=xe.useState(null),[T,S]=xe.useState(!1),L=10;xe.useEffect(()=>{X()},[]);const X=async()=>{o(!0);try{const g=localStorage.getItem("access_token"),[I,z]=await Promise.all([fetch("http://localhost:8000/api/personal-tax/application/all",{headers:{Authorization:`Bearer ${g}`}}),fetch("http://localhost:8000/api/business-tax/application/all",{headers:{Authorization:`Bearer ${g}`}})]);let te=[];if(I.ok){const W=(await I.json()||[]).map(G=>({...G,applicantName:G.applicantName||G.fullName||"N/A",email:G.email||G.emailAddress||"N/A",phone:G.phone||G.phoneNumber||"N/A",planType:"Personal Tax Planning",id:G._id||G.id,_id:G._id,appliedDate:G.appliedDate||G.createdAt||new Date().toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),annualIncome:G.annualIncome||"N/A",expectedSavings:G.expectedSavings||Vl(G.annualIncome,"personal")}));te=[...te,...W]}if(z.ok){const W=(await z.json()||[]).map(G=>({...G,applicantName:G.applicantName||G.ownerName||"N/A",email:G.email||G.businessEmail||"N/A",phone:G.phone||G.contactNumber||"N/A",planType:"Business Tax Strategy",id:G._id||G.id,_id:G._id,appliedDate:G.appliedDate||G.createdAt||new Date().toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),annualIncome:G.turnoverRange||"N/A",expectedSavings:G.expectedSavings||Vl(G.turnoverRange,"business")}));te=[...te,...W]}i(te),o(!1)}catch(g){console.error("Error fetching tax applications:",g),i([]),o(!1)}},re={totalApplications:r.length,pending:r.filter(g=>g.status==="pending").length,underReview:r.filter(g=>g.status==="under_review").length,approved:r.filter(g=>g.status==="approved").length,rejected:r.filter(g=>g.status==="rejected").length,personalTax:r.filter(g=>g.planType==="Personal Tax Planning").length,businessTax:r.filter(g=>g.planType==="Business Tax Strategy").length,totalExpectedSavings:r.reduce((g,I)=>g+(I.expectedSavings||0),0)},ue=r.filter(g=>{const I=(g?.applicantName||"").toLowerCase().includes(c.toLowerCase())||(g?.email||"").toLowerCase().includes(c.toLowerCase())||(g?.planType||"").toLowerCase().includes(c.toLowerCase()),z=u==="all"||g?.status===u,te=v==="all"||g?.planType===v,H=n==="all"||n==="personal"&&g?.planType==="Personal Tax Planning"||n==="business"&&g?.planType==="Business Tax Strategy";return I&&z&&te&&H}),ve=Math.ceil(ue.length/L),de=(k-1)*L,$=ue.slice(de,de+L),ie=g=>{const I={pending:"bg-yellow-100 text-yellow-700 border-yellow-300",under_review:"bg-blue-100 text-blue-700 border-blue-300",approved:"bg-green-100 text-green-700 border-green-300",rejected:"bg-red-100 text-red-700 border-red-300"},z={pending:e.jsx(ls,{className:"w-3 h-3"}),under_review:e.jsx(hs,{className:"w-3 h-3"}),approved:e.jsx(dt,{className:"w-3 h-3"}),rejected:e.jsx(St,{className:"w-3 h-3"})};return e.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${I[g]} flex items-center gap-1 w-fit`,children:[z[g]," ",g.toUpperCase().replace("_"," ")]})},Z=async(g,I)=>{try{const z=localStorage.getItem("access_token"),te=r.find(G=>G.id===g||G._id===g);let H="personal-tax";te?.planType==="Business Tax Strategy"&&(H="business-tax");const W=await fetch(`http://localhost:8000/api/${H}/application/${g}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({status:I})});if(W.ok){const G=await W.json();i(V=>V.map(j=>j.id===g||j._id===g?{...j,status:I}:j)),alert(G.message||`Application status updated to ${I}`),X()}else{const G=await W.json();alert(G.detail||"Failed to update status")}}catch(z){console.error("Error updating status:",z),alert("Failed to update status")}},f=g=>{E(g),S(!0)},_=()=>{const g=["ID","Applicant Name","Email","Phone","Plan Type","Annual Income","Status","Applied Date"],I=ue.map(G=>[G.id,G.applicantName,G.email,G.phone,G.planType,G.annualIncome,G.status,G.appliedDate]),z=[g,...I].map(G=>G.join(",")).join(`
`),te=new Blob([z],{type:"text/csv"}),H=window.URL.createObjectURL(te),W=document.createElement("a");W.href=H,W.download=`tax_applications_${new Date().toISOString().split("T")[0]}.csv`,W.click()},D=async(g,I)=>{try{const z=localStorage.getItem("access_token");try{const V=await fetch(`http://localhost:8000/uploads/documents/${I}`,{headers:{Authorization:`Bearer ${z}`}});if(V.ok){const j=await V.blob(),F=window.URL.createObjectURL(j),O=document.createElement("a");O.href=F,O.download=I,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(F);return}}catch{console.log("Backend download failed, using mock data")}const te=`Tax Planning Application Document

Application ID: ${g}
Document: ${I}
Date: ${new Date().toLocaleDateString()}

This is a placeholder document for demonstration purposes.
In production, this would be the actual uploaded document.`,H=new Blob([te],{type:"text/plain"}),W=windo;w.URL.createObjectURL(H);const G=document.createElement("a");G.href=W,G.download=I,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(W)}catch(z){console.error("Error downloading document:",z),alert("Failed to download document")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Fi,{className:"w-8 h-8 text-green-600"}),"Tax Planning Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage tax planning applications"})]}),e.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all shadow-md",children:[e.jsx(is,{className:"w-5 h-5"}),"Export Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-700",children:"Total Applications"}),e.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-900",children:re.totalApplications}),e.jsxs("div",{className:"mt-2 sm:mt-3 flex gap-2 sm:gap-4 text-xs",children:[e.jsxs("span",{className:"text-blue-600",children:["üë§ Personal: ",re.personalTax]}),e.jsxs("span",{className:"text-blue-600",children:["üè¢ Business: ",re.businessTax]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-4 sm:p-6 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-yellow-700",children:"Pending"}),e.jsx(ls,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-900",children:re.pending}),e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Awaiting review"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-4 sm:p-6 border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-indigo-700",children:"Under Review"}),e.jsx(hs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-indigo-900",children:re.underReview}),e.jsx("p",{className:"text-xs text-indigo-600 mt-2",children:"Being processed"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-700",children:"Approved"}),e.jsx(dt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})]}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-900",children:re.approved}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Successfully approved"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4",children:e.jsx("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 overflow-x-auto scrollbar-hide",children:[{id:"all",label:"All Applications",icon:"üìã"},{id:"personal",label:"Personal Tax Planning",icon:"üë§"},{id:"business",label:"Business Tax Strategy",icon:"üè¢"}].map(g=>e.jsxs("button",{onClick:()=>{s(g.id),x(1)},className:`px-3 sm:px-4 py-2 font-medium text-xs sm:text-sm whitespace-nowrap transition-all flex items-center gap-1 sm:gap-2 ${n===g.id?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-green-600"}`,children:[e.jsx("span",{className:"text-sm sm:text-base",children:g.icon}),e.jsx("span",{className:"hidden sm:inline",children:g.label}),e.jsx("span",{className:"sm:hidden",children:g.label.split(" ")[0]})]},g.id))})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applicant, email...",value:c,onChange:g=>{m(g.target.value),x(1)},className:"w-full pl-9 sm:pl-10 pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("select",{value:u,onChange:g=>{b(g.target.value),x(1)},className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:v,onChange:g=>{y(g.target.value),x(1)},className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"all",children:"All Plans"}),e.jsx("option",{value:"Personal Tax Planning",children:"Personal Tax"}),e.jsx("option",{value:"Business Tax Strategy",children:"Business Tax"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"block lg:hidden",children:l?e.jsx("div",{className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 animate-pulse",children:e.jsx(Fi,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-600",children:"Loading applications..."})]})}):$.length===0?e.jsx("div",{className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(as,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No applications found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your filters"})]})}):e.jsx("div",{className:"divide-y divide-gray-200",children:$.map(g=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:g.planType==="Personal Tax Planning"?"üë§":"üè¢"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:g.applicantName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["#",g.id]})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:g.email}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:g.phone}),e.jsx("div",{className:"mb-2",children:ie(g.status)})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Plan Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:g.planType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Annual Income"}),e.jsx("p",{className:"font-semibold text-gray-900",children:Oo(g.annualIncome)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Expected Savings"}),e.jsx("p",{className:"font-semibold text-green-600",children:g.expectedSavings})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Applied Date"}),e.jsx("p",{className:"font-medium text-gray-700",children:Bo(g.appliedDate)})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>f(g),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View"]}),e.jsxs("button",{onClick:()=>Z(g.id,"approved"),disabled:g.status==="approved",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>Z(g.id,"rejected"),disabled:g.status==="rejected",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(St,{className:"w-4 h-4"}),"Reject"]})]})]},g.id))})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Applicant Details"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Plan Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Annual Income"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Expected Savings"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Applied Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 animate-pulse",children:e.jsx(Fi,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-600",children:"Loading applications..."})]})})}):$.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(as,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No applications found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your search or filters"})]})})}):$.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"font-mono text-sm text-gray-700",children:["#",g.id]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:g.applicantName}),e.jsx("p",{className:"text-sm text-gray-600",children:g.email}),e.jsx("p",{className:"text-xs text-gray-500",children:g.phone})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:g.planType==="Personal Tax Planning"?"üë§":"üè¢"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.planType}),e.jsx("p",{className:"text-xs text-gray-500",children:g.planType==="Personal Tax Planning"?g.taxRegime:g.businessType})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Oo(g.annualIncome)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-green-600",children:g.expectedSavings})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm text-gray-700",children:Bo(g.appliedDate)})}),e.jsx("td",{className:"px-4 py-4",children:ie(g.status)}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>f(g),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ls,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z(g.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",disabled:g.status==="approved",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z(g.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",disabled:g.status==="rejected",children:e.jsx(St,{className:"w-4 h-4"})})]})})]},g.id))})]})}),ue.length>0&&e.jsx("div",{className:"px-3 sm:px-4 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-medium",children:de+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(de+L,ue.length)})," of"," ",e.jsx("span",{className:"font-medium",children:ue.length})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>x(g=>Math.max(g-1,1)),disabled:k===1,className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"Prev"})]}),e.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(ve,5))].map((g,I)=>{let z;return ve<=5||k<=3?z=I+1:k>=ve-2?z=ve-4+I:z=k-2+I,e.jsx("button",{onClick:()=>x(z),className:`w-8 h-8 sm:w-10 sm:h-10 text-xs sm:text-sm font-medium rounded-lg transition-colors ${k===z?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z)})}),e.jsx("button",{onClick:()=>x(g=>Math.min(g+1,ve)),disabled:k===ve,className:"px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]}),T&&M&&e.jsx("div",{className:"fixed inset-0 bg-transparent z-50 flex items-center justify-center p-4",onClick:()=>S(!1),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto border-2 border-green-500 w-full max-w-3xl",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 flex justify-between items-center rounded-t-xl",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Application Details"}),e.jsx("button",{onClick:()=>S(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:e.jsx(St,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:M.planType==="Personal Tax Planning"?"üë§":"üè¢"}),"Applicant Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:M.applicantName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold text-gray-900",children:M.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-semibold text-gray-900",children:M.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Applied Date"}),e.jsx("p",{className:"font-semibold text-gray-900",children:Bo(M.appliedDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Plan Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Plan Type"}),e.jsx("p",{className:"font-semibold text-gray-900",children:M.planType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Annual Income"}),e.jsx("p",{className:"font-semibold text-gray-900",children:Oo(M.annualIncome)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Expected Savings"}),e.jsx("p",{className:"font-semibold text-green-600",children:M.expectedSavings})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:"mt-1",children:ie(M.status)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Uploaded Documents"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"space-y-2",children:M.documents.map((g,I)=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(as,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})]}),e.jsxs("button",{onClick:()=>D(M.id,g),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(is,{className:"w-4 h-4"}),"Download"]})]},I))})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Remarks"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:M.remarks})})]}),M.rejectionReason&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Rejection Reason"}),e.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:e.jsx("p",{className:"text-red-700",children:M.rejectionReason})})]}),M.status==="pending"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:()=>{Z(M.id,"under_review"),S(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(hs,{className:"w-5 h-5"}),"Move to Review"]}),e.jsxs("button",{onClick:()=>{Z(M.id,"approved"),S(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(dt,{className:"w-5 h-5"}),"Approve"]}),e.jsxs("button",{onClick:()=>{Z(M.id,"rejected"),S(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(St,{className:"w-5 h-5"}),"Reject"]})]}),M.status==="under_review"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:()=>{Z(M.id,"approved"),S(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(dt,{className:"w-5 h-5"}),"Approve"]}),e.jsxs("button",{onClick:()=>{Z(M.id,"rejected"),S(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(St,{className:"w-5 h-5"}),"Reject"]})]})]})]})})]})},Sa=n=>{if(!n)return"N/A";try{const s=new Date(n);return isNaN(s.getTime())?"N/A":s.toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return n}},du=()=>{const n=W=>({pan_card:"Pan Card",panCard:"Pan Card",aadhaar_card:"Aadhar Card",aadhaarCard:"Aadhar Card",photo:"Photo",signature:"Signature",bank_proof:"Bank Proof",bank_statement:"Bank Statements",bankStatement:"Bank Statements",form16:"Form 16",investment_proofs:"Investment Proofs",investmentProofs:"Investment Proofs",salary_slip:"Salary Slips",salarySlip:"Salary Slips",original_itr:"Original ITR",originalITR:"Original ITR",revised_itr:"Revised ITR",revisedITR:"Revised ITR",notice_document:"Notice Document",noticeDocument:"Notice Document",reply_document:"Reply Document",replyDocument:"Reply Document",supporting_documents:"Supporting Documents",supportingDocuments:"Supporting Documents",address_proof:"Address Proof",addressProof:"Address Proof",identity_proof:"Identity Proof",identityProof:"Identity Proof",pf_statement:"PF Statement",pfStatement:"PF Statement",cancellation_cheque:"Cancelled Cheque",cancellationCheque:"Cancelled Cheque",demat_documents:"Demat Documents",dematDocuments:"Demat Documents",trading_documents:"Trading Documents",tradingDocuments:"Trading Documents",kyc_documents:"KYC Documents",kycDocuments:"KYC Documents",income_proof:"Income Proof",incomeProof:"Income Proof",business_proof:"Business Proof",businessProof:"Business Proof"})[W]||W.replace(/_/g," ").replace(/\b\w/g,V=>V.toUpperCase()),s=async(W,G)=>{try{console.log("üì• Downloading document:",{docKey:W,applicationId:G});const V=localStorage.getItem("access_token"),j=await fetch(`http://127.0.0.1:8000/api/retail-services/admin/applications/${G}/documents/${W}`,{headers:{Authorization:`Bearer ${V}`}});if(console.log("üì° Response status:",j.status),j.ok){const F=await j.blob();if(console.log("üì¶ Blob size:",F.size,"bytes"),F.size===0){console.error("‚ùå Downloaded file is empty"),alert("Downloaded file is empty. Please check if the file was uploaded correctly.");return}const O=window.URL.createObjectURL(F),K=document.createElement("a");K.href=O;const ee=j.headers.get("content-disposition");let J=`${n(W)}.pdf`;if(ee){const ne=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(ee);ne!=null&&ne[1]&&(J=ne[1].replace(/['"]/g,""))}console.log("üíæ Saving as:",J),K.download=J,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(O),console.log("‚úÖ Download completed")}else{const F=await j.text();console.error("‚ùå Download failed:",F),alert(`Failed to download document: ${F}`)}}catch(V){console.error("‚ùå Error downloading document:",V),alert(`Error downloading document: ${V.message}`)}},r=async(W,G)=>{for(const V of W)await s(V,G),await new Promise(j=>setTimeout(j,500))},i=()=>{const W=["Application ID","Name","Email","Phone","Service Type","Status","Applied On"],G=g.map(K=>[K._id||K.id||"",K.name||"",K.email||"",K.phone||"",ie(K.service_type),K.status||"",Sa(K.created_at)]),V=[W.join(","),...G.map(K=>K.map(ee=>`"${ee}"`).join(","))].join(`
`),j=new Blob([V],{type:"text/csv;charset=utf-8;"}),F=window.URL.createObjectURL(j),O=document.createElement("a");O.href=F,O.download=`Retail_Services_Applications_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(F)},[l,o]=xe.useState([]),[c,m]=xe.useState({total:0,pending:0,inProgress:0,approved:0,completed:0,rejected:0}),[u,b]=xe.useState(!0),[v,y]=xe.useState(""),[k,x]=xe.useState("all"),[M,E]=xe.useState("all"),[T,S]=xe.useState(1),[L,X]=xe.useState(null),[re,ue]=xe.useState(!1),ve=10,de=["itr-filing","itr-revision","itr-notice-reply","individual-pan","huf-pan","pf-withdrawal","update-aadhaar-pan","trading-demat","bank-account","financial-planning"],$={"itr-filing":"File Your ITR","itr-revision":"ITR Revision","itr-notice-reply":"ITR Notice Reply","individual-pan":"Apply for Individual PAN","huf-pan":"Apply for HUF PAN","pf-withdrawal":"Withdraw Your PF","update-aadhaar-pan":"Update Aadhaar or PAN","trading-demat":"Online Trading & Demat","bank-account":"Bank Account Services","financial-planning":"Financial Planning & Advisory"},ie=W=>$[W]||W||"N/A";xe.useEffect(()=>{Z(),_()},[]);const Z=async()=>{b(!0);try{const W=localStorage.getItem("access_token"),G=await fetch("http://127.0.0.1:8000/api/retail-services/admin/applications",{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(G.ok){const V=await G.json();console.log("‚úÖ Fetched applications:",V.length),o(V)}else console.error("‚ùå Failed to fetch applications:",G.statusText),o([])}catch(W){console.error("‚ùå Error fetching retail services:",W),o([])}finally{b(!1)}},f=async W=>{try{const G=localStorage.getItem("access_token"),V=await fetch(`http://127.0.0.1:8000/api/retail-services/admin/applications/${W}`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(V.ok){const j=await V.json();console.log("‚úÖ Fetched application details:",j);const F={...j,...j.application_data||{}};X(F),ue(!0)}else console.error("‚ùå Failed to fetch application details:",V.statusText),alert("Failed to load application details")}catch(G){console.error("‚ùå Error fetching application details:",G),alert("Error loading application details")}},_=async()=>{try{const W=localStorage.getItem("access_token"),G=await fetch("http://127.0.0.1:8000/api/retail-services/admin/statistics",{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(G.ok){const V=await G.json();console.log("‚úÖ Fetched statistics:",V),m(V)}}catch(W){console.error("‚ùå Error fetching statistics:",W)}},D=async(W,G)=>{try{const V=localStorage.getItem("access_token"),j=await fetch(`http://127.0.0.1:8000/api/retail-services/admin/applications/${W}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({status:G})});if(j.ok){const F=await j.json();console.log("‚úÖ Status updated:",F),await Z(),await _(),ue(!1),alert(`‚úÖ Status successfully updated to: ${G}`)}else{const F=await j.json();console.error("‚ùå Failed to update status:",F),alert(`‚ùå Failed to update status: ${F.detail||"Unknown error"}`)}}catch(V){console.error("‚ùå Error updating status:",V),alert("‚ùå Error updating status. Please check your connection.")}},g=l.filter(W=>{const G=!v||W.name?.toLowerCase().includes(v.toLowerCase())||W.email?.toLowerCase().includes(v.toLowerCase())||W.phone?.includes(v)||W.application_id?.toLowerCase().includes(v.toLowerCase())||W.service_type?.toLowerCase().includes(v.toLowerCase()),V=k==="all"||W.status?.toLowerCase()===k.toLowerCase(),j=M==="all"||W.service_type===M;return G&&V&&j}),I=g.slice((T-1)*ve,T*ve),z=Math.ceil(g.length/ve),te=W=>({Pending:"bg-yellow-100 text-yellow-800 border-yellow-200","In-Progress":"bg-purple-100 text-purple-800 border-purple-200",Approved:"bg-blue-100 text-blue-800 border-blue-200",Completed:"bg-green-100 text-green-800 border-green-200",Rejected:"bg-red-100 text-red-800 border-red-200"})[W]||"bg-gray-100 text-gray-800 border-gray-200",H=W=>{switch(W){case"Pending":return e.jsx(ls,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"});case"In-Progress":return e.jsx(as,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"});case"Approved":return e.jsx(hs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"});case"Completed":return e.jsx(dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"});case"Rejected":return e.jsx(St,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"});default:return e.jsx(ls,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}};return e.jsxs("div",{className:"p-2 xs:p-3 sm:p-4 md:p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-xl xs:text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2 flex items-center gap-2",children:[e.jsx(Ko,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 flex-shrink-0"}),e.jsx("span",{children:"Retail Services"})]}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Manage all retail service applications"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Total Applications"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-gray-900",children:c.total})]}),e.jsx(Ko,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Pending"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-yellow-600",children:c.pending})]}),e.jsx(ls,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"In-Progress"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-purple-600",children:c.inProgress||0})]}),e.jsx(as,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Approved"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-blue-600",children:c.approved||0})]}),e.jsx(hs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Completed"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-green-600",children:c.completed})]}),e.jsx(dt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Rejected"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-red-600",children:c.rejected||0})]}),e.jsx(St,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600 flex-shrink-0"})]})})]}),e.jsx("div",{className:"bg-white p-2.5 sm:p-3 md:p-4 rounded-lg shadow-sm border border-gray-200 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-5 gap-2.5 sm:gap-3 md:gap-4",children:[e.jsxs("div",{className:"relative w-full sm:col-span-2 lg:col-span-2",children:[e.jsx(kr,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, phone, ID...",value:v,onChange:W=>{y(W.target.value),S(1)},className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all touch-manipulation"})]}),e.jsxs("select",{value:k,onChange:W=>{x(W.target.value),S(1)},className:"w-full px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white cursor-pointer transition-all touch-manipulation font-medium",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in-progress",children:"In-Progress"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:M,onChange:W=>{E(W.target.value),S(1)},className:"w-full px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white cursor-pointer transition-all touch-manipulation font-medium",children:[e.jsx("option",{value:"all",children:"All Services"}),de.map(W=>e.jsx("option",{value:W,children:$[W]||W},W))]}),e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 sm:py-2.5 md:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all text-xs sm:text-sm md:text-base font-medium touch-manipulation",children:[e.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"hidden md:block",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-green-50 to-green-100 border-b-2 border-green-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[15%] px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"ID"}),e.jsx("th",{className:"w-[20%] px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Applicant"}),e.jsx("th",{className:"w-[18%] px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Service"}),e.jsx("th",{className:"w-[13%] px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Contact"}),e.jsx("th",{className:"w-[16%] px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Date"}),e.jsx("th",{className:"w-[10%] px-1 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Status"}),e.jsx("th",{className:"w-[8%] px-1 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})})})}):I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(as,{className:"w-12 h-12 text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:g.length===0&&l.length>0?"No applications match your filters":"No applications found"}),g.length===0&&l.length>0&&e.jsx("button",{onClick:()=>{y(""),x("all"),E("all")},className:"mt-3 text-sm text-green-600 hover:text-green-800 font-medium underline",children:"Clear all filters"})]})})}):I.map(W=>e.jsxs("tr",{className:"hover:bg-green-50 transition-colors",children:[e.jsx("td",{className:"px-2 py-3 text-xs font-semibold text-gray-900",title:`#${W.id||"N/A"}`,children:e.jsxs("div",{className:"break-words",children:["#",W.id||"N/A"]})}),e.jsxs("td",{className:"px-2 py-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",title:W.name,children:W.name||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",title:W.email,children:W.email||"N/A"})]}),e.jsx("td",{className:"px-2 py-3 text-xs text-gray-900 truncate",title:ie(W.service_type),children:ie(W.service_type)}),e.jsx("td",{className:"px-2 py-3 text-xs text-gray-500 truncate",title:W.phone,children:W.phone||"N/A"}),e.jsx("td",{className:"px-2 py-3 text-xs text-gray-500",title:Sa(W.created_at),children:e.jsx("div",{className:"truncate",children:Sa(W.created_at)})}),e.jsx("td",{className:"px-1 py-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 py-1 rounded-full text-xs font-semibold border whitespace-nowrap ${te(W.status)}`,children:[H(W.status),e.jsx("span",{className:"hidden xl:inline",children:W.status})]})}),e.jsx("td",{className:"px-1 py-3 text-xs font-medium",children:e.jsxs("button",{onClick:()=>f(W._id||W.id),className:"text-green-600 hover:text-green-900 flex items-center justify-center gap-1 font-semibold hover:underline text-xs",children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden xl:inline",children:"View"})]})})]},W._id||W.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:u?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})})}):I.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(as,{className:"w-16 h-16 text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm",children:g.length===0&&l.length>0?"No applications match your filters":"No applications found"}),g.length===0&&l.length>0&&e.jsx("button",{onClick:()=>{y(""),x("all"),E("all")},className:"mt-3 text-sm text-green-600 hover:text-green-800 font-medium underline",children:"Clear all filters"})]})}):I.map(W=>e.jsxs("div",{className:"p-3 sm:p-4 hover:bg-green-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 truncate",children:["#",W.id," - ",W.name||"N/A"]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:ie(W.service_type)})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-semibold border flex-shrink-0 ${te(W.status)}`,children:[H(W.status),W.status]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("p",{className:"text-xs text-gray-600 truncate",children:W.email||"N/A"}),e.jsx("p",{className:"text-xs text-gray-600",children:W.phone||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:Sa(W.created_at)})]}),e.jsxs("button",{onClick:()=>f(W._id||W.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all text-xs font-semibold touch-manipulation",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View Details"]})]},W._id||W.id))}),z>1&&e.jsx("div",{className:"bg-gray-50 px-3 sm:px-4 md:px-6 py-3 sm:py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-700 text-center sm:text-left",children:["Showing ",(T-1)*ve+1," to ",Math.min(T*ve,g.length)," of ",g.length," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(W=>Math.max(1,W-1)),disabled:T===1,className:"px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-50 hover:border-green-500 active:bg-green-100 transition-all text-xs sm:text-sm font-medium touch-manipulation",children:"Previous"}),e.jsx("div",{className:"hidden sm:flex gap-1",children:Array.from({length:Math.min(z,5)},(W,G)=>{let V;return z<=5||T<=3?V=G+1:T>=z-2?V=z-4+G:V=T-2+G,e.jsx("button",{onClick:()=>S(V),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-all touch-manipulation ${T===V?"bg-green-600 text-white shadow-md":"border-2 border-gray-300 hover:bg-green-50 hover:border-green-500 text-gray-700"}`,children:V},V)})}),e.jsxs("div",{className:"sm:hidden px-3 py-2 bg-white border-2 border-gray-300 rounded-lg text-xs font-semibold text-gray-700",children:[T," / ",z]}),e.jsx("button",{onClick:()=>S(W=>Math.min(z,W+1)),disabled:T===z,className:"px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-50 hover:border-green-500 active:bg-green-100 transition-all text-xs sm:text-sm font-medium touch-manipulation",children:"Next"})]})]})})]}),re&&L&&e.jsx("div",{className:"fixed inset-0 bg-black/10 flex items-center justify-center z-50 p-2 xs:p-3 sm:p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl max-w-3xl w-full max-h-[95vh] my-auto overflow-y-auto shadow-2xl",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-3 sm:p-4 md:p-5 lg:p-6 rounded-t-lg sm:rounded-t-xl z-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold truncate",children:"Application Details"}),e.jsx("button",{onClick:()=>ue(!1),className:"text-white hover:bg-white hover:bg-opacity-20 active:bg-opacity-30 p-1.5 sm:p-2 rounded-lg transition-all touch-manipulation flex-shrink-0","aria-label":"Close modal",children:e.jsx(St,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),e.jsxs("div",{className:"p-3 sm:p-4 md:p-5 lg:p-6 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-3 sm:gap-4 bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Application ID"}),e.jsxs("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:["#",L.id]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Service Type"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:ie(L.service_type)})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Applicant Name"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:L.name})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:L.email})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Phone"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:L.phone})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold border ${te(L.status)}`,children:[H(L.status),L.status]})]}),e.jsxs("div",{className:"min-w-0 xs:col-span-2",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Applied On"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:Sa(L.created_at)})]})]}),L.pan_number&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"PAN Number"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:L.pan_number})]}),L.aadhaar_number&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Aadhaar Number"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:L.aadhaar_number})]}),L.message&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Message"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-900 whitespace-pre-wrap break-words",children:L.message})]}),L.documents&&Object.keys(L.documents).length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 sm:p-5 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(as,{className:"w-5 h-5 text-blue-600"}),e.jsx("label",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Uploaded Documents"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:Object.keys(L.documents).map((W,G)=>e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200 hover:border-blue-400 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(as,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-800 truncate",children:n(W)})]}),e.jsxs("button",{onClick:()=>s(W,L._id||L.id),className:"flex items-center gap-1 px-2 sm:px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all text-xs font-semibold touch-manipulation flex-shrink-0",children:[e.jsx(is,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})},G))}),e.jsxs("button",{onClick:()=>r(Object.keys(L.documents),L._id||L.id),className:"w-full mt-3 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all text-sm font-semibold touch-manipulation",children:[e.jsx(is,{className:"w-4 h-4"}),"Download All Documents"]})]}),e.jsxs("div",{className:"border-t-2 pt-4",children:[e.jsx("label",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-3 block",children:"Update Status"}),e.jsxs("div",{className:"grid grid-cols-2 xs:grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>D(L._id||L.id,"Pending"),className:"px-3 py-2.5 sm:py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 active:bg-yellow-800 transition-all text-xs sm:text-sm font-semibold touch-manipulation",children:"Pending"}),e.jsx("button",{onClick:()=>D(L._id||L.id,"In-Progress"),className:"px-3 py-2.5 sm:py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 active:bg-purple-800 transition-all text-xs sm:text-sm font-semibold touch-manipulation",children:"In-Progress"}),e.jsx("button",{onClick:()=>D(L._id||L.id,"Approved"),className:"px-3 py-2.5 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all text-xs sm:text-sm font-semibold touch-manipulation",children:"Approved"}),e.jsx("button",{onClick:()=>D(L._id||L.id,"Completed"),className:"px-3 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all text-xs sm:text-sm font-semibold touch-manipulation",children:"Completed"}),e.jsx("button",{onClick:()=>D(L._id||L.id,"Rejected"),className:"px-3 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 transition-all text-xs sm:text-sm font-semibold touch-manipulation",children:"Rejected"})]})]})]})]})})]})},Si=n=>{if(!n)return"N/A";try{const s=new Date(n);return isNaN(s.getTime())?"N/A":s.toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return n}},uu=()=>{const n=async g=>{try{const I=g.split("/").pop().split("\\").pop(),z=`http://127.0.0.1:8000/${g}`,te=await fetch(z);if(!te.ok)throw new Error("Download failed");const H=await te.blob(),W=window.URL.createObjectURL(H),G=document.createElement("a");G.href=W,G.download=I,G.style.display="none",document.body.appendChild(G),G.click(),setTimeout(()=>{window.URL.revokeObjectURL(W),document.body.removeChild(G)},100)}catch(I){console.error("Error downloading document:",I),alert("Failed to download document. Please try again.")}},s=()=>{const g=["Application ID","Company Name","Contact Person","Email","Phone","Service Type","Status","Applied On"],I=ie.map(G=>[G._id||G.id||"",G.company_name||"",G.contact_person||"",G.email||"",G.phone||"",G.service_type||"",G.status||"",Si(G.created_at)]),z=[g.join(","),...I.map(G=>G.map(V=>`"${V}"`).join(","))].join(`
`),te=new Blob([z],{type:"text/csv;charset=utf-8;"}),H=window.URL.createObjectURL(te),W=document.createElement("a");W.href=H,W.download=`Corporate_Services_Applications_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(H)},[r,i]=xe.useState([]),[l,o]=xe.useState({total:0,pending:0,approved:0,completed:0}),[c,m]=xe.useState(!1),[u,b]=xe.useState(""),[v,y]=xe.useState("all"),[k,x]=xe.useState("all"),[M,E]=xe.useState(1),[T,S]=xe.useState(null),[L,X]=xe.useState(!1),re=10,ue=["Register Your New Company","Compliance for New Company","Tax Audit","Legal Advice","Provident Fund Services","TDS Services","GST Services","Payroll Services","Accounting & Bookkeeping"];xe.useEffect(()=>{de(),ve()},[v,k]);const ve=async()=>{try{const g=localStorage.getItem("access_token"),I=await fetch("http://127.0.0.1:8000/api/business-services/stats",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(I.ok){const z=await I.json();console.log("Fetched stats:",z),z.success&&z.stats&&o({total:z.stats.total||0,pending:z.stats.pending||0,approved:z.stats.approved||0,completed:z.stats.completed||0})}else console.error("Failed to fetch stats:",I.status)}catch(g){console.error("Error fetching stats:",g)}},de=async()=>{m(!0);try{const g=localStorage.getItem("access_token"),I=new URLSearchParams;k&&k!=="all"&&I.append("service_type",k),v&&v!=="all"&&I.append("status",v);const z=`http://127.0.0.1:8000/api/business-services/all-applications${I.toString()?"?"+I.toString():""}`;console.log("Fetching applications with filters:",z);const te=await fetch(z,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(te.ok){const H=await te.json();console.log("Fetched corporate services data:",H);const G=(Array.isArray(H)?H:H.applications||H.data||[]).map((V,j)=>({_id:V._id||V.id,id:V.id||V._id,company_name:V.company_name||V.companyName||V.full_name||V.name,contact_person:V.contact_person||V.contactPerson||V.full_name||V.name,email:V.email,phone:V.phone||V.mobile||V.contact_number,service_type:V.service_type||V.serviceType||V.service,status:V.status||"Pending",created_at:V.created_at||V.createdAt||V.date||V.timestamp,updated_at:V.updated_at||V.updatedAt,company_address:V.company_address||V.address,registration_number:V.registration_number||V.registrationNumber,message:V.message||V.description||V.additional_info,documents:V.documents||V.uploadedDocuments||V.uploaded_documents||[],company_type:V.company_type||V.companyType,proposed_names:V.proposed_names||V.proposedNames,directors_count:V.directors_count||V.directorsCount||V.number_of_directors,authorized_capital:V.authorized_capital||V.authorizedCapital,registered_office:V.registered_office||V.registeredOffice||V.state,gst_type:V.gst_type||V.gstType,business_type:V.business_type||V.businessType,annual_turnover:V.annual_turnover||V.annualTurnover,gstin:V.gstin,financial_year:V.financial_year||V.financialYear,turnover:V.turnover,business_nature:V.business_nature||V.businessNature,audit_type:V.audit_type||V.auditType,service_requested:V.service_requested||V.serviceRequested,employee_count:V.employee_count||V.employeeCount,establishment_date:V.establishment_date||V.establishmentDate,rejection_reason:V.rejection_reason||V.rejectionReason,...V}));i(G),ve()}else console.error("Failed to fetch applications:",te.status,te.statusText),i([])}catch(g){console.error("Error fetching corporate services:",g),i([])}finally{m(!1)}},$=async(g,I)=>{try{const z=localStorage.getItem("access_token"),te=await fetch(`http://127.0.0.1:8000/api/business-services/${g}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({status:I})});if(te.ok){const H=await te.json();console.log("Status updated successfully:",H),alert(`‚úÖ Status successfully updated to "${I}"!`),S(W=>({...W,status:I})),de(),ve(),setTimeout(()=>{X(!1)},800)}else{const H=await te.json().catch(()=>({}));console.error("Failed to update status:",te.status,H),alert(`‚ùå Failed to update status: ${H.detail||"Please try again."}`)}}catch(z){console.error("Error updating status:",z),alert("‚ùå Error updating status. Please check your connection and try again.")}},ie=r.filter(g=>u?g.company_name?.toLowerCase().includes(u.toLowerCase())||g.contact_person?.toLowerCase().includes(u.toLowerCase())||g.email?.toLowerCase().includes(u.toLowerCase())||g.phone?.includes(u)||g.service_type?.toLowerCase().includes(u.toLowerCase()):!0),Z=ie.slice((M-1)*re,M*re),f=Math.ceil(ie.length/re),_=g=>({Pending:"bg-yellow-100 text-yellow-800 border-yellow-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",Approved:"bg-blue-100 text-blue-800 border-blue-200",approved:"bg-blue-100 text-blue-800 border-blue-200","In Progress":"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200","in-progress":"bg-blue-100 text-blue-800 border-blue-200","Under Review":"bg-blue-100 text-blue-800 border-blue-200",under_review:"bg-blue-100 text-blue-800 border-blue-200",Completed:"bg-green-100 text-green-800 border-green-200",completed:"bg-green-100 text-green-800 border-green-200",Rejected:"bg-red-100 text-red-800 border-red-200",rejected:"bg-red-100 text-red-800 border-red-200"})[g]||"bg-gray-100 text-gray-800 border-gray-200",D=g=>{const I=g?.toLowerCase();return I==="pending"?e.jsx(ls,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):I==="approved"?e.jsx(dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):I==="in progress"||I==="in-progress"||I==="in_progress"||I==="under review"||I==="under_review"?e.jsx(hs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):I==="completed"?e.jsx(dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):I==="rejected"?e.jsx(St,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):e.jsx(ls,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})};return e.jsxs("div",{className:"p-2 xs:p-3 sm:p-4 md:p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("h1",{className:"text-xl xs:text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2 flex items-center gap-2",children:[e.jsx(Xo,{className:"w-6 h-6 sm:w-8 sm:h-8 text-indigo-600 flex-shrink-0"}),e.jsx("span",{children:"Corporate Services"})]}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Manage all corporate service applications"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Total Applications"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-gray-900",children:l.total})]}),e.jsx(Xo,{className:"w-6 h-6 sm:w-8 sm:h-8 text-indigo-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Pending"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-yellow-600",children:l.pending})]}),e.jsx(ls,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Approved"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-blue-600",children:l.approved})]}),e.jsx(dt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white p-3 sm:p-4 md:p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 truncate",children:"Completed"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl font-bold text-green-600",children:l.completed})]}),e.jsx(dt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 flex-shrink-0"})]})})]}),e.jsx("div",{className:"bg-white p-2.5 sm:p-3 md:p-4 rounded-lg shadow-sm border border-gray-200 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-4 gap-2.5 sm:gap-3 md:gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:u,onChange:g=>b(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("select",{value:v,onChange:g=>y(g.target.value),className:"w-full px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white cursor-pointer transition-all touch-manipulation font-medium",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]}),e.jsxs("select",{value:k,onChange:g=>x(g.target.value),className:"w-full px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white cursor-pointer transition-all touch-manipulation font-medium",children:[e.jsx("option",{value:"all",children:"All Services"}),ue.map(g=>e.jsx("option",{value:g,children:g},g))]}),e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 sm:py-2.5 md:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all text-xs sm:text-sm md:text-base font-medium touch-manipulation",children:[e.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Export CSV"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-max",children:[e.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 border-b-2 border-indigo-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap",children:"ID"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap min-w-[150px]",children:"APPLICANT"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap min-w-[180px]",children:"Service Type"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap min-w-[120px]",children:"Contact"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap min-w-[130px]",children:"Applied On"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap",children:"Status"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})}):Z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:"No applications found"})}):Z.map(g=>e.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors",children:[e.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-semibold text-gray-900",children:["#",g.id||g._id]}),e.jsxs("td",{className:"px-3 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:g.company_name}),e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:g.email})]}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[180px]",children:g.service_type})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[120px]",children:g.phone})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-xs text-gray-500",children:Si(g.created_at)}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold border ${_(g.status)}`,children:[D(g.status),g.status]})}),e.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",children:e.jsxs("button",{onClick:async()=>{try{const z={"Register Your New Company":"company-registration","Register New Company":"company-registration","Company Registration":"company-registration","Compliance for New Company":"company-compliance","Tax Audit":"tax-audit","Legal Advice":"legal-advice","Provident Fund Services":"provident-fund-services","TDS Services":"tds-services","TDS-Related Services":"tds-services","GST Services":"gst-services","GST-Related Services":"gst-services","Payroll Services":"payroll-services","Accounting & Bookkeeping":"accounting-bookkeeping"}[g.service_type];if(z){const te=await fetch(`http://127.0.0.1:8000/api/business-services/${z}/${g.id}`);if(te.ok){const H=await te.json();if(H.success&&H.application){S({...g,fullData:H.application}),X(!0);return}}}}catch(I){console.error("Error fetching full details:",I)}S(g),X(!0)},className:"text-indigo-600 hover:text-indigo-900 flex items-center gap-1 font-semibold hover:underline",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View"]})})]},g._id||g.id))})]})})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:c?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})}):Z.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No applications found"}):Z.map(g=>e.jsxs("div",{className:"p-3 sm:p-4 hover:bg-indigo-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 truncate",children:["#",g.id||g._id," - ",g.company_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.service_type})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-semibold border flex-shrink-0 ${_(g.status)}`,children:[D(g.status),g.status]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("p",{className:"text-xs text-gray-600 truncate",children:g.email}),e.jsx("p",{className:"text-xs font-medium text-gray-900",children:g.phone}),e.jsx("p",{className:"text-xs text-gray-500",children:Si(g.created_at)})]}),e.jsxs("button",{onClick:async()=>{try{const z={"Register Your New Company":"company-registration","Register New Company":"company-registration","Company Registration":"company-registration","Compliance for New Company":"company-compliance","Tax Audit":"tax-audit","Legal Advice":"legal-advice","Provident Fund Services":"provident-fund-services","TDS Services":"tds-services","TDS-Related Services":"tds-services","GST Services":"gst-services","GST-Related Services":"gst-services","Payroll Services":"payroll-services","Accounting & Bookkeeping":"accounting-bookkeeping"}[g.service_type];if(z){const te=await fetch(`http://127.0.0.1:8000/api/business-services/${z}/${g.id}`);if(te.ok){const H=await te.json();if(H.success&&H.application){S({...g,fullData:H.application}),X(!0);return}}}}catch(I){console.error("Error fetching full details:",I)}S(g),X(!0)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 active:bg-indigo-800 transition-all text-xs font-semibold touch-manipulation",children:[e.jsx(Ls,{className:"w-4 h-4"}),"View Details"]})]},g._id||g.id))}),f>1&&e.jsx("div",{className:"bg-gray-50 px-3 sm:px-4 md:px-6 py-3 sm:py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-700 text-center sm:text-left",children:["Showing ",(M-1)*re+1," to ",Math.min(M*re,ie.length)," of ",ie.length," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(g=>Math.max(1,g-1)),disabled:M===1,className:"px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-50 hover:border-indigo-500 active:bg-indigo-100 transition-all text-xs sm:text-sm font-medium touch-manipulation",children:"Previous"}),e.jsx("div",{className:"hidden sm:flex gap-1",children:Array.from({length:Math.min(f,5)},(g,I)=>{let z;return f<=5||M<=3?z=I+1:M>=f-2?z=f-4+I:z=M-2+I,e.jsx("button",{onClick:()=>E(z),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-all touch-manipulation ${M===z?"bg-indigo-600 text-white shadow-md":"border-2 border-gray-300 hover:bg-indigo-50 hover:border-indigo-500 text-gray-700"}`,children:z},z)})}),e.jsxs("div",{className:"sm:hidden px-3 py-2 bg-white border-2 border-gray-300 rounded-lg text-xs font-semibold text-gray-700",children:[M," / ",f]}),e.jsx("button",{onClick:()=>E(g=>Math.min(f,g+1)),disabled:M===f,className:"px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-50 hover:border-indigo-500 active:bg-indigo-100 transition-all text-xs sm:text-sm font-medium touch-manipulation",children:"Next"})]})]})})]}),L&&T&&e.jsx("div",{className:"fixed inset-0 bg-black/10 flex items-center justify-center z-50 p-2 xs:p-3 sm:p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl max-w-3xl w-full max-h-[95vh] my-auto overflow-y-auto shadow-2xl",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-3 sm:p-4 md:p-5 lg:p-6 rounded-t-lg sm:rounded-t-xl z-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold truncate",children:"Application Details"}),e.jsx("button",{onClick:()=>X(!1),className:"text-white hover:bg-white hover:bg-opacity-20 active:bg-opacity-30 p-1.5 sm:p-2 rounded-lg transition-all touch-manipulation flex-shrink-0","aria-label":"Close modal",children:e.jsx(St,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),e.jsxs("div",{className:"p-3 sm:p-4 md:p-5 lg:p-6 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-3 sm:gap-4 bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Application ID"}),e.jsxs("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:["#",T.id]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Service Type"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:T.service_type})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Company Name"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:T.company_name})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Contact Person"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:T.contact_person})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 truncate",children:T.email})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Phone"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:T.phone})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold border ${_(T.status)}`,children:[D(T.status),T.status]})]}),e.jsxs("div",{className:"min-w-0 xs:col-span-2",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Applied On"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:Si(T.created_at)})]})]}),T.company_address&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Company Address"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 break-words",children:T.company_address})]}),T.registration_number&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Registration Number"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900",children:T.registration_number})]}),T.message&&e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[e.jsx("label",{className:"text-[10px] xs:text-xs text-gray-600 font-medium block mb-1",children:"Message"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-900 whitespace-pre-wrap break-words",children:T.message})]}),(()=>{const I=(T.fullData||T).documents||{},z=I&&typeof I=="object"&&Object.keys(I).length>0;return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 sm:p-5 rounded-lg border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(as,{className:"w-5 h-5 text-blue-600"}),e.jsx("label",{className:"text-sm sm:text-base font-bold text-gray-800",children:"Uploaded Documents"})]}),z?e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:Object.entries(I).map(([te,H],W)=>{if(!H||typeof H!="string")return null;const G=H.split("\\").pop().split("/").pop(),V=te.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase());return e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-200 hover:border-blue-400 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(as,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-800 truncate",children:V}),e.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:G})]})]}),e.jsxs("button",{onClick:()=>n(H),className:"flex items-center gap-1 px-2 sm:px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all text-xs font-semibold touch-manipulation flex-shrink-0",children:[e.jsx(is,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})},W)})})}):e.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[e.jsx(as,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No documents uploaded for this application"})]})]})})(),e.jsxs("div",{className:"border-t-2 pt-4",children:[e.jsx("label",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-3 block",children:"Update Application Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>$(T._id||T.id,"Pending"),disabled:T.status==="Pending",className:`px-3 sm:px-4 py-3 sm:py-3.5 rounded-lg transition-all text-xs sm:text-sm font-bold touch-manipulation flex items-center justify-center gap-2 ${T.status==="Pending"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 active:from-yellow-700 active:to-yellow-800 shadow-md hover:shadow-lg"}`,children:[e.jsx(ls,{className:"w-4 h-4"}),"Pending"]}),e.jsxs("button",{onClick:()=>$(T._id||T.id,"Approved"),disabled:T.status==="Approved",className:`px-3 sm:px-4 py-3 sm:py-3.5 rounded-lg transition-all text-xs sm:text-sm font-bold touch-manipulation flex items-center justify-center gap-2 ${T.status==="Approved"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 active:from-blue-700 active:to-blue-800 shadow-md hover:shadow-lg"}`,children:[e.jsx(dt,{className:"w-4 h-4"}),"Approved"]}),e.jsxs("button",{onClick:()=>$(T._id||T.id,"Completed"),disabled:T.status==="Completed",className:`px-3 sm:px-4 py-3 sm:py-3.5 rounded-lg transition-all text-xs sm:text-sm font-bold touch-manipulation flex items-center justify-center gap-2 ${T.status==="Completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 active:from-green-700 active:to-green-800 shadow-md hover:shadow-lg"}`,children:[e.jsx(dt,{className:"w-4 h-4"}),"Completed"]}),e.jsxs("button",{onClick:()=>$(T._id||T.id,"Rejected"),disabled:T.status==="Rejected",className:`px-3 sm:px-4 py-3 sm:py-3.5 rounded-lg transition-all text-xs sm:text-sm font-bold touch-manipulation flex items-center justify-center gap-2 ${T.status==="Rejected"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 active:from-red-700 active:to-red-800 shadow-md hover:shadow-lg"}`,children:[e.jsx(St,{className:"w-4 h-4"}),"Rejected"]})]})]})]})]})})]})};function gt(n){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gt(n)}var os=Uint8Array,ks=Uint16Array,ml=Int32Array,Wi=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hi=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tl=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pc=function(n,s){for(var r=new ks(31),i=0;i<31;++i)r[i]=s+=1<<n[i-1];for(var l=new ml(r[30]),i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)l[o]=o-r[i]<<5|i;return{b:r,r:l}},fc=pc(Wi,2),gc=fc.b,sl=fc.r;gc[28]=258,sl[258]=28;var bc=pc(Hi,0),hu=bc.b,Gl=bc.r,rl=new ks(32768);for(var At=0;At<32768;++At){var qr=(At&43690)>>1|(At&21845)<<1;qr=(qr&52428)>>2|(qr&13107)<<2,qr=(qr&61680)>>4|(qr&3855)<<4,rl[At]=((qr&65280)>>8|(qr&255)<<8)>>1}var ur=(function(n,s,r){for(var i=n.length,l=0,o=new ks(s);l<i;++l)n[l]&&++o[n[l]-1];var c=new ks(s);for(l=1;l<s;++l)c[l]=c[l-1]+o[l-1]<<1;var m;if(r){m=new ks(1<<s);var u=15-s;for(l=0;l<i;++l)if(n[l])for(var b=l<<4|n[l],v=s-n[l],y=c[n[l]-1]++<<v,k=y|(1<<v)-1;y<=k;++y)m[rl[y]>>u]=b}else for(m=new ks(i),l=0;l<i;++l)n[l]&&(m[l]=rl[c[n[l]-1]++]>>15-n[l]);return m}),Wr=new os(288);for(var At=0;At<144;++At)Wr[At]=8;for(var At=144;At<256;++At)Wr[At]=9;for(var At=256;At<280;++At)Wr[At]=7;for(var At=280;At<288;++At)Wr[At]=8;var Da=new os(32);for(var At=0;At<32;++At)Da[At]=5;var mu=ur(Wr,9,0),xu=ur(Wr,9,1),pu=ur(Da,5,0),fu=ur(Da,5,1),qo=function(n){for(var s=n[0],r=1;r<n.length;++r)n[r]>s&&(s=n[r]);return s},Gs=function(n,s,r){var i=s/8|0;return(n[i]|n[i+1]<<8)>>(s&7)&r},Uo=function(n,s){var r=s/8|0;return(n[r]|n[r+1]<<8|n[r+2]<<16)>>(s&7)},xl=function(n){return(n+7)/8|0},vc=function(n,s,r){return(r==null||r>n.length)&&(r=n.length),new os(n.subarray(s,r))},gu=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Js=function(n,s,r){var i=new Error(s||gu[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Js),!r)throw i;return i},bu=function(n,s,r,i){var l=n.length,o=0;if(!l||s.f&&!s.l)return r||new os(0);var c=!r,m=c||s.i!=2,u=s.i;c&&(r=new os(l*3));var b=function(Ce){var De=r.length;if(Ce>De){var be=new os(Math.max(De*2,Ce));be.set(r),r=be}},v=s.f||0,y=s.p||0,k=s.b||0,x=s.l,M=s.d,E=s.m,T=s.n,S=l*8;do{if(!x){v=Gs(n,y,1);var L=Gs(n,y+1,3);if(y+=3,L)if(L==1)x=xu,M=fu,E=9,T=5;else if(L==2){var ve=Gs(n,y,31)+257,de=Gs(n,y+10,15)+4,$=ve+Gs(n,y+5,31)+1;y+=14;for(var ie=new os($),Z=new os(19),f=0;f<de;++f)Z[tl[f]]=Gs(n,y+f*3,7);y+=de*3;for(var _=qo(Z),D=(1<<_)-1,g=ur(Z,_,1),f=0;f<$;){var I=g[Gs(n,y,D)];y+=I&15;var X=I>>4;if(X<16)ie[f++]=X;else{var z=0,te=0;for(X==16?(te=3+Gs(n,y,3),y+=2,z=ie[f-1]):X==17?(te=3+Gs(n,y,7),y+=3):X==18&&(te=11+Gs(n,y,127),y+=7);te--;)ie[f++]=z}}var H=ie.subarray(0,ve),W=ie.subarray(ve);E=qo(H),T=qo(W),x=ur(H,E,1),M=ur(W,T,1)}else Js(1);else{var X=xl(y)+4,re=n[X-4]|n[X-3]<<8,ue=X+re;if(ue>l){u&&Js(0);break}m&&b(k+re),r.set(n.subarray(X,ue),k),s.b=k+=re,s.p=y=ue*8,s.f=v;continue}if(y>S){u&&Js(0);break}}m&&b(k+131072);for(var G=(1<<E)-1,V=(1<<T)-1,j=y;;j=y){var z=x[Uo(n,y)&G],F=z>>4;if(y+=z&15,y>S){u&&Js(0);break}if(z||Js(2),F<256)r[k++]=F;else if(F==256){j=y,x=null;break}else{var O=F-254;if(F>264){var f=F-257,K=Wi[f];O=Gs(n,y,(1<<K)-1)+gc[f],y+=K}var ee=M[Uo(n,y)&V],J=ee>>4;ee||Js(3),y+=ee&15;var W=hu[J];if(J>3){var K=Hi[J];W+=Uo(n,y)&(1<<K)-1,y+=K}if(y>S){u&&Js(0);break}m&&b(k+131072);var ne=k+O;if(k<W){var se=o-W,Ne=Math.min(W,ne);for(se+k<0&&Js(3);k<Ne;++k)r[k]=i[se+k]}for(;k<ne;++k)r[k]=r[k-W]}}s.l=x,s.p=j,s.b=k,s.f=v,x&&(v=1,s.m=E,s.d=M,s.n=T)}while(!v);return k!=r.length&&c?vc(r,0,k):r.subarray(0,k)},Ar=function(n,s,r){r<<=s&7;var i=s/8|0;n[i]|=r,n[i+1]|=r>>8},Ca=function(n,s,r){r<<=s&7;var i=s/8|0;n[i]|=r,n[i+1]|=r>>8,n[i+2]|=r>>16},zo=function(n,s){for(var r=[],i=0;i<n.length;++i)n[i]&&r.push({s:i,f:n[i]});var l=r.length,o=r.slice();if(!l)return{t:wc,l:0};if(l==1){var c=new os(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(ue,ve){return ue.f-ve.f}),r.push({s:-1,f:25001});var m=r[0],u=r[1],b=0,v=1,y=2;for(r[0]={s:-1,f:m.f+u.f,l:m,r:u};v!=l-1;)m=r[r[b].f<r[y].f?b++:y++],u=r[b!=v&&r[b].f<r[y].f?b++:y++],r[v++]={s:-1,f:m.f+u.f,l:m,r:u};for(var k=o[0].s,i=1;i<l;++i)o[i].s>k&&(k=o[i].s);var x=new ks(k+1),M=nl(r[v-1],x,0);if(M>s){var i=0,E=0,T=M-s,S=1<<T;for(o.sort(function(ve,de){return x[de.s]-x[ve.s]||ve.f-de.f});i<l;++i){var L=o[i].s;if(x[L]>s)E+=S-(1<<M-x[L]),x[L]=s;else break}for(E>>=T;E>0;){var X=o[i].s;x[X]<s?E-=1<<s-x[X]++-1:++i}for(;i>=0&&E;--i){var re=o[i].s;x[re]==s&&(--x[re],++E)}M=s}return{t:new os(x),l:M}},nl=function(n,s,r){return n.s==-1?Math.max(nl(n.l,s,r+1),nl(n.r,s,r+1)):s[n.s]=r},Yl=function(n){for(var s=n.length;s&&!n[--s];);for(var r=new ks(++s),i=0,l=n[0],o=1,c=function(u){r[i++]=u},m=1;m<=s;++m)if(n[m]==l&&m!=s)++o;else{if(!l&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(l),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(l);o=1,l=n[m]}return{c:r.subarray(0,i),n:s}},Pa=function(n,s){for(var r=0,i=0;i<s.length;++i)r+=n[i]*s[i];return r},yc=function(n,s,r){var i=r.length,l=xl(s+2);n[l]=i&255,n[l+1]=i>>8,n[l+2]=n[l]^255,n[l+3]=n[l+1]^255;for(var o=0;o<i;++o)n[l+o+4]=r[o];return(l+4+i)*8},Jl=function(n,s,r,i,l,o,c,m,u,b,v){Ar(s,v++,r),++l[256];for(var y=zo(l,15),k=y.t,x=y.l,M=zo(o,15),E=M.t,T=M.l,S=Yl(k),L=S.c,X=S.n,re=Yl(E),ue=re.c,ve=re.n,de=new ks(19),$=0;$<L.length;++$)++de[L[$]&31];for(var $=0;$<ue.length;++$)++de[ue[$]&31];for(var ie=zo(de,7),Z=ie.t,f=ie.l,_=19;_>4&&!Z[tl[_-1]];--_);var D=b+5<<3,g=Pa(l,Wr)+Pa(o,Da)+c,I=Pa(l,k)+Pa(o,E)+c+14+3*_+Pa(de,Z)+2*de[16]+3*de[17]+7*de[18];if(u>=0&&D<=g&&D<=I)return yc(s,v,n.subarray(u,u+b));var z,te,H,W;if(Ar(s,v,1+(I<g)),v+=2,I<g){z=ur(k,x,0),te=k,H=ur(E,T,0),W=E;var G=ur(Z,f,0);Ar(s,v,X-257),Ar(s,v+5,ve-1),Ar(s,v+10,_-4),v+=14;for(var $=0;$<_;++$)Ar(s,v+3*$,Z[tl[$]]);v+=3*_;for(var V=[L,ue],j=0;j<2;++j)for(var F=V[j],$=0;$<F.length;++$){var O=F[$]&31;Ar(s,v,G[O]),v+=Z[O],O>15&&(Ar(s,v,F[$]>>5&127),v+=F[$]>>12)}}else z=mu,te=Wr,H=pu,W=Da;for(var $=0;$<m;++$){var K=i[$];if(K>255){var O=K>>18&31;Ca(s,v,z[O+257]),v+=te[O+257],O>7&&(Ar(s,v,K>>23&31),v+=Wi[O]);var ee=K&31;Ca(s,v,H[ee]),v+=W[ee],ee>3&&(Ca(s,v,K>>5&8191),v+=Hi[ee])}else Ca(s,v,z[K]),v+=te[K]}return Ca(s,v,z[256]),v+te[256]},vu=new ml([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wc=new os(0),yu=function(n,s,r,i,l,o){var c=o.z||n.length,m=new os(i+c+5*(1+Math.ceil(c/7e3))+l),u=m.subarray(i,m.length-l),b=o.l,v=(o.r||0)&7;if(s){v&&(u[0]=o.r>>3);for(var y=vu[s-1],k=y>>13,x=y&8191,M=(1<<r)-1,E=o.p||new ks(32768),T=o.h||new ks(M+1),S=Math.ceil(r/3),L=2*S,X=function(we){return(n[we]^n[we+1]<<S^n[we+2]<<L)&M},re=new ml(25e3),ue=new ks(288),ve=new ks(32),de=0,$=0,ie=o.i||0,Z=0,f=o.w||0,_=0;ie+2<c;++ie){var D=X(ie),g=ie&32767,I=T[D];if(E[g]=I,T[D]=g,f<=ie){var z=c-ie;if((de>7e3||Z>24576)&&(z>423||!b)){v=Jl(n,u,0,re,ue,ve,$,Z,_,ie-_,v),Z=de=$=0,_=ie;for(var te=0;te<286;++te)ue[te]=0;for(var te=0;te<30;++te)ve[te]=0}var H=2,W=0,G=x,V=g-I&32767;if(z>2&&D==X(ie-V))for(var j=Math.min(k,z)-1,F=Math.min(32767,ie),O=Math.min(258,z);V<=F&&--G&&g!=I;){if(n[ie+H]==n[ie+H-V]){for(var K=0;K<O&&n[ie+K]==n[ie+K-V];++K);if(K>H){if(H=K,W=V,K>j)break;for(var ee=Math.min(V,K-2),J=0,te=0;te<ee;++te){var ne=ie-V+te&32767,se=E[ne],Ne=ne-se&32767;Ne>J&&(J=Ne,I=ne)}}}g=I,I=E[g],V+=g-I&32767}if(W){re[Z++]=268435456|sl[H]<<18|Gl[W];var Ce=sl[H]&31,De=Gl[W]&31;$+=Wi[Ce]+Hi[De],++ue[257+Ce],++ve[De],f=ie+H,++de}else re[Z++]=n[ie],++ue[n[ie]]}}for(ie=Math.max(ie,f);ie<c;++ie)re[Z++]=n[ie],++ue[n[ie]];v=Jl(n,u,b,re,ue,ve,$,Z,_,ie-_,v),b||(o.r=v&7|u[v/8|0]<<3,v-=7,o.h=T,o.p=E,o.i=ie,o.w=f)}else{for(var ie=o.w||0;ie<c+b;ie+=65535){var be=ie+65535;be>=c&&(u[v/8|0]=b,be=c),v=yc(u,v+1,n.subarray(ie,be))}o.i=c}return vc(m,0,i+xl(v)+l)},jc=function(){var n=1,s=0;return{p:function(r){for(var i=n,l=s,o=r.length|0,c=0;c!=o;){for(var m=Math.min(c+2655,o);c<m;++c)l+=i+=r[c];i=(i&65535)+15*(i>>16),l=(l&65535)+15*(l>>16)}n=i,s=l},d:function(){return n%=65521,s%=65521,(n&255)<<24|(n&65280)<<8|(s&255)<<8|s>>8}}},wu=function(n,s,r,i,l){if(!l&&(l={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),c=new os(o.length+n.length);c.set(o),c.set(n,o.length),n=c,l.w=o.length}return yu(n,s.level==null?6:s.level,s.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+s.mem,r,i,l)},Nc=function(n,s,r){for(;r;++s)n[s]=r,r>>>=8},ju=function(n,s){var r=s.level,i=r==0?0:r<6?1:r==9?3:2;if(n[0]=120,n[1]=i<<6|(s.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,s.dictionary){var l=jc();l.p(s.dictionary),Nc(n,2,l.d())}},Nu=function(n,s){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Js(6,"invalid zlib data"),(n[1]>>5&1)==1&&Js(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function al(n,s){s||(s={});var r=jc();r.p(n);var i=wu(n,s,s.dictionary?6:2,4);return ju(i,s),Nc(i,i.length-4,r.d()),i}function Au(n,s){return bu(n.subarray(Nu(n),-4),{i:2},s,s)}var ku=typeof TextDecoder<"u"&&new TextDecoder,Lu=0;try{ku.decode(wc,{stream:!0}),Lu=1}catch{}var et=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $o(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var wt={log:$o,warn:function(n){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):$o.call(null,arguments))},error:function(n){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):$o(n))}};function Wo(n,s,r){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){ln(i.response,s,r)},i.onerror=function(){wt.error("could not download file")},i.send()}function Xl(n){var s=new XMLHttpRequest;s.open("HEAD",n,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function Ci(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(s)}}var Fa,il,ln=et.saveAs||((typeof window>"u"?"undefined":gt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,s,r){var i=et.URL||et.webkitURL,l=document.createElement("a");s=s||n.name||"download",l.download=s,l.rel="noopener",typeof n=="string"?(l.href=n,l.origin!==location.origin?Xl(l.href)?Wo(n,s,r):Ci(l,l.target="_blank"):Ci(l)):(l.href=i.createObjectURL(n),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){Ci(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,s,r){if(s=s||n.name||"download",typeof n=="string")if(Xl(n))Wo(n,s,r);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout((function(){Ci(i)}))}else navigator.msSaveOrOpenBlob((function(l,o){return o===void 0?o={autoBom:!1}:gt(o)!=="object"&&(wt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l})(n,r),s)}:function(n,s,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return Wo(n,s,r);var l=n.type==="application/octet-stream",o=/constructor/i.test(et.HTMLElement)||et.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&o)&&(typeof FileReader>"u"?"undefined":gt(FileReader))==="object"){var m=new FileReader;m.onloadend=function(){var v=m.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=v:location=v,i=null},m.readAsDataURL(n)}else{var u=et.URL||et.webkitURL,b=u.createObjectURL(n);i?i.location=b:location.href=b,i=null,setTimeout((function(){u.revokeObjectURL(b)}),4e4)}});function Ac(n){var s;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}],i=0;i<r.length;i++){var l=r[i].re,o=r[i].process,c=l.exec(n);c&&(s=o(c),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var m=this.r.toString(16),u=this.g.toString(16),b=this.b.toString(16);return m.length==1&&(m="0"+m),u.length==1&&(u="0"+u),b.length==1&&(b="0"+b),"#"+m+u+b}}function Ho(n,s){var r=n[0],i=n[1],l=n[2],o=n[3];r=ts(r,i,l,o,s[0],7,-680876936),o=ts(o,r,i,l,s[1],12,-389564586),l=ts(l,o,r,i,s[2],17,606105819),i=ts(i,l,o,r,s[3],22,-1044525330),r=ts(r,i,l,o,s[4],7,-176418897),o=ts(o,r,i,l,s[5],12,1200080426),l=ts(l,o,r,i,s[6],17,-1473231341),i=ts(i,l,o,r,s[7],22,-45705983),r=ts(r,i,l,o,s[8],7,1770035416),o=ts(o,r,i,l,s[9],12,-1958414417),l=ts(l,o,r,i,s[10],17,-42063),i=ts(i,l,o,r,s[11],22,-1990404162),r=ts(r,i,l,o,s[12],7,1804603682),o=ts(o,r,i,l,s[13],12,-40341101),l=ts(l,o,r,i,s[14],17,-1502002290),r=ss(r,i=ts(i,l,o,r,s[15],22,1236535329),l,o,s[1],5,-165796510),o=ss(o,r,i,l,s[6],9,-1069501632),l=ss(l,o,r,i,s[11],14,643717713),i=ss(i,l,o,r,s[0],20,-373897302),r=ss(r,i,l,o,s[5],5,-701558691),o=ss(o,r,i,l,s[10],9,38016083),l=ss(l,o,r,i,s[15],14,-660478335),i=ss(i,l,o,r,s[4],20,-405537848),r=ss(r,i,l,o,s[9],5,568446438),o=ss(o,r,i,l,s[14],9,-1019803690),l=ss(l,o,r,i,s[3],14,-187363961),i=ss(i,l,o,r,s[8],20,1163531501),r=ss(r,i,l,o,s[13],5,-1444681467),o=ss(o,r,i,l,s[2],9,-51403784),l=ss(l,o,r,i,s[7],14,1735328473),r=rs(r,i=ss(i,l,o,r,s[12],20,-1926607734),l,o,s[5],4,-378558),o=rs(o,r,i,l,s[8],11,-2022574463),l=rs(l,o,r,i,s[11],16,1839030562),i=rs(i,l,o,r,s[14],23,-35309556),r=rs(r,i,l,o,s[1],4,-1530992060),o=rs(o,r,i,l,s[4],11,1272893353),l=rs(l,o,r,i,s[7],16,-155497632),i=rs(i,l,o,r,s[10],23,-1094730640),r=rs(r,i,l,o,s[13],4,681279174),o=rs(o,r,i,l,s[0],11,-358537222),l=rs(l,o,r,i,s[3],16,-722521979),i=rs(i,l,o,r,s[6],23,76029189),r=rs(r,i,l,o,s[9],4,-640364487),o=rs(o,r,i,l,s[12],11,-421815835),l=rs(l,o,r,i,s[15],16,530742520),r=ns(r,i=rs(i,l,o,r,s[2],23,-995338651),l,o,s[0],6,-198630844),o=ns(o,r,i,l,s[7],10,1126891415),l=ns(l,o,r,i,s[14],15,-1416354905),i=ns(i,l,o,r,s[5],21,-57434055),r=ns(r,i,l,o,s[12],6,1700485571),o=ns(o,r,i,l,s[3],10,-1894986606),l=ns(l,o,r,i,s[10],15,-1051523),i=ns(i,l,o,r,s[1],21,-2054922799),r=ns(r,i,l,o,s[8],6,1873313359),o=ns(o,r,i,l,s[15],10,-30611744),l=ns(l,o,r,i,s[6],15,-1560198380),i=ns(i,l,o,r,s[13],21,1309151649),r=ns(r,i,l,o,s[4],6,-145523070),o=ns(o,r,i,l,s[11],10,-1120210379),l=ns(l,o,r,i,s[2],15,718787259),i=ns(i,l,o,r,s[9],21,-343485551),n[0]=$r(r,n[0]),n[1]=$r(i,n[1]),n[2]=$r(l,n[2]),n[3]=$r(o,n[3])}function Vi(n,s,r,i,l,o){return s=$r($r(s,n),$r(i,o)),$r(s<<l|s>>>32-l,r)}function ts(n,s,r,i,l,o,c){return Vi(s&r|~s&i,n,s,l,o,c)}function ss(n,s,r,i,l,o,c){return Vi(s&i|r&~i,n,s,l,o,c)}function rs(n,s,r,i,l,o,c){return Vi(s^r^i,n,s,l,o,c)}function ns(n,s,r,i,l,o,c){return Vi(r^(s|~i),n,s,l,o,c)}function kc(n){var s,r=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=n.length;s+=64)Ho(i,Su(n.substring(s-64,s)));n=n.substring(s-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<n.length;s++)l[s>>2]|=n.charCodeAt(s)<<(s%4<<3);if(l[s>>2]|=128<<(s%4<<3),s>55)for(Ho(i,l),s=0;s<16;s++)l[s]=0;return l[14]=8*r,Ho(i,l),i}function Su(n){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=n.charCodeAt(s)+(n.charCodeAt(s+1)<<8)+(n.charCodeAt(s+2)<<16)+(n.charCodeAt(s+3)<<24);return r}Fa=et.atob.bind(et),il=et.btoa.bind(et);var Kl="0123456789abcdef".split("");function Cu(n){for(var s="",r=0;r<4;r++)s+=Kl[n>>8*r+4&15]+Kl[n>>8*r&15];return s}function Pu(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function ol(n){return kc(n).map(Pu).join("")}var _u=(function(n){for(var s=0;s<n.length;s++)n[s]=Cu(n[s]);return n.join("")})(kc("hello"))!="5d41402abc4b2a76b9719d911017c592";function $r(n,s){if(_u){var r=(65535&n)+(65535&s);return(n>>16)+(s>>16)+(r>>16)<<16|65535&r}return n+s&4294967295}function ll(n,s){var r,i,l,o;if(n!==r){for(var c=(l=n,o=1+(256/n.length>>0),new Array(o+1).join(l)),m=[],u=0;u<256;u++)m[u]=u;var b=0;for(u=0;u<256;u++){var v=m[u];b=(b+v+c.charCodeAt(u))%256,m[u]=m[b],m[b]=v}r=n,i=m}else m=i;var y=s.length,k=0,x=0,M="";for(u=0;u<y;u++)x=(x+(v=m[k=(k+1)%256]))%256,m[k]=m[x],m[x]=v,c=m[(m[k]+m[x])%256],M+=String.fromCharCode(s.charCodeAt(u)^c);return M}var Zl={print:4,modify:8,copy:16,"annot-forms":32};function $n(n,s,r,i){this.v=1,this.r=2;var l=192;n.forEach((function(m){if(Zl.perm!==void 0)throw new Error("Invalid permission: "+m);l+=Zl[m]})),this.padding="(¬øN^Nu¬äAd\0NV√ø√∫\b..\0¬∂√êh>¬Ä/\f¬©√ædSiz";var o=(s+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^l)),this.encryptionKey=ol(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ll(this.encryptionKey,this.padding)}function Wn(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var s="",r=n.length,i=0;i<r;i++){var l=n.charCodeAt(i);l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?s+="#"+("0"+l.toString(16)).slice(-2):s+=n[i]}return s}function Ql(n){if(gt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,i,l){if(l=l||!1,typeof r!="string"||typeof i!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var o=Math.random().toString(35);return s[r][o]=[i,!!l],o},this.unsubscribe=function(r){for(var i in s)if(s[i][r])return delete s[i][r],Object.keys(s[i]).length===0&&delete s[i],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),l=[];for(var o in s[r]){var c=s[r][o];try{c[0].apply(n,i)}catch(m){et.console&&wt.error("jsPDF PubSub Error",m.message,m)}c[1]&&l.push(o)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Ui(n){if(!(this instanceof Ui))return new Ui(n);var s="opacity,stroke-opacity".split(",");for(var r in n)n.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=n[r]);this.id="",this.objectNumber=-1}function Lc(n,s){this.gState=n,this.matrix=s,this.id="",this.objectNumber=-1}function cn(n,s,r,i,l){if(!(this instanceof cn))return new cn(n,s,r,i,l);this.type=n==="axial"?2:3,this.coords=s,this.colors=r,Lc.call(this,i,l)}function Hn(n,s,r,i,l){if(!(this instanceof Hn))return new Hn(n,s,r,i,l);this.boundingBox=n,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,Lc.call(this,i,l)}function Qe(n){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],l=arguments[2],o=arguments[3],c=[],m=1,u=16,b="S",v=null;gt(n=n||{})==="object"&&(r=n.orientation,i=n.unit||i,l=n.format||l,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),m=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(s=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),b=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",r=(""+(r||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,k={},x={internal:{},__private__:{}};x.__private__.PubSub=Ql;var M="1.3",E=x.__private__.getPdfVersion=function(){return M};x.__private__.setPdfVersion=function(d){M=d};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return T};var S=x.__private__.getPageFormat=function(d){return T[d]};l=l||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},X=L.COMPAT;function re(){this.saveGraphicsState(),q(new Ze(Be,0,0,-Be,0,Cr()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),b="n",X=L.ADVANCED}function ue(){this.restoreGraphicsState(),b="S",X=L.COMPAT}var ve=x.__private__.combineFontStyleAndFontWeight=function(d,A){if(d=="bold"&&A=="normal"||d=="bold"&&A==400||d=="normal"&&A=="italic"||d=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(d=A==400||A==="normal"?d==="italic"?"italic":"normal":A!=700&&A!=="bold"||d!=="normal"?(A==700?"bold":A)+""+d:"bold"),d};x.advancedAPI=function(d){var A=X===L.COMPAT;return A&&re.call(this),typeof d!="function"||(d(this),A&&ue.call(this)),this},x.compatAPI=function(d){var A=X===L.ADVANCED;return A&&ue.call(this),typeof d!="function"||(d(this),A&&re.call(this)),this},x.isAdvancedAPI=function(){return X===L.ADVANCED};var de,$=function(d){if(X!==L.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=x.roundToPrecision=x.__private__.roundToPrecision=function(d,A){var Y=s||A;if(isNaN(d)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(Y).replace(/0+$/,"")};de=x.hpf=x.__private__.hpf=typeof u=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(d,u)}:u==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(d,16)};var Z=x.f2=x.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return ie(d,2)},f=x.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return ie(d,3)},_=x.scale=x.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return X===L.COMPAT?d*Be:X===L.ADVANCED?d:void 0},D=function(d){return X===L.COMPAT?Cr()-d:X===L.ADVANCED?d:void 0},g=function(d){return _(D(d))};x.__private__.setPrecision=x.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(s=parseInt(d,10))};var I,z="00000000000000000000000000000000",te=x.__private__.getFileId=function(){return z},H=x.__private__.setFileId=function(d){return z=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():z.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),v!==null&&(Qt=new $n(v.userPermissions,v.userPassword,v.ownerPassword,z)),z};x.setFileId=function(d){return H(d),this},x.getFileId=function(){return te()};var W=x.__private__.convertDateToPDFDate=function(d){var A=d.getTimezoneOffset(),Y=A<0?"+":"-",ae=Math.floor(Math.abs(A/60)),pe=Math.abs(A%60),je=[Y,O(ae),"'",O(pe),"'"].join("");return["D:",d.getFullYear(),O(d.getMonth()+1),O(d.getDate()),O(d.getHours()),O(d.getMinutes()),O(d.getSeconds()),je].join("")},G=x.__private__.convertPDFDateToDate=function(d){var A=parseInt(d.substr(2,4),10),Y=parseInt(d.substr(6,2),10)-1,ae=parseInt(d.substr(8,2),10),pe=parseInt(d.substr(10,2),10),je=parseInt(d.substr(12,2),10),Fe=parseInt(d.substr(14,2),10);return new Date(A,Y,ae,pe,je,Fe,0)},V=x.__private__.setCreationDate=function(d){var A;if(d===void 0&&(d=new Date),d instanceof Date)A=W(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=d}return I=A},j=x.__private__.getCreationDate=function(d){var A=I;return d==="jsDate"&&(A=G(I)),A};x.setCreationDate=function(d){return V(d),this},x.getCreationDate=function(d){return j(d)};var F,O=x.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},K=x.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},ee=0,J=[],ne=[],se=0,Ne=[],Ce=[],De=!1,be=ne,we=function(){ee=0,se=0,ne=[],J=[],Ne=[],xr=qt(),Os=qt()};x.__private__.setCustomOutputDestination=function(d){De=!0,be=d};var Q=function(d){De||(be=d)};x.__private__.resetCustomOutputDestination=function(){De=!1,be=ne};var q=x.__private__.out=function(d){return d=d.toString(),se+=d.length+1,be.push(d),be},He=x.__private__.write=function(d){return q(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Me=x.__private__.getArrayBuffer=function(d){for(var A=d.length,Y=new ArrayBuffer(A),ae=new Uint8Array(Y);A--;)ae[A]=d.charCodeAt(A);return Y},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Ae};var Te=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(d){return Te=X===L.ADVANCED?d/Be:d,this};var Oe,me=x.__private__.getFontSize=x.getFontSize=function(){return X===L.COMPAT?Te:Te*Be},ke=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(d){return ke=d,this},x.__private__.getR2L=x.getR2L=function(){return ke};var _e,Ee=x.__private__.setZoomMode=function(d){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))Oe=d;else if(isNaN(d)){if(A.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');Oe=d}else Oe=parseInt(d,10)};x.__private__.getZoomMode=function(){return Oe};var Ve,Ke=x.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');_e=d};x.__private__.getPageMode=function(){return _e};var Xe=x.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Ve=d};x.__private__.getLayoutMode=function(){return Ve},x.__private__.setDisplayMode=x.setDisplayMode=function(d,A,Y){return Ee(d),Xe(A),Ke(Y),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(d){if(Object.keys(Re).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[d]},x.__private__.getDocumentProperties=function(){return Re},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(d){for(var A in Re)Re.hasOwnProperty(A)&&d[A]&&(Re[A]=d[A]);return this},x.__private__.setDocumentProperty=function(d,A){if(Object.keys(Re).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[d]=A};var Ye,Be,kt,ut,Ms,vt={},Lt={},Zs=[],mt={},Gr={},Pt={},Es={},mr=null,_t=0,st=[],xt=new Ql(x),Yr=n.hotfixes||[],Xt={},Qs={},er=[],Ze=function d(A,Y,ae,pe,je,Fe){if(!(this instanceof d))return new d(A,Y,ae,pe,je,Fe);isNaN(A)&&(A=1),isNaN(Y)&&(Y=0),isNaN(ae)&&(ae=0),isNaN(pe)&&(pe=1),isNaN(je)&&(je=0),isNaN(Fe)&&(Fe=0),this._matrix=[A,Y,ae,pe,je,Fe]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(de).join(d)},Ze.prototype.multiply=function(d){var A=d.sx*this.sx+d.shy*this.shx,Y=d.sx*this.shy+d.shy*this.sy,ae=d.shx*this.sx+d.sy*this.shx,pe=d.shx*this.shy+d.sy*this.sy,je=d.tx*this.sx+d.ty*this.shx+this.tx,Fe=d.tx*this.shy+d.ty*this.sy+this.ty;return new Ze(A,Y,ae,pe,je,Fe)},Ze.prototype.decompose=function(){var d=this.sx,A=this.shy,Y=this.shx,ae=this.sy,pe=this.tx,je=this.ty,Fe=Math.sqrt(d*d+A*A),ze=(d/=Fe)*Y+(A/=Fe)*ae;Y-=d*ze,ae-=A*ze;var Ge=Math.sqrt(Y*Y+ae*ae);return ze/=Ge,d*(ae/=Ge)<A*(Y/=Ge)&&(d=-d,A=-A,ze=-ze,Fe=-Fe),{scale:new Ze(Fe,0,0,Ge,0,0),translate:new Ze(1,0,0,1,pe,je),rotate:new Ze(d,A,-A,d,0,0),skew:new Ze(1,0,ze,1,0,0)}},Ze.prototype.toString=function(d){return this.join(" ")},Ze.prototype.inversed=function(){var d=this.sx,A=this.shy,Y=this.shx,ae=this.sy,pe=this.tx,je=this.ty,Fe=1/(d*ae-A*Y),ze=ae*Fe,Ge=-A*Fe,at=-Y*Fe,rt=d*Fe;return new Ze(ze,Ge,at,rt,-ze*pe-at*je,-Ge*pe-rt*je)},Ze.prototype.applyToPoint=function(d){var A=d.x*this.sx+d.y*this.shx+this.tx,Y=d.x*this.shy+d.y*this.sy+this.ty;return new kn(A,Y)},Ze.prototype.applyToRectangle=function(d){var A=this.applyToPoint(d),Y=this.applyToPoint(new kn(d.x+d.w,d.y+d.h));return new ia(A.x,A.y,Y.x-A.x,Y.y-A.y)},Ze.prototype.clone=function(){var d=this.sx,A=this.shy,Y=this.shx,ae=this.sy,pe=this.tx,je=this.ty;return new Ze(d,A,Y,ae,pe,je)},x.Matrix=Ze;var Bs=x.matrixMult=function(d,A){return A.multiply(d)},tr=new Ze(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=tr;var ms=function(d,A){if(!Gr[d]){var Y=(A instanceof cn?"Sh":"P")+(Object.keys(mt).length+1).toString(10);A.id=Y,Gr[d]=Y,mt[Y]=A,xt.publish("addPattern",A)}};x.ShadingPattern=cn,x.TilingPattern=Hn,x.addShadingPattern=function(d,A){return $("addShadingPattern()"),ms(d,A),this},x.beginTilingPattern=function(d){$("beginTilingPattern()"),ei(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},x.endTilingPattern=function(d,A){$("endTilingPattern()"),A.stream=Ce[F].join(`
`),ms(d,A),xt.publish("endTilingPattern",A),er.pop().restore()};var Wt=x.__private__.newObject=function(){var d=qt();return ys(d,!0),d},qt=x.__private__.newObjectDeferred=function(){return ee++,J[ee]=function(){return se},ee},ys=function(d,A){return A=typeof A=="boolean"&&A,J[d]=se,A&&q(d+" 0 obj"),d},hn=x.__private__.newAdditionalObject=function(){var d={objId:qt(),content:""};return Ne.push(d),d},xr=qt(),Os=qt(),qs=x.__private__.decodeColorString=function(d){var A=d.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var Y=parseFloat(A[0]);A=[Y,Y,Y,"r"]}for(var ae="#",pe=0;pe<3;pe++)ae+=("0"+Math.floor(255*parseFloat(A[pe])).toString(16)).slice(-2);return ae},Us=x.__private__.encodeColorString=function(d){var A;typeof d=="string"&&(d={ch1:d});var Y=d.ch1,ae=d.ch2,pe=d.ch3,je=d.ch4,Fe=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var ze=new Ac(Y);if(ze.ok)Y=ze.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var Ge=parseInt(Y.substr(1),16);Y=Ge>>16&255,ae=Ge>>8&255,pe=255&Ge}if(ae===void 0||je===void 0&&Y===ae&&ae===pe)if(typeof Y=="string")A=Y+" "+Fe[0];else switch(d.precision){case 2:A=Z(Y/255)+" "+Fe[0];break;case 3:default:A=f(Y/255)+" "+Fe[0]}else if(je===void 0||gt(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return A=["1.","1.","1.",Fe[1]].join(" ");if(typeof Y=="string")A=[Y,ae,pe,Fe[1]].join(" ");else switch(d.precision){case 2:A=[Z(Y/255),Z(ae/255),Z(pe/255),Fe[1]].join(" ");break;default:case 3:A=[f(Y/255),f(ae/255),f(pe/255),Fe[1]].join(" ")}}else if(typeof Y=="string")A=[Y,ae,pe,je,Fe[2]].join(" ");else switch(d.precision){case 2:A=[Z(Y),Z(ae),Z(pe),Z(je),Fe[2]].join(" ");break;case 3:default:A=[f(Y),f(ae),f(pe),f(je),Fe[2]].join(" ")}return A},sr=x.__private__.getFilters=function(){return c},Ss=x.__private__.putStream=function(d){var A=(d=d||{}).data||"",Y=d.filters||sr(),ae=d.alreadyAppliedFilters||[],pe=d.addLength1||!1,je=A.length,Fe=d.objectId,ze=function(es){return es};if(v!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ze=Qt.encryptor(Fe,0));var Ge={};Y===!0&&(Y=["FlateEncode"]);var at=d.additionalKeyValues||[],rt=(Ge=Qe.API.processDataByFilters!==void 0?Qe.API.processDataByFilters(A,Y):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(Ge.data.length!==0&&(at.push({key:"Length",value:Ge.data.length}),pe===!0&&at.push({key:"Length1",value:je})),rt.length!=0)if(rt.split("/").length-1==1)at.push({key:"Filter",value:rt});else{at.push({key:"Filter",value:"["+rt+"]"});for(var lt=0;lt<at.length;lt+=1)if(at[lt].key==="DecodeParms"){for(var Ct=[],It=0;It<Ge.reverseChain.split("/").length-1;It+=1)Ct.push("null");Ct.push(at[lt].value),at[lt].value="["+Ct.join(" ")+"]"}}q("<<");for(var Ut=0;Ut<at.length;Ut++)q("/"+at[Ut].key+" "+at[Ut].value);q(">>"),Ge.data.length!==0&&(q("stream"),q(ze(Ge.data)),q("endstream"))},rr=x.__private__.putPage=function(d){var A=d.number,Y=d.data,ae=d.objId,pe=d.contentsObjId;ys(ae,!0),q("<</Type /Page"),q("/Parent "+d.rootDictionaryObjId+" 0 R"),q("/Resources "+d.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(de(d.mediaBox.bottomLeftX))+" "+parseFloat(de(d.mediaBox.bottomLeftY))+" "+de(d.mediaBox.topRightX)+" "+de(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&q("/CropBox ["+de(d.cropBox.bottomLeftX)+" "+de(d.cropBox.bottomLeftY)+" "+de(d.cropBox.topRightX)+" "+de(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&q("/BleedBox ["+de(d.bleedBox.bottomLeftX)+" "+de(d.bleedBox.bottomLeftY)+" "+de(d.bleedBox.topRightX)+" "+de(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&q("/TrimBox ["+de(d.trimBox.bottomLeftX)+" "+de(d.trimBox.bottomLeftY)+" "+de(d.trimBox.topRightX)+" "+de(d.trimBox.topRightY)+"]"),d.artBox!==null&&q("/ArtBox ["+de(d.artBox.bottomLeftX)+" "+de(d.artBox.bottomLeftY)+" "+de(d.artBox.topRightX)+" "+de(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&q("/UserUnit "+d.userUnit),xt.publish("putPage",{objId:ae,pageContext:st[A],pageNumber:A,page:Y}),q("/Contents "+pe+" 0 R"),q(">>"),q("endobj");var je=Y.join(`
`);return X===L.ADVANCED&&(je+=`
Q`),ys(pe,!0),Ss({data:je,filters:sr(),objectId:pe}),q("endobj"),ae},Jr=x.__private__.putPages=function(){var d,A,Y=[];for(d=1;d<=_t;d++)st[d].objId=qt(),st[d].contentsObjId=qt();for(d=1;d<=_t;d++)Y.push(rr({number:d,data:Ce[d],objId:st[d].objId,contentsObjId:st[d].contentsObjId,mediaBox:st[d].mediaBox,cropBox:st[d].cropBox,bleedBox:st[d].bleedBox,trimBox:st[d].trimBox,artBox:st[d].artBox,userUnit:st[d].userUnit,rootDictionaryObjId:xr,resourceDictionaryObjId:Os}));ys(xr,!0),q("<</Type /Pages");var ae="/Kids [";for(A=0;A<_t;A++)ae+=Y[A]+" 0 R ";q(ae+"]"),q("/Count "+_t),q(">>"),q("endobj"),xt.publish("postPutPages")},mn=function(d){xt.publish("putFont",{font:d,out:q,newObject:Wt,putStream:Ss}),d.isAlreadyPutted!==!0&&(d.objectNumber=Wt(),q("<<"),q("/Type /Font"),q("/BaseFont /"+Wn(d.postScriptName)),q("/Subtype /Type1"),typeof d.encoding=="string"&&q("/Encoding /"+d.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},xn=function(){for(var d in vt)vt.hasOwnProperty(d)&&(y===!1||y===!0&&k.hasOwnProperty(d))&&mn(vt[d])},pn=function(d){d.objectNumber=Wt();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[de(d.x),de(d.y),de(d.x+d.width),de(d.y+d.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var Y=d.pages[1].join(`
`);Ss({data:Y,additionalKeyValues:A,objectId:d.objectNumber}),q("endobj")},fn=function(){for(var d in Xt)Xt.hasOwnProperty(d)&&pn(Xt[d])},Ma=function(d,A){var Y,ae=[],pe=1/(A-1);for(Y=0;Y<1;Y+=pe)ae.push(Y);if(ae.push(1),d[0].offset!=0){var je={offset:0,color:d[0].color};d.unshift(je)}if(d[d.length-1].offset!=1){var Fe={offset:1,color:d[d.length-1].color};d.push(Fe)}for(var ze="",Ge=0,at=0;at<ae.length;at++){for(Y=ae[at];Y>d[Ge+1].offset;)Ge++;var rt=d[Ge].offset,lt=(Y-rt)/(d[Ge+1].offset-rt),Ct=d[Ge].color,It=d[Ge+1].color;ze+=K(Math.round((1-lt)*Ct[0]+lt*It[0]).toString(16))+K(Math.round((1-lt)*Ct[1]+lt*It[1]).toString(16))+K(Math.round((1-lt)*Ct[2]+lt*It[2]).toString(16))}return ze.trim()},Gi=function(d,A){A||(A=21);var Y=Wt(),ae=Ma(d.colors,A),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+A+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ss({data:ae,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),q("endobj"),d.objectNumber=Wt(),q("<< /ShadingType "+d.type),q("/ColorSpace /DeviceRGB");var je="/Coords ["+de(parseFloat(d.coords[0]))+" "+de(parseFloat(d.coords[1]))+" ";d.type===2?je+=de(parseFloat(d.coords[2]))+" "+de(parseFloat(d.coords[3])):je+=de(parseFloat(d.coords[2]))+" "+de(parseFloat(d.coords[3]))+" "+de(parseFloat(d.coords[4]))+" "+de(parseFloat(d.coords[5])),q(je+="]"),d.matrix&&q("/Matrix ["+d.matrix.toString()+"]"),q("/Function "+Y+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Yi=function(d,A){var Y=qt(),ae=Wt();A.push({resourcesOid:Y,objectOid:ae}),d.objectNumber=ae;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+d.boundingBox.map(de).join(" ")+"]"}),pe.push({key:"XStep",value:de(d.xStep)}),pe.push({key:"YStep",value:de(d.yStep)}),pe.push({key:"Resources",value:Y+" 0 R"}),d.matrix&&pe.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),Ss({data:d.stream,additionalKeyValues:pe,objectId:d.objectNumber}),q("endobj")},gn=function(d){var A;for(A in mt)mt.hasOwnProperty(A)&&(mt[A]instanceof cn?Gi(mt[A]):mt[A]instanceof Hn&&Yi(mt[A],d))},Ea=function(d){for(var A in d.objectNumber=Wt(),q("<<"),d)switch(A){case"opacity":q("/ca "+Z(d[A]));break;case"stroke-opacity":q("/CA "+Z(d[A]))}q(">>"),q("endobj")},Ji=function(){var d;for(d in Pt)Pt.hasOwnProperty(d)&&Ea(Pt[d])},Xn=function(){for(var d in q("/XObject <<"),Xt)Xt.hasOwnProperty(d)&&Xt[d].objectNumber>=0&&q("/"+d+" "+Xt[d].objectNumber+" 0 R");xt.publish("putXobjectDict"),q(">>")},Xi=function(){Qt.oid=Wt(),q("<<"),q("/Filter /Standard"),q("/V "+Qt.v),q("/R "+Qt.r),q("/U <"+Qt.toHexString(Qt.U)+">"),q("/O <"+Qt.toHexString(Qt.O)+">"),q("/P "+Qt.P),q(">>"),q("endobj")},Ba=function(){for(var d in q("/Font <<"),vt)vt.hasOwnProperty(d)&&(y===!1||y===!0&&k.hasOwnProperty(d))&&q("/"+d+" "+vt[d].objectNumber+" 0 R");q(">>")},Ki=function(){if(Object.keys(mt).length>0){for(var d in q("/Shading <<"),mt)mt.hasOwnProperty(d)&&mt[d]instanceof cn&&mt[d].objectNumber>=0&&q("/"+d+" "+mt[d].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),q(">>")}},bn=function(d){if(Object.keys(mt).length>0){for(var A in q("/Pattern <<"),mt)mt.hasOwnProperty(A)&&mt[A]instanceof x.TilingPattern&&mt[A].objectNumber>=0&&mt[A].objectNumber<d&&q("/"+A+" "+mt[A].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),q(">>")}},Zi=function(){if(Object.keys(Pt).length>0){var d;for(d in q("/ExtGState <<"),Pt)Pt.hasOwnProperty(d)&&Pt[d].objectNumber>=0&&q("/"+d+" "+Pt[d].objectNumber+" 0 R");xt.publish("putGStateDict"),q(">>")}},Tt=function(d){ys(d.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ba(),Ki(),bn(d.objectOid),Zi(),Xn(),q(">>"),q("endobj")},Oa=function(){var d=[];xn(),Ji(),fn(),gn(d),xt.publish("putResources"),d.forEach(Tt),Tt({resourcesOid:Os,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},qa=function(){xt.publish("putAdditionalObjects");for(var d=0;d<Ne.length;d++){var A=Ne[d];ys(A.objId,!0),q(A.content),q("endobj")}xt.publish("postPutAdditionalObjects")},Ua=function(d){Lt[d.fontName]=Lt[d.fontName]||{},Lt[d.fontName][d.fontStyle]=d.id},Kn=function(d,A,Y,ae,pe){var je={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:d,fontName:A,fontStyle:Y,encoding:ae,isStandardFont:pe||!1,metadata:{}};return xt.publish("addFont",{font:je,instance:this}),vt[je.id]=je,Ua(je),je.id},Qi=function(d){for(var A=0,Y=Ae.length;A<Y;A++){var ae=Kn.call(this,d[A][0],d[A][1],d[A][2],Ae[A][3],!0);y===!1&&(k[ae]=!0);var pe=d[A][0].split("-");Ua({id:ae,fontName:pe[0],fontStyle:pe[1]||""})}xt.publish("addFonts",{fonts:vt,dictionary:Lt})},zs=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(ae){var A=ae.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var Y="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ae.message;if(!et.console)throw new Error(Y);et.console.error(Y,ae),et.alert&&alert(Y)}},d.foo.bar=d,d.foo},vn=function(d,A){var Y,ae,pe,je,Fe,ze,Ge,at,rt;if(pe=(A=A||{}).sourceEncoding||"Unicode",Fe=A.outputEncoding,(A.autoencode||Fe)&&vt[Ye].metadata&&vt[Ye].metadata[pe]&&vt[Ye].metadata[pe].encoding&&(je=vt[Ye].metadata[pe].encoding,!Fe&&vt[Ye].encoding&&(Fe=vt[Ye].encoding),!Fe&&je.codePages&&(Fe=je.codePages[0]),typeof Fe=="string"&&(Fe=je[Fe]),Fe)){for(Ge=!1,ze=[],Y=0,ae=d.length;Y<ae;Y++)(at=Fe[d.charCodeAt(Y)])?ze.push(String.fromCharCode(at)):ze.push(d[Y]),ze[Y].charCodeAt(0)>>8&&(Ge=!0);d=ze.join("")}for(Y=d.length;Ge===void 0&&Y!==0;)d.charCodeAt(Y-1)>>8&&(Ge=!0),Y--;if(!Ge)return d;for(ze=A.noBOM?[]:[254,255],Y=0,ae=d.length;Y<ae;Y++){if((rt=(at=d.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(rt),ze.push(at-(rt<<8))}return String.fromCharCode.apply(void 0,ze)},xs=x.__private__.pdfEscape=x.pdfEscape=function(d,A){return vn(d,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zn=x.__private__.beginPage=function(d){Ce[++_t]=[],st[_t]={objId:0,contentsObjId:0,userUnit:Number(m),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},$a(_t),Q(Ce[F])},za=function(d,A){var Y,ae,pe;switch(r=A||r,typeof d=="string"&&(Y=S(d.toLowerCase()),Array.isArray(Y)&&(ae=Y[0],pe=Y[1])),Array.isArray(d)&&(ae=d[0]*Be,pe=d[1]*Be),isNaN(ae)&&(ae=l[0],pe=l[1]),(ae>14400||pe>14400)&&(wt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),pe=Math.min(14400,pe)),l=[ae,pe],r.substr(0,1)){case"l":pe>ae&&(l=[pe,ae]);break;case"p":ae>pe&&(l=[pe,ae])}Zn(l),Ja(sa),q($s),na!==0&&q(na+" J"),aa!==0&&q(aa+" j"),xt.publish("addPage",{pageNumber:_t})},eo=function(d){d>0&&d<=_t&&(Ce.splice(d,1),st.splice(d,1),_t--,F>_t&&(F=_t),this.setPage(F))},$a=function(d){d>0&&d<=_t&&(F=d)},to=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ce.length-1},Wa=function(d,A,Y){var ae,pe=void 0;return Y=Y||{},d=d!==void 0?d:vt[Ye].fontName,A=A!==void 0?A:vt[Ye].fontStyle,ae=d.toLowerCase(),Lt[ae]!==void 0&&Lt[ae][A]!==void 0?pe=Lt[ae][A]:Lt[d]!==void 0&&Lt[d][A]!==void 0?pe=Lt[d][A]:Y.disableWarning===!1&&wt.warn("Unable to look up font label for font '"+d+"', '"+A+"'. Refer to getFontList() for available fonts."),pe||Y.noFallback||(pe=Lt.times[A])==null&&(pe=Lt.times.normal),pe},so=x.__private__.putInfo=function(){var d=Wt(),A=function(ae){return ae};for(var Y in v!==null&&(A=Qt.encryptor(d,0)),q("<<"),q("/Producer ("+xs(A("jsPDF "+Qe.version))+")"),Re)Re.hasOwnProperty(Y)&&Re[Y]&&q("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+xs(A(Re[Y]))+")");q("/CreationDate ("+xs(A(I))+")"),q(">>"),q("endobj")},Qn=x.__private__.putCatalog=function(d){var A=(d=d||{}).rootDictionaryObjId||xr;switch(Wt(),q("<<"),q("/Type /Catalog"),q("/Pages "+A+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+Oe;Y.substr(Y.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&q("/OpenAction [3 0 R /XYZ null null "+Z(Oe)+"]")}switch(Ve||(Ve="continuous"),Ve){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}_e&&q("/PageMode /"+_e),xt.publish("putCatalog"),q(">>"),q("endobj")},ro=x.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(ee+1)),q("/Root "+ee+" 0 R"),q("/Info "+(ee-1)+" 0 R"),v!==null&&q("/Encrypt "+Qt.oid+" 0 R"),q("/ID [ <"+z+"> <"+z+"> ]"),q(">>")},no=x.__private__.putHeader=function(){q("%PDF-"+M),q("%¬∫√ü¬¨√†")},ao=x.__private__.putXRef=function(){var d="0000000000";q("xref"),q("0 "+(ee+1)),q("0000000000 65535 f ");for(var A=1;A<=ee;A++)typeof J[A]=="function"?q((d+J[A]()).slice(-10)+" 00000 n "):J[A]!==void 0?q((d+J[A]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},pr=x.__private__.buildDocument=function(){we(),Q(ne),xt.publish("buildDocument"),no(),Jr(),qa(),Oa(),v!==null&&Xi(),so(),Qn();var d=se;return ao(),ro(),q("startxref"),q(""+d),q("%%EOF"),Q(Ce[F]),ne.join(`
`)},yn=x.__private__.getBlob=function(d){return new Blob([Me(d)],{type:"application/pdf"})},wn=x.output=x.__private__.output=zs((function(d,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",d){case void 0:return pr();case"save":x.save(A.filename);break;case"arraybuffer":return Me(pr());case"blob":return yn(pr());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(yn(pr()))||void 0;wt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",ae=pr();try{Y=il(ae)}catch{Y=il(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+A.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(pe=A.pdfObjectUrl,je="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",ze=et.open();return ze!==null&&ze.document.write(Fe),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',at=et.open();if(at!==null){at.document.write(Ge);var rt=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=A.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rt.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',Ct=et.open();if(Ct!==null&&(Ct.document.write(lt),Ct.document.title=A.filename),Ct||typeof safari>"u")return Ct;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",A);default:return null}})),Ha=function(d){return Array.isArray(Yr)===!0&&Yr.indexOf(d)>-1};switch(i){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=Ha("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Be=i}var Qt=null;V(),H();var io=function(d){return v!==null?Qt.encryptor(d,0):function(A){return A}},Va=x.__private__.getPageInfo=x.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[d].objId,pageNumber:d,pageContext:st[d]}},tt=x.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in st)if(st[A].objId===d)break;return Va(A)},oo=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:st[F].objId,pageNumber:F,pageContext:st[F]}};x.addPage=function(){return za.apply(this,arguments),this},x.setPage=function(){return $a.apply(this,arguments),Q.call(this,Ce[F]),this},x.insertPage=function(d){return this.addPage(),this.movePage(F,d),this},x.movePage=function(d,A){var Y,ae;if(d>A){Y=Ce[d],ae=st[d];for(var pe=d;pe>A;pe--)Ce[pe]=Ce[pe-1],st[pe]=st[pe-1];Ce[A]=Y,st[A]=ae,this.setPage(A)}else if(d<A){Y=Ce[d],ae=st[d];for(var je=d;je<A;je++)Ce[je]=Ce[je+1],st[je]=st[je+1];Ce[A]=Y,st[A]=ae,this.setPage(A)}return this},x.deletePage=function(){return eo.apply(this,arguments),this},x.__private__.text=x.text=function(d,A,Y,ae,pe){var je,Fe,ze,Ge,at,rt,lt,Ct,It,Ut=(ae=ae||{}).scope||this;if(typeof d=="number"&&typeof A=="number"&&(typeof Y=="string"||Array.isArray(Y))){var es=Y;Y=A,A=d,d=es}if(arguments[3]instanceof Ze?($("The transform parameter of text() with a Matrix value"),It=pe):(ze=arguments[4],Ge=arguments[5],gt(lt=arguments[3])==="object"&&lt!==null||(typeof ze=="string"&&(Ge=ze,ze=null),typeof lt=="string"&&(Ge=lt,lt=null),typeof lt=="number"&&(ze=lt,lt=null),ae={flags:lt,angle:ze,align:Ge})),isNaN(A)||isNaN(Y)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Ut;var Vt="",Ws=!1,ws=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Kr,ir=Ut.internal.scaleFactor;function ti(jt){return jt=jt.split("	").join(Array(ae.TabLen||9).join(" ")),xs(jt,lt)}function da(jt){for(var Nt,Mt=jt.concat(),Ht=[],yr=Mt.length;yr--;)typeof(Nt=Mt.shift())=="string"?Ht.push(Nt):Array.isArray(jt)&&(Nt.length===1||Nt[1]===void 0&&Nt[2]===void 0)?Ht.push(Nt[0]):Ht.push([Nt[0],Nt[1],Nt[2]]);return Ht}function ua(jt,Nt){var Mt;if(typeof jt=="string")Mt=Nt(jt)[0];else if(Array.isArray(jt)){for(var Ht,yr,va=jt.concat(),Mn=[],ii=va.length;ii--;)typeof(Ht=va.shift())=="string"?Mn.push(Nt(Ht)[0]):Array.isArray(Ht)&&typeof Ht[0]=="string"&&(yr=Nt(Ht[0],Ht[1],Ht[2]),Mn.push([yr[0],yr[1],yr[2]]));Mt=Mn}return Mt}var Sn=!1,ha=!0;if(typeof d=="string")Sn=!0;else if(Array.isArray(d)){var ma=d.concat();Fe=[];for(var Cn,Kt=ma.length;Kt--;)(typeof(Cn=ma.shift())!="string"||Array.isArray(Cn)&&typeof Cn[0]!="string")&&(ha=!1);Sn=ha}if(Sn===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var Pn=Te/Ut.internal.scaleFactor,_n=Pn*(ws-1);switch(ae.baseline){case"bottom":Y-=_n;break;case"top":Y+=Pn-_n;break;case"hanging":Y+=Pn-2*_n;break;case"middle":Y+=Pn/2-_n}if((rt=ae.maxWidth||0)>0&&(typeof d=="string"?d=Ut.splitTextToSize(d,rt):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(jt,Nt){return jt.concat(Ut.splitTextToSize(Nt,rt))}),[]))),je={text:d,x:A,y:Y,options:ae,mutex:{pdfEscape:xs,activeFontKey:Ye,fonts:vt,activeFontSize:Te}},xt.publish("preProcessText",je),d=je.text,ze=(ae=je.options).angle,!(It instanceof Ze)&&ze&&typeof ze=="number"){ze*=Math.PI/180,ae.rotationDirection===0&&(ze=-ze),X===L.ADVANCED&&(ze=-ze);var In=Math.cos(ze),xa=Math.sin(ze);It=new Ze(In,xa,-xa,In,0,0)}else ze&&ze instanceof Ze&&(It=ze);X!==L.ADVANCED||It||(It=tr),(at=ae.charSpace||An)!==void 0&&(Vt+=de(_(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ct=ae.horizontalScale)!==void 0&&(Vt+=de(100*Ct)+` Tz
`),ae.lang;var ps=-1,bo=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,pa=Ut.internal.getCurrentPageInfo().pageContext;switch(bo){case 0:case!1:case"fill":ps=0;break;case 1:case!0:case"stroke":ps=1;break;case 2:case"fillThenStroke":ps=2;break;case 3:case"invisible":ps=3;break;case 4:case"fillAndAddForClipping":ps=4;break;case 5:case"strokeAndAddPathForClipping":ps=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ps=6;break;case 7:case"addToPathForClipping":ps=7}var si=pa.usedRenderingMode!==void 0?pa.usedRenderingMode:-1;ps!==-1?Vt+=ps+` Tr
`:si!==-1&&(Vt+=`0 Tr
`),ps!==-1&&(pa.usedRenderingMode=ps),Ge=ae.align||"left";var Cs,Fn=Te*ws,ri=Ut.internal.pageSize.getWidth(),ni=vt[Ye];at=ae.charSpace||An,rt=ae.maxWidth||0,lt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Pr=[],en=function(jt){return Ut.getStringUnitWidth(jt,{font:ni,charSpace:at,fontSize:Te,doKerning:!1})*Te/ir};if(Object.prototype.toString.call(d)==="[object Array]"){var fs;Fe=da(d),Ge!=="left"&&(Cs=Fe.map(en));var cs,_r=0;if(Ge==="right"){A-=Cs[0],d=[],Kt=Fe.length;for(var gr=0;gr<Kt;gr++)gr===0?(cs=ar(A),fs=fr(Y)):(cs=_(_r-Cs[gr]),fs=-Fn),d.push([Fe[gr],cs,fs]),_r=Cs[gr]}else if(Ge==="center"){A-=Cs[0]/2,d=[],Kt=Fe.length;for(var br=0;br<Kt;br++)br===0?(cs=ar(A),fs=fr(Y)):(cs=_((_r-Cs[br])/2),fs=-Fn),d.push([Fe[br],cs,fs]),_r=Cs[br]}else if(Ge==="left"){d=[],Kt=Fe.length;for(var Dn=0;Dn<Kt;Dn++)d.push(Fe[Dn])}else if(Ge==="justify"&&ni.encoding==="Identity-H"){d=[],Kt=Fe.length,rt=rt!==0?rt:ri;for(var vr=0,Rt=0;Rt<Kt;Rt++)if(fs=Rt===0?fr(Y):-Fn,cs=Rt===0?ar(A):vr,Rt<Kt-1){var fa=_((rt-Cs[Rt])/(Fe[Rt].split(" ").length-1)),ds=Fe[Rt].split(" ");d.push([ds[0]+" ",cs,fs]),vr=0;for(var Ps=1;Ps<ds.length;Ps++){var Tn=(en(ds[Ps-1]+" "+ds[Ps])-en(ds[Ps]))*ir+fa;Ps==ds.length-1?d.push([ds[Ps],Tn,0]):d.push([ds[Ps]+" ",Tn,0]),vr-=Tn}}else d.push([Fe[Rt],cs,fs]);d.push(["",vr,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],Kt=Fe.length,rt=rt!==0?rt:ri,Rt=0;Rt<Kt;Rt++)fs=Rt===0?fr(Y):-Fn,cs=Rt===0?ar(A):0,Rt<Kt-1?Pr.push(de(_((rt-Cs[Rt])/(Fe[Rt].split(" ").length-1)))):Pr.push(0),d.push([Fe[Rt],cs,fs])}}var ai=typeof ae.R2L=="boolean"?ae.R2L:ke;ai===!0&&(d=ua(d,(function(jt,Nt,Mt){return[jt.split("").reverse().join(""),Nt,Mt]}))),je={text:d,x:A,y:Y,options:ae,mutex:{pdfEscape:xs,activeFontKey:Ye,fonts:vt,activeFontSize:Te}},xt.publish("postProcessText",je),d=je.text,Ws=je.mutex.isHex||!1;var ga=vt[Ye].encoding;ga!=="WinAnsiEncoding"&&ga!=="StandardEncoding"||(d=ua(d,(function(jt,Nt,Mt){return[ti(jt),Nt,Mt]}))),Fe=da(d),d=[];for(var tn,sn,Ir,rn=0,Rn=1,nn=Array.isArray(Fe[0])?Rn:rn,Fr="",ba=function(jt,Nt,Mt){var Ht="";return Mt instanceof Ze?(Mt=typeof ae.angle=="number"?Bs(Mt,new Ze(1,0,0,1,jt,Nt)):Bs(new Ze(1,0,0,1,jt,Nt),Mt),X===L.ADVANCED&&(Mt=Bs(new Ze(1,0,0,-1,0,0),Mt)),Ht=Mt.join(" ")+` Tm
`):Ht=de(jt)+" "+de(Nt)+` Td
`,Ht},_s=0;_s<Fe.length;_s++){switch(Fr="",nn){case Rn:Ir=(Ws?"<":"(")+Fe[_s][0]+(Ws?">":")"),tn=parseFloat(Fe[_s][1]),sn=parseFloat(Fe[_s][2]);break;case rn:Ir=(Ws?"<":"(")+Fe[_s]+(Ws?">":")"),tn=ar(A),sn=fr(Y)}Pr!==void 0&&Pr[_s]!==void 0&&(Fr=Pr[_s]+` Tw
`),_s===0?d.push(Fr+ba(tn,sn,It)+Ir):nn===rn?d.push(Fr+Ir):nn===Rn&&d.push(Fr+ba(tn,sn,It)+Ir)}d=nn===rn?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var Is=`BT
/`;return Is+=Ye+" "+Te+` Tf
`,Is+=de(Te*ws)+` TL
`,Is+=Zr+`
`,Is+=Vt,Is+=d,q(Is+="ET"),k[Ye]=!0,Ut};var lo=x.__private__.clip=x.clip=function(d){return q(d==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return lo("evenodd")},x.__private__.discardPath=x.discardPath=function(){return q("n"),this};var nr=x.__private__.isValidStyle=function(d){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(A=!0),A};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(d){return nr(d)&&(b=d),this};var Ga=x.__private__.getStyle=x.getStyle=function(d){var A=b;switch(d){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=d}return A},Ya=x.close=function(){return q("h"),this};x.stroke=function(){return q("S"),this},x.fill=function(d){return jn("f",d),this},x.fillEvenOdd=function(d){return jn("f*",d),this},x.fillStroke=function(d){return jn("B",d),this},x.fillStrokeEvenOdd=function(d){return jn("B*",d),this};var jn=function(d,A){gt(A)==="object"?uo(A,d):q(d)},ea=function(d){d===null||X===L.ADVANCED&&d===void 0||(d=Ga(d),q(d))};function co(d,A,Y,ae,pe){var je=new Hn(A||this.boundingBox,Y||this.xStep,ae||this.yStep,this.gState,pe||this.matrix);je.stream=this.stream;var Fe=d+"$$"+this.cloneIndex+++"$$";return ms(Fe,je),je}var uo=function(d,A){var Y=Gr[d.key],ae=mt[Y];if(ae instanceof cn)q("q"),q(ho(A)),ae.gState&&x.setGState(ae.gState),q(d.matrix.toString()+" cm"),q("/"+Y+" sh"),q("Q");else if(ae instanceof Hn){var pe=new Ze(1,0,0,-1,0,Cr());d.matrix&&(pe=pe.multiply(d.matrix||tr),Y=co.call(ae,d.key,d.boundingBox,d.xStep,d.yStep,pe).id),q("q"),q("/Pattern cs"),q("/"+Y+" scn"),ae.gState&&x.setGState(ae.gState),q(A),q("Q")}},ho=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ta=x.moveTo=function(d,A){return q(de(_(d))+" "+de(g(A))+" m"),this},Xr=x.lineTo=function(d,A){return q(de(_(d))+" "+de(g(A))+" l"),this},Lr=x.curveTo=function(d,A,Y,ae,pe,je){return q([de(_(d)),de(g(A)),de(_(Y)),de(g(ae)),de(_(pe)),de(g(je)),"c"].join(" ")),this};x.__private__.line=x.line=function(d,A,Y,ae,pe){if(isNaN(d)||isNaN(A)||isNaN(Y)||isNaN(ae)||!nr(pe))throw new Error("Invalid arguments passed to jsPDF.line");return X===L.COMPAT?this.lines([[Y-d,ae-A]],d,A,[1,1],pe||"S"):this.lines([[Y-d,ae-A]],d,A,[1,1]).stroke()},x.__private__.lines=x.lines=function(d,A,Y,ae,pe,je){var Fe,ze,Ge,at,rt,lt,Ct,It,Ut,es,Vt,Ws;if(typeof d=="number"&&(Ws=Y,Y=A,A=d,d=Ws),ae=ae||[1,1],je=je||!1,isNaN(A)||isNaN(Y)||!Array.isArray(d)||!Array.isArray(ae)||!nr(pe)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ta(A,Y),Fe=ae[0],ze=ae[1],at=d.length,es=A,Vt=Y,Ge=0;Ge<at;Ge++)(rt=d[Ge]).length===2?(es=rt[0]*Fe+es,Vt=rt[1]*ze+Vt,Xr(es,Vt)):(lt=rt[0]*Fe+es,Ct=rt[1]*ze+Vt,It=rt[2]*Fe+es,Ut=rt[3]*ze+Vt,es=rt[4]*Fe+es,Vt=rt[5]*ze+Vt,Lr(lt,Ct,It,Ut,es,Vt));return je&&Ya(),ea(pe),this},x.path=function(d){for(var A=0;A<d.length;A++){var Y=d[A],ae=Y.c;switch(Y.op){case"m":ta(ae[0],ae[1]);break;case"l":Xr(ae[0],ae[1]);break;case"c":Lr.apply(this,ae);break;case"h":Ya()}}return this},x.__private__.rect=x.rect=function(d,A,Y,ae,pe){if(isNaN(d)||isNaN(A)||isNaN(Y)||isNaN(ae)||!nr(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return X===L.COMPAT&&(ae=-ae),q([de(_(d)),de(g(A)),de(_(Y)),de(_(ae)),"re"].join(" ")),ea(pe),this},x.__private__.triangle=x.triangle=function(d,A,Y,ae,pe,je,Fe){if(isNaN(d)||isNaN(A)||isNaN(Y)||isNaN(ae)||isNaN(pe)||isNaN(je)||!nr(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-d,ae-A],[pe-Y,je-ae],[d-pe,A-je]],d,A,[1,1],Fe,!0),this},x.__private__.roundedRect=x.roundedRect=function(d,A,Y,ae,pe,je,Fe){if(isNaN(d)||isNaN(A)||isNaN(Y)||isNaN(ae)||isNaN(pe)||isNaN(je)||!nr(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*Y),je=Math.min(je,.5*ae),this.lines([[Y-2*pe,0],[pe*ze,0,pe,je-je*ze,pe,je],[0,ae-2*je],[0,je*ze,-pe*ze,je,-pe,je],[2*pe-Y,0],[-pe*ze,0,-pe,-je*ze,-pe,-je],[0,2*je-ae],[0,-je*ze,pe*ze,-je,pe,-je]],d+pe,A,[1,1],Fe,!0),this},x.__private__.ellipse=x.ellipse=function(d,A,Y,ae,pe){if(isNaN(d)||isNaN(A)||isNaN(Y)||isNaN(ae)||!nr(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*Y,Fe=4/3*(Math.SQRT2-1)*ae;return ta(d+Y,A),Lr(d+Y,A-Fe,d+je,A-ae,d,A-ae),Lr(d-je,A-ae,d-Y,A-Fe,d-Y,A),Lr(d-Y,A+Fe,d-je,A+ae,d,A+ae),Lr(d+je,A+ae,d+Y,A+Fe,d+Y,A),ea(pe),this},x.__private__.circle=x.circle=function(d,A,Y,ae){if(isNaN(d)||isNaN(A)||isNaN(Y)||!nr(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,A,Y,Y,ae)},x.setFont=function(d,A,Y){return Y&&(A=ve(A,Y)),Ye=Wa(d,A,{disableWarning:!1}),this};var mo=x.__private__.getFont=x.getFont=function(){return vt[Wa.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var d,A,Y={};for(d in Lt)if(Lt.hasOwnProperty(d))for(A in Y[d]=[],Lt[d])Lt[d].hasOwnProperty(A)&&Y[d].push(A);return Y},x.addFont=function(d,A,Y,ae,pe){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(Y=ve(Y,ae)),pe=pe||"Identity-H",Kn.call(this,d,A,Y,pe)};var Kr,sa=n.lineWidth||.200025,Nn=x.__private__.getLineWidth=x.getLineWidth=function(){return sa},Ja=x.__private__.setLineWidth=x.setLineWidth=function(d){return sa=d,q(de(_(d))+" w"),this};x.__private__.setLineDash=Qe.API.setLineDash=Qe.API.setLineDashPattern=function(d,A){if(d=d||[],A=A||0,isNaN(A)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map((function(Y){return de(_(Y))})).join(" "),A=de(_(A)),q("["+d+"] "+A+" d"),this};var Xa=x.__private__.getLineHeight=x.getLineHeight=function(){return Te*Kr};x.__private__.getLineHeight=x.getLineHeight=function(){return Te*Kr};var Ka=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Kr=d),this},Za=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Kr};Ka(n.lineHeight);var ar=x.__private__.getHorizontalCoordinate=function(d){return _(d)},fr=x.__private__.getVerticalCoordinate=function(d){return X===L.ADVANCED?d:st[F].mediaBox.topRightY-st[F].mediaBox.bottomLeftY-_(d)},xo=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(d){return de(ar(d))},Sr=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(d){return de(fr(d))},$s=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return qs($s)},x.__private__.setStrokeColor=x.setDrawColor=function(d,A,Y,ae){return $s=Us({ch1:d,ch2:A,ch3:Y,ch4:ae,pdfColorType:"draw",precision:2}),q($s),this};var ra=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return qs(ra)},x.__private__.setFillColor=x.setFillColor=function(d,A,Y,ae){return ra=Us({ch1:d,ch2:A,ch3:Y,ch4:ae,pdfColorType:"fill",precision:2}),q(ra),this};var Zr=n.textColor||"0 g",po=x.__private__.getTextColor=x.getTextColor=function(){return qs(Zr)};x.__private__.setTextColor=x.setTextColor=function(d,A,Y,ae){return Zr=Us({ch1:d,ch2:A,ch3:Y,ch4:ae,pdfColorType:"text",precision:3}),this};var An=n.charSpace,fo=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(An||0)};x.__private__.setCharSpace=x.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return An=d,this};var na=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(d){var A=x.CapJoinStyles[d];if(A===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=A,q(A+" J"),this};var aa=0;x.__private__.setLineJoin=x.setLineJoin=function(d){var A=x.CapJoinStyles[d];if(A===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return aa=A,q(A+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(de(_(d))+" M"),this},x.GState=Ui,x.setGState=function(d){(d=typeof d=="string"?Pt[Es[d]]:Qa(null,d)).equals(mr)||(q("/"+d.id+" gs"),mr=d)};var Qa=function(d,A){if(!d||!Es[d]){var Y=!1;for(var ae in Pt)if(Pt.hasOwnProperty(ae)&&Pt[ae].equals(A)){Y=!0;break}if(Y)A=Pt[ae];else{var pe="GS"+(Object.keys(Pt).length+1).toString(10);Pt[pe]=A,A.id=pe}return d&&(Es[d]=A.id),xt.publish("addGState",A),A}};x.addGState=function(d,A){return Qa(d,A),this},x.saveGraphicsState=function(){return q("q"),Zs.push({key:Ye,size:Te,color:Zr}),this},x.restoreGraphicsState=function(){q("Q");var d=Zs.pop();return Ye=d.key,Te=d.size,Zr=d.color,mr=null,this},x.setCurrentTransformationMatrix=function(d){return q(d.toString()+" cm"),this},x.comment=function(d){return q("#"+d),this};var kn=function(d,A){var Y=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(je){isNaN(je)||(Y=parseFloat(je))}});var ae=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(je){isNaN(je)||(ae=parseFloat(je))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(je){pe=je.toString()}}),this},ia=function(d,A,Y,ae){kn.call(this,d,A),this.type="rect";var pe=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Fe){isNaN(Fe)||(pe=parseFloat(Fe))}});var je=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Fe){isNaN(Fe)||(je=parseFloat(Fe))}}),this},oa=function(){this.page=_t,this.currentPage=F,this.pages=Ce.slice(0),this.pagesContext=st.slice(0),this.x=kt,this.y=ut,this.matrix=Ms,this.width=Qr(F),this.height=Cr(F),this.outputDestination=be,this.id="",this.objectNumber=-1};oa.prototype.restore=function(){_t=this.page,F=this.currentPage,st=this.pagesContext,Ce=this.pages,kt=this.x,ut=this.y,Ms=this.matrix,la(F,this.width),ca(F,this.height),be=this.outputDestination};var ei=function(d,A,Y,ae,pe){er.push(new oa),_t=F=0,Ce=[],kt=d,ut=A,Ms=pe,Zn([Y,ae])},go=function(d){if(Qs[d])er.pop().restore();else{var A=new oa,Y="Xo"+(Object.keys(Xt).length+1).toString(10);A.id=Y,Qs[d]=Y,Xt[Y]=A,xt.publish("addFormObject",A),er.pop().restore()}};for(var Ln in x.beginFormObject=function(d,A,Y,ae,pe){return ei(d,A,Y,ae,pe),this},x.endFormObject=function(d){return go(d),this},x.doFormObject=function(d,A){var Y=Xt[Qs[d]];return q("q"),q(A.toString()+" cm"),q("/"+Y.id+" Do"),q("Q"),this},x.getFormObject=function(d){var A=Xt[Qs[d]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},x.save=function(d,A){return d=d||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(ln(yn(pr()),d),typeof ln.unload=="function"&&et.setTimeout&&setTimeout(ln.unload,911),this):new Promise((function(Y,ae){try{var pe=ln(yn(pr()),d);typeof ln.unload=="function"&&et.setTimeout&&setTimeout(ln.unload,911),Y(pe)}catch(je){ae(je.message)}}))},Qe.API)Qe.API.hasOwnProperty(Ln)&&(Ln==="events"&&Qe.API.events.length?(function(d,A){var Y,ae,pe;for(pe=A.length-1;pe!==-1;pe--)Y=A[pe][0],ae=A[pe][1],d.subscribe.apply(d,[Y].concat(typeof ae=="function"?[ae]:ae))})(xt,Qe.API.events):x[Ln]=Qe.API[Ln]);var Qr=x.getPageWidth=function(d){return(st[d=d||F].mediaBox.topRightX-st[d].mediaBox.bottomLeftX)/Be},la=x.setPageWidth=function(d,A){st[d].mediaBox.topRightX=A*Be+st[d].mediaBox.bottomLeftX},Cr=x.getPageHeight=function(d){return(st[d=d||F].mediaBox.topRightY-st[d].mediaBox.bottomLeftY)/Be},ca=x.setPageHeight=function(d,A){st[d].mediaBox.topRightY=A*Be+st[d].mediaBox.bottomLeftY};return x.internal={pdfEscape:xs,getStyle:Ga,getFont:mo,getFontSize:me,getCharSpace:fo,getTextColor:po,getLineHeight:Xa,getLineHeightFactor:Za,getLineWidth:Nn,write:He,getHorizontalCoordinate:ar,getVerticalCoordinate:fr,getCoordinateString:xo,getVerticalCoordinateString:Sr,collections:{},newObject:Wt,newAdditionalObject:hn,newObjectDeferred:qt,newObjectDeferredBegin:ys,getFilters:sr,putStream:Ss,events:xt,scaleFactor:Be,pageSize:{getWidth:function(){return Qr(F)},setWidth:function(d){la(F,d)},getHeight:function(){return Cr(F)},setHeight:function(d){ca(F,d)}},encryptionOptions:v,encryption:Qt,getEncryptor:io,output:wn,getNumberOfPages:to,pages:Ce,out:q,f2:Z,f3:f,getPageInfo:Va,getPageInfoByObjId:tt,getCurrentPageInfo:oo,getPDFVersion:E,Point:kn,Rectangle:ia,Matrix:Ze,hasHotfix:Ha},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Qr(F)},set:function(d){la(F,d)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Cr(F)},set:function(d){ca(F,d)},enumerable:!0,configurable:!0}),Qi.call(x,Ae),Ye="F1",za(l,r),xt.publish("initialized"),x}$n.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},$n.prototype.toHexString=function(n){return n.split("").map((function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)})).join("")},$n.prototype.hexToBytes=function(n){for(var s=[],r=0;r<n.length;r+=2)s.push(String.fromCharCode(parseInt(n.substr(r,2),16)));return s.join("")},$n.prototype.processOwnerPassword=function(n,s){return ll(ol(s).substr(0,5),n)},$n.prototype.encryptor=function(n,s){var r=ol(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&s,s>>8&255)).substr(0,10);return function(i){return ll(r,i)}},Ui.prototype.equals=function(n){var s,r="id,objectNumber,equals";if(!n||gt(n)!==gt(this))return!1;var i=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!n.hasOwnProperty(s)||this[s]!==n[s])return!1;i++}for(s in n)n.hasOwnProperty(s)&&r.indexOf(s)<0&&i--;return i===0},Qe.API={events:[]},Qe.version="2.5.2";var Dt=Qe.API,pl=1,un=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Un=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nt=function(n){return n.toFixed(2)},Ur=function(n){return n.toFixed(5)};Dt.__acroform__={};var vs=function(n,s){n.prototype=Object.create(s.prototype),n.prototype.constructor=n},ec=function(n){return n*pl},lr=function(n){var s=new Cc,r=We.internal.getHeight(n)||0,i=We.internal.getWidth(n)||0;return s.BBox=[0,0,Number(nt(i)),Number(nt(r))],s},Iu=Dt.__acroform__.setBit=function(n,s){if(n=n||0,s=s||0,isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<s},Fu=Dt.__acroform__.clearBit=function(n,s){if(n=n||0,s=s||0,isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<s)},Du=Dt.__acroform__.getBit=function(n,s){if(isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<s)==0?0:1},Et=Dt.__acroform__.getBitForPdf=function(n,s){if(isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Du(n,s-1)},Bt=Dt.__acroform__.setBitForPdf=function(n,s){if(isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Iu(n,s-1)},Ot=Dt.__acroform__.clearBitForPdf=function(n,s){if(isNaN(n)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fu(n,s-1)},Tu=Dt.__acroform__.calculateCoordinates=function(n,s){var r=s.internal.getHorizontalCoordinate,i=s.internal.getVerticalCoordinate,l=n[0],o=n[1],c=n[2],m=n[3],u={};return u.lowerLeft_X=r(l)||0,u.lowerLeft_Y=i(o+m)||0,u.upperRight_X=r(l+c)||0,u.upperRight_Y=i(o)||0,[Number(nt(u.lowerLeft_X)),Number(nt(u.lowerLeft_Y)),Number(nt(u.upperRight_X)),Number(nt(u.upperRight_Y))]},Ru=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var s=[],r=n._V||n.DV,i=cl(n,r),l=n.scope.internal.getFont(n.fontName,n.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(n.scope.__private__.encodeColorString(n.color)),s.push("/"+l+" "+nt(i.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC");var o=lr(n);return o.scope=n.scope,o.stream=s.join(`
`),o}},cl=function(n,s){var r=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},l=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");l=n.multiline?l.map((function(f){return f.split(`
`)})):l.map((function(f){return[f]}));var o=r,c=We.internal.getHeight(n)||0;c=c<0?-c:c;var m=We.internal.getWidth(n)||0;m=m<0?-m:m;var u=function(f,_,D){if(f+1<l.length){var g=_+" "+l[f+1][0];return Pi(g,n,D).width<=m-4}return!1};o++;e:for(;o>0;){s="",o--;var b,v,y=Pi("3",n,o).height,k=n.multiline?c-o:(c-y)/2,x=k+=2,M=0,E=0,T=0;if(o<=0){s=`(...) Tj
`,s+="% Width of Text: "+Pi(s,n,o=12).width+", FieldWidth:"+m+`
`;break}for(var S="",L=0,X=0;X<l.length;X++)if(l.hasOwnProperty(X)){var re=!1;if(l[X].length!==1&&T!==l[X].length-1){if((y+2)*(L+2)+2>c)continue e;S+=l[X][T],re=!0,E=X,X--}else{S=(S+=l[X][T]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var ue=parseInt(X),ve=u(ue,S,o),de=X>=l.length-1;if(ve&&!de){S+=" ",T=0;continue}if(ve||de){if(de)E=ue;else if(n.multiline&&(y+2)*(L+2)+2>c)continue e}else{if(!n.multiline||(y+2)*(L+2)+2>c)continue e;E=ue}}for(var $="",ie=M;ie<=E;ie++){var Z=l[ie];if(n.multiline){if(ie===E){$+=Z[T]+" ",T=(T+1)%Z.length;continue}if(ie===M){$+=Z[Z.length-1]+" ";continue}}$+=Z[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,v=Pi($,n,o).width,n.textAlign){case"right":b=m-v-2;break;case"center":b=(m-v)/2;break;case"left":default:b=2}s+=nt(b)+" "+nt(x)+` Td
`,s+="("+un($)+`) Tj
`,s+=-nt(b)+` 0 Td
`,x=-(o+2),v=0,M=re?E:E+1,L++,S=""}break}return i.text=s,i.fontSize=o,i},Pi=function(n,s,r){var i=s.scope.internal.getFont(s.fontName,s.fontStyle),l=s.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:l}},Mu={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Eu=function(n,s){var r={type:"reference",object:n};s.internal.getPageInfo(n.page).pageContext.annotations.find((function(i){return i.type===r.type&&i.object===r.object}))===void 0&&s.internal.getPageInfo(n.page).pageContext.annotations.push(r)},Bu=function(n,s){for(var r in n)if(n.hasOwnProperty(r)){var i=r,l=n[r];s.internal.newObjectDeferredBegin(l.objId,!0),gt(l)==="object"&&typeof l.putStream=="function"&&l.putStream(),delete n[i]}},Ou=function(n,s){if(s.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Xs.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Mu)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pl=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Pc,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];o.objId=void 0,o.hasAnnotation&&Eu(o,r)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(r){(function(i,l){var o=!i;for(var c in i||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var m=i[c],u=[],b=m.Rect;if(m.Rect&&(m.Rect=Tu(m.Rect,l)),l.internal.newObjectDeferredBegin(m.objId,!0),m.DA=We.createDefaultAppearanceStream(m),gt(m)==="object"&&typeof m.getKeyValueListForStream=="function"&&(u=m.getKeyValueListForStream()),m.Rect=b,m.hasAppearanceStream&&!m.appearanceStreamContent){var v=Ru(m);u.push({key:"AP",value:"<</N "+v+">>"}),l.internal.acroformPlugin.xForms.push(v)}if(m.appearanceStreamContent){var y="";for(var k in m.appearanceStreamContent)if(m.appearanceStreamContent.hasOwnProperty(k)){var x=m.appearanceStreamContent[k];if(y+="/"+k+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var M=x[c];typeof M=="function"&&(M=M.call(l,m)),y+="/"+c+" "+M+" ",l.internal.acroformPlugin.xForms.indexOf(M)>=0||l.internal.acroformPlugin.xForms.push(M)}}else typeof(M=x)=="function"&&(M=M.call(l,m)),y+="/"+c+" "+M,l.internal.acroformPlugin.xForms.indexOf(M)>=0||l.internal.acroformPlugin.xForms.push(M);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}l.internal.putStream({additionalKeyValues:u,objectId:m.objId}),l.internal.out("endobj")}o&&Bu(l.internal.acroformPlugin.xForms,l)})(r,n)})),n.internal.acroformPlugin.isInitialized=!0}},Sc=Dt.__acroform__.arrayToPdfArray=function(n,s,r){var i=function(c){return c};if(Array.isArray(n)){for(var l="[",o=0;o<n.length;o++)switch(o!==0&&(l+=" "),gt(n[o])){case"boolean":case"number":case"object":l+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(s!==void 0&&r&&(i=r.internal.getEncryptor(s)),l+="("+un(i(n[o].toString()))+")"):l+=n[o].toString()}return l+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vo=function(n,s,r){var i=function(l){return l};return s!==void 0&&r&&(i=r.internal.getEncryptor(s)),(n=n||"").toString(),n="("+un(i(n))+")"},dr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dr.prototype.toString=function(){return this.objId+" 0 R"},dr.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},dr.prototype.getKeyValueListForStream=function(){var n=[],s=Object.getOwnPropertyNames(this).filter((function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"}));for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var i=s[r],l=this[i];l&&(Array.isArray(l)?n.push({key:i,value:Sc(l,this.objId,this.scope)}):l instanceof dr?(l.scope=this.scope,n.push({key:i,value:l.objId+" 0 R"})):typeof l!="function"&&n.push({key:i,value:l}))}return n};var Cc=function(){dr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){n=r.trim()},get:function(){return n||null}})};vs(Cc,dr);var Pc=function(){dr.call(this);var n,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+un(r(n))+")"}},set:function(r){n=r}})};vs(Pc,dr);var Xs=function n(){dr.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');s=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Et(s,3)},set:function(S){S?this.F=Bt(s,3):this.F=Ot(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(S){i=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(S){i[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(S){i[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(S){i[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(S){i[3]=S}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof zi)return;o="FieldObject"+n.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+un(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var m="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var b=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return b===void 0?50/pl:b},set:function(S){b=S}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(S){v=S}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof zi||this instanceof dn))return Vo(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=S}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof Jt?k:Vo(k,this.objId,this.scope)},set:function(S){S=S.toString(),k=this instanceof Jt?S:S.substr(0,1)==="("?Un(S.substr(1,S.length-2)):Un(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jt?Un(k.substr(1,k.length-1)):k},set:function(S){S=S.toString(),k=this instanceof Jt?"/"+S:S}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Jt?x:Vo(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=this instanceof Jt?S:S.substr(0,1)==="("?Un(S.substr(1,S.length-2)):Un(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jt?Un(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof Jt?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(S){S=!!S,E=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(S){M=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,1)},set:function(S){S?this.Ff=Bt(this.Ff,1):this.Ff=Ot(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,2)},set:function(S){S?this.Ff=Bt(this.Ff,2):this.Ff=Ot(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,3)},set:function(S){S?this.Ff=Bt(this.Ff,3):this.Ff=Ot(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');T=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(T){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};vs(Xs,dr);var Vn=function(){Xs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(r){n=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Sc(s,this.objId,this.scope)},set:function(r){var i,l;l=[],typeof(i=r)=="string"&&(l=(function(o,c,m){m||(m=1);for(var u,b=[];u=c.exec(o);)b.push(u[m]);return b})(i,/\((.*?)\)/g)),s=l}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,18)},set:function(r){r?this.Ff=Bt(this.Ff,18):this.Ff=Ot(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bt(this.Ff,19):this.Ff=Ot(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,20)},set:function(r){r?(this.Ff=Bt(this.Ff,20),s.sort()):this.Ff=Ot(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,22)},set:function(r){r?this.Ff=Bt(this.Ff,22):this.Ff=Ot(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,23)},set:function(r){r?this.Ff=Bt(this.Ff,23):this.Ff=Ot(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,27)},set:function(r){r?this.Ff=Bt(this.Ff,27):this.Ff=Ot(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(Vn,Xs);var Gn=function(){Vn.call(this),this.fontName="helvetica",this.combo=!1};vs(Gn,Vn);var Yn=function(){Gn.call(this),this.combo=!0};vs(Yn,Gn);var Di=function(){Yn.call(this),this.edit=!0};vs(Di,Yn);var Jt=function(){Xs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,15)},set:function(r){r?this.Ff=Bt(this.Ff,15):this.Ff=Ot(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,16)},set:function(r){r?this.Ff=Bt(this.Ff,16):this.Ff=Ot(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,17)},set:function(r){r?this.Ff=Bt(this.Ff,17):this.Ff=Ot(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,26)},set:function(r){r?this.Ff=Bt(this.Ff,26):this.Ff=Ot(this.Ff,26)}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var i,l=[];for(i in l.push("<<"),s)l.push("/"+i+" ("+un(r(s[i]))+")");return l.push(">>"),l.join(`
`)}},set:function(r){gt(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}})};vs(Jt,Xs);var Ti=function(){Jt.call(this),this.pushButton=!0};vs(Ti,Jt);var Jn=function(){Jt.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(s){n=s!==void 0?s:[]}})};vs(Jn,Jt);var zi=function(){var n,s;Xs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(l){s=l}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(m){return m};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+un(l(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(l){gt(l)==="object"&&(i=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(l){typeof l=="string"&&(i.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(l){r=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(l){r="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=We.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(zi,Xs),Jn.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=n.createAppearanceStream(r.optionName),r.caption=n.getCA()}},Jn.prototype.createOption=function(n){var s=new zi;return s.Parent=this,s.optionName=n,this.Kids.push(s),qu.call(this.scope,s),s};var Ri=function(){Jt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=We.CheckBox.createAppearanceStream()};vs(Ri,Jt);var dn=function(){Xs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,13)},set:function(s){s?this.Ff=Bt(this.Ff,13):this.Ff=Ot(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,21)},set:function(s){s?this.Ff=Bt(this.Ff,21):this.Ff=Ot(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,23)},set:function(s){s?this.Ff=Bt(this.Ff,23):this.Ff=Ot(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,24)},set:function(s){s?this.Ff=Bt(this.Ff,24):this.Ff=Ot(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,25)},set:function(s){s?this.Ff=Bt(this.Ff,25):this.Ff=Ot(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,26)},set:function(s){s?this.Ff=Bt(this.Ff,26):this.Ff=Ot(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(s){Number.isInteger(s)&&(n=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(dn,Xs);var Mi=function(){dn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Et(this.Ff,14)},set:function(n){n?this.Ff=Bt(this.Ff,14):this.Ff=Ot(this.Ff,14)}}),this.password=!0};vs(Mi,dn);var We={CheckBox:{createAppearanceStream:function(){return{N:{On:We.CheckBox.YesNormal},D:{On:We.CheckBox.YesPushDown,Off:We.CheckBox.OffPushDown}}},YesPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,l=n.scope.__private__.encodeColorString(n.color),o=cl(n,n.caption);return r.push("0.749023 g"),r.push("0 0 "+nt(We.internal.getWidth(n))+" "+nt(We.internal.getHeight(n))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+nt(o.fontSize)+" Tf "+l),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(n){var s=lr(n);s.scope=n.scope;var r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),l=[],o=We.internal.getHeight(n),c=We.internal.getWidth(n),m=cl(n,n.caption);return l.push("1 g"),l.push("0 0 "+nt(c)+" "+nt(o)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+nt(c-1)+" "+nt(o-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+r+" "+nt(m.fontSize)+" Tf "+i),l.push(m.text),l.push("ET"),l.push("Q"),s.stream=l.join(`
`),s},OffPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nt(We.internal.getWidth(n))+" "+nt(We.internal.getHeight(n))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(n){var s={D:{Off:We.RadioButton.Circle.OffPushDown},N:{}};return s.N[n]=We.RadioButton.Circle.YesNormal,s.D[n]=We.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(n){var s=lr(n);s.scope=n.scope;var r=[],i=We.internal.getWidth(n)<=We.internal.getHeight(n)?We.internal.getWidth(n)/4:We.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var l=We.internal.Bezier_C,o=Number((i*l).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ur(We.internal.getWidth(n)/2)+" "+Ur(We.internal.getHeight(n)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=[],i=We.internal.getWidth(n)<=We.internal.getHeight(n)?We.internal.getWidth(n)/4:We.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var l=Number((2*i).toFixed(5)),o=Number((l*We.internal.Bezier_C).toFixed(5)),c=Number((i*We.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ur(We.internal.getWidth(n)/2)+" "+Ur(We.internal.getHeight(n)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),r.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),r.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),r.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ur(We.internal.getWidth(n)/2)+" "+Ur(We.internal.getHeight(n)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),r.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),r.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),r.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=[],i=We.internal.getWidth(n)<=We.internal.getHeight(n)?We.internal.getWidth(n)/4:We.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var l=Number((2*i).toFixed(5)),o=Number((l*We.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ur(We.internal.getWidth(n)/2)+" "+Ur(We.internal.getHeight(n)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),r.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),r.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),r.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(n){var s={D:{Off:We.RadioButton.Cross.OffPushDown},N:{}};return s.N[n]=We.RadioButton.Cross.YesNormal,s.D[n]=We.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(n){var s=lr(n);s.scope=n.scope;var r=[],i=We.internal.calculateCross(n);return r.push("q"),r.push("1 1 "+nt(We.internal.getWidth(n)-2)+" "+nt(We.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(nt(i.x1.x)+" "+nt(i.x1.y)+" m"),r.push(nt(i.x2.x)+" "+nt(i.x2.y)+" l"),r.push(nt(i.x4.x)+" "+nt(i.x4.y)+" m"),r.push(nt(i.x3.x)+" "+nt(i.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=We.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+nt(We.internal.getWidth(n))+" "+nt(We.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nt(We.internal.getWidth(n)-2)+" "+nt(We.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(nt(r.x1.x)+" "+nt(r.x1.y)+" m"),i.push(nt(r.x2.x)+" "+nt(r.x2.y)+" l"),i.push(nt(r.x4.x)+" "+nt(r.x4.y)+" m"),i.push(nt(r.x3.x)+" "+nt(r.x3.y)+" l"),i.push("s"),i.push("Q"),s.stream=i.join(`
`),s},OffPushDown:function(n){var s=lr(n);s.scope=n.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nt(We.internal.getWidth(n))+" "+nt(We.internal.getHeight(n))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(n){var s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color);return"/"+s+" "+n.fontSize+" Tf "+r}};We.internal={Bezier_C:.551915024494,calculateCross:function(n){var s=We.internal.getWidth(n),r=We.internal.getHeight(n),i=Math.min(s,r);return{x1:{x:(s-i)/2,y:(r-i)/2+i},x2:{x:(s-i)/2+i,y:(r-i)/2},x3:{x:(s-i)/2,y:(r-i)/2},x4:{x:(s-i)/2+i,y:(r-i)/2+i}}}},We.internal.getWidth=function(n){var s=0;return gt(n)==="object"&&(s=ec(n.Rect[2])),s},We.internal.getHeight=function(n){var s=0;return gt(n)==="object"&&(s=ec(n.Rect[3])),s};var qu=Dt.addField=function(n){if(Ou(this,n),!(n instanceof Xs))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=n).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Dt.AcroFormChoiceField=Vn,Dt.AcroFormListBox=Gn,Dt.AcroFormComboBox=Yn,Dt.AcroFormEditBox=Di,Dt.AcroFormButton=Jt,Dt.AcroFormPushButton=Ti,Dt.AcroFormRadioButton=Jn,Dt.AcroFormCheckBox=Ri,Dt.AcroFormTextField=dn,Dt.AcroFormPasswordField=Mi,Dt.AcroFormAppearance=We,Dt.AcroForm={ChoiceField:Vn,ListBox:Gn,ComboBox:Yn,EditBox:Di,Button:Jt,PushButton:Ti,RadioButton:Jn,CheckBox:Ri,TextField:dn,PasswordField:Mi,Appearance:We},Qe.AcroForm={ChoiceField:Vn,ListBox:Gn,ComboBox:Yn,EditBox:Di,Button:Jt,PushButton:Ti,RadioButton:Jn,CheckBox:Ri,TextField:dn,PasswordField:Mi,Appearance:We};Qe.AcroForm;function _c(n){return n.reduce((function(s,r,i){return s[r]=i,s}),{})}(function(n){n.__addimage__={};var s="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(f,_){var D,g,I,z,te,H=s;if((_=_||s)==="RGBA"||f.data!==void 0&&f.data instanceof Uint8ClampedArray&&"height"in f&&"width"in f)return"RGBA";if(ve(f))for(te in r)for(I=r[te],D=0;D<I.length;D+=1){for(z=!0,g=0;g<I[D].length;g+=1)if(I[D][g]!==void 0&&I[D][g]!==f[g]){z=!1;break}if(z===!0){H=te;break}}else for(te in r)for(I=r[te],D=0;D<I.length;D+=1){for(z=!0,g=0;g<I[D].length;g+=1)if(I[D][g]!==void 0&&I[D][g]!==f.charCodeAt(g)){z=!1;break}if(z===!0){H=te;break}}return H===s&&_!==s&&(H=_),H},l=function f(_){for(var D=this.internal.write,g=this.internal.putStream,I=(0,this.internal.getFilters)();I.indexOf("FlateEncode")!==-1;)I.splice(I.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:_.width}),z.push({key:"Height",value:_.height}),_.colorSpace===T.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===T.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var te="",H=0,W=_.transparency.length;H<W;H++)te+=_.transparency[H]+" "+_.transparency[H]+" ";z.push({key:"Mask",value:"["+te+"]"})}_.sMask!==void 0&&z.push({key:"SMask",value:_.objectId+1+" 0 R"});var G=_.filter!==void 0?["/"+_.filter]:void 0;if(g({data:_.data,additionalKeyValues:z,alreadyAppliedFilters:G,objectId:_.objectId}),D("endobj"),"sMask"in _&&_.sMask!==void 0){var V="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,j={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:V,data:_.sMask};"filter"in _&&(j.filter=_.filter),f.call(this,j)}if(_.colorSpace===T.INDEXED){var F=this.internal.newObject();g({data:$(new Uint8Array(_.palette)),objectId:F}),D("endobj")}},o=function(){var f=this.internal.collections.addImage_images;for(var _ in f)l.call(this,f[_])},c=function(){var f,_=this.internal.collections.addImage_images,D=this.internal.write;for(var g in _)D("/I"+(f=_[g]).index,f.objectId,"0","R")},m=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},u=function(){var f=this.internal.collections.addImage_images;return m.call(this),f},b=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(f){return typeof n["process"+f.toUpperCase()]=="function"},y=function(f){return gt(f)==="object"&&f.nodeType===1},k=function(f,_){if(f.nodeName==="IMG"&&f.hasAttribute("src")){var D=""+f.getAttribute("src");if(D.indexOf("data:image/")===0)return Fa(unescape(D).split("base64,").pop());var g=n.loadFile(D,!0);if(g!==void 0)return g}if(f.nodeName==="CANVAS"){if(f.width===0||f.height===0)throw new Error("Given canvas must have data. Canvas width: "+f.width+", height: "+f.height);var I;switch(_){case"PNG":I="image/png";break;case"WEBP":I="image/webp";break;case"JPEG":case"JPG":default:I="image/jpeg"}return Fa(f.toDataURL(I,1).split("base64,").pop())}},x=function(f){var _=this.internal.collections.addImage_images;if(_){for(var D in _)if(f===_[D].alias)return _[D]}},M=function(f,_,D){return f||_||(f=-96,_=-96),f<0&&(f=-1*D.width*72/f/this.internal.scaleFactor),_<0&&(_=-1*D.height*72/_/this.internal.scaleFactor),f===0&&(f=_*D.width/D.height),_===0&&(_=f*D.height/D.width),[f,_]},E=function(f,_,D,g,I,z){var te=M.call(this,D,g,I),H=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,G=u.call(this);if(D=te[0],g=te[1],G[I.index]=I,z){z*=Math.PI/180;var V=Math.cos(z),j=Math.sin(z),F=function(K){return K.toFixed(4)},O=[F(V),F(j),F(-1*j),F(V),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,H(f),W(_+g),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([H(D),"0","0",H(g),"0","0","cm"].join(" "))):this.internal.write([H(D),"0","0",H(g),H(f),W(_+g),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+I.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(f){var _,D,g=0;if(typeof f=="string")for(D=f.length,_=0;_<D;_++)g=(g<<5)-g+f.charCodeAt(_),g|=0;else if(ve(f))for(D=f.byteLength/2,_=0;_<D;_++)g=(g<<5)-g+f[_],g|=0;return g},X=n.__addimage__.validateStringAsBase64=function(f){(f=f||"").toString().trim();var _=!0;return f.length===0&&(_=!1),f.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(f.substr(0,f.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(f.substr(-2))===!1&&(_=!1),_},re=n.__addimage__.extractImageFromDataUrl=function(f){var _=(f=f||"").split("base64,"),D=null;if(_.length===2){var g=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(_[0]);Array.isArray(g)&&(D={mimeType:g[1],charset:g[2],data:_[1]})}return D},ue=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(f){return ue()&&f instanceof ArrayBuffer};var ve=n.__addimage__.isArrayBufferView=function(f){return ue()&&typeof Uint32Array<"u"&&(f instanceof Int8Array||f instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)},de=n.__addimage__.binaryStringToUint8Array=function(f){for(var _=f.length,D=new Uint8Array(_),g=0;g<_;g++)D[g]=f.charCodeAt(g);return D},$=n.__addimage__.arrayBufferToBinaryString=function(f){for(var _="",D=ve(f)?f:new Uint8Array(f),g=0;g<D.length;g+=8192)_+=String.fromCharCode.apply(null,D.subarray(g,g+8192));return _};n.addImage=function(){var f,_,D,g,I,z,te,H,W;if(typeof arguments[1]=="number"?(_=s,D=arguments[1],g=arguments[2],I=arguments[3],z=arguments[4],te=arguments[5],H=arguments[6],W=arguments[7]):(_=arguments[1],D=arguments[2],g=arguments[3],I=arguments[4],z=arguments[5],te=arguments[6],H=arguments[7],W=arguments[8]),gt(f=arguments[0])==="object"&&!y(f)&&"imageData"in f){var G=f;f=G.imageData,_=G.format||_||s,D=G.x||D||0,g=G.y||g||0,I=G.w||G.width||I,z=G.h||G.height||z,te=G.alias||te,H=G.compression||H,W=G.rotation||G.angle||W}var V=this.internal.getFilters();if(H===void 0&&V.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(D)||isNaN(g))throw new Error("Invalid coordinates passed to jsPDF.addImage");m.call(this);var j=ie.call(this,f,_,te,H);return E.call(this,D,g,I,z,j,W),this};var ie=function(f,_,D,g){var I,z,te;if(typeof f=="string"&&i(f)===s){f=unescape(f);var H=Z(f,!1);(H!==""||(H=n.loadFile(f,!0))!==void 0)&&(f=H)}if(y(f)&&(f=k(f,_)),_=i(f,_),!v(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((te=D)==null||te.length===0)&&(D=(function(W){return typeof W=="string"||ve(W)?L(W):ve(W.data)?L(W.data):null})(f)),(I=x.call(this,D))||(ue()&&(f instanceof Uint8Array||_==="RGBA"||(z=f,f=de(f))),I=this["process"+_.toUpperCase()](f,b.call(this),D,(function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in n.image_compression?W:S.NONE})(g),z)),!I)throw new Error("An unknown error occurred whilst processing the image.");return I},Z=n.__addimage__.convertBase64ToBinaryString=function(f,_){var D;_=typeof _!="boolean"||_;var g,I="";if(typeof f=="string"){g=(D=re(f))!==null?D.data:f;try{I=Fa(g)}catch(z){if(_)throw X(g)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};n.getImageProperties=function(f){var _,D,g="";if(y(f)&&(f=k(f)),typeof f=="string"&&i(f)===s&&((g=Z(f,!1))===""&&(g=n.loadFile(f)||""),f=g),D=i(f),!v(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!ue()||f instanceof Uint8Array||(f=de(f)),!(_=this["process"+D.toUpperCase()](f)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=D,_}})(Qe.API),(function(n){var s=function(r){if(r!==void 0&&r!="")return!0};Qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(r){for(var i,l,o,c=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),b=r.pageContext.annotations,v=!1,y=0;y<b.length&&!v;y++)switch((i=b[y]).type){case"link":(s(i.options.url)||s(i.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var k=0;k<b.length;k++){i=b[k];var x=this.internal.pdfEscape,M=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(E.objId),L=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(l="/Rect ["+c(i.bounds.x)+" "+m(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+m(i.bounds.y)+"] ")+"/Contents ("+x(S(i.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+x(S(L))+") >>",E.content=o;var X=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+c(i.bounds.x+30)+" "+m(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+m(i.bounds.y)+"] ")+" /Parent "+X,i.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":l="/Rect ["+c(i.bounds.x)+" "+m(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+m(i.bounds.y+i.bounds.h)+"] ";var re=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+x(M(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+re+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var ue=this.annotations._nameMap[i.options.name];i.options.pageNumber=ue.page,i.options.top=ue.y}else i.options.top||(i.options.top=0);if(l="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+x(M(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ve=m(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ve+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},n.link=function(r,i,l,o,c){var m=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,b=this.internal.getVerticalCoordinateString;m.pageContext.annotations.push({finalBounds:{x:u(r),y:b(i),w:u(r+l),h:b(i+o)},options:c,type:"link"})},n.textWithLink=function(r,i,l,o){var c,m,u=this.getTextWidth(r),b=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){m=o.maxWidth;var v=this.splitTextToSize(r,m).length;c=Math.ceil(b*v)}else m=u,c=b;return this.text(r,i,l,o),l+=.2*b,o.align==="center"&&(i-=u/2),o.align==="right"&&(i-=u),this.link(i,l-b,m,c,o),u},n.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}})(Qe.API),(function(n){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(E){return s[E.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},m=n.__arabicParser__.isArabicEndLetter=function(E){return c(E)&&o(E)&&s[E.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(E){return c(E)&&l.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return c(E)&&o(E)&&s[E.charCodeAt(0)].length>=1};var b=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return c(E)&&o(E)&&s[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return c(E)&&o(E)&&s[E.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return c(E)&&o(E)&&s[E.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(E){var T=0,S=r,L="",X=0;for(T=0;T<E.length;T+=1)S[E.charCodeAt(T)]!==void 0?(X++,typeof(S=S[E.charCodeAt(T)])=="number"&&(L+=String.fromCharCode(S),S=r,X=0),T===E.length-1&&(S=r,L+=E.charAt(T-(X-1)),T-=X-1,X=0)):(S=r,L+=E.charAt(T-X),T-=X,X=0);return L};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var k=n.__arabicParser__.getCorrectForm=function(E,T,S){return c(E)?o(E)===!1?-1:!b(E)||!c(T)&&!c(S)||!c(S)&&m(T)||m(E)&&!c(T)||m(E)&&u(T)||m(E)&&m(T)?0:v(E)&&c(T)&&!m(T)&&c(S)&&b(S)?3:m(E)||!c(S)?1:2:-1},x=function(E){var T=0,S=0,L=0,X="",re="",ue="",ve=(E=E||"").split("\\s+"),de=[];for(T=0;T<ve.length;T+=1){for(de.push(""),S=0;S<ve[T].length;S+=1)X=ve[T][S],re=ve[T][S-1],ue=ve[T][S+1],c(X)?(L=k(X,re,ue),de[T]+=L!==-1?String.fromCharCode(s[X.charCodeAt(0)][L]):X):de[T]+=X;de[T]=y(de[T])}return de.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(T)){var L=0;for(S=[],L=0;L<T.length;L+=1)Array.isArray(T[L])?S.push([x(T[L][0]),T[L][1],T[L][2]]):S.push([x(T[L])]);E=S}else E=x(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",M])})(Qe.API),Qe.API.autoPrint=function(n){var s;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+s+" 0 R")}))}return this},(function(n){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(m){r=m}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(m){i=isNaN(m)||Number.isInteger(m)===!1||m<0?150:m,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(m){l=isNaN(m)||Number.isInteger(m)===!1||m<0?300:m,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(m){o=m}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(m){c=m}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,i){var l;if((r=r||"2d")!=="2d")return null;for(l in i)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=i[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])})(Qe.API),(function(n){var s={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var b=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(E){k=E}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(E){M=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,b){i.call(this);var v=(b=b||{}).fontSize||this.getFontSize(),y=b.font||this.getFont(),k=b.scaleFactor||this.internal.scaleFactor,x=0,M=0,E=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=b.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce((function(X,re){return X.concat(T.splitTextToSize(re,S))}),[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)x<(E=this.getStringUnitWidth(u[L],{font:y})*v)&&(x=E);return x!==0&&(M=u.length),{w:x/=k,h:Math.max((M*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/k,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var b=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,y=this.internal.__cell__.margins||s,k=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return b.lineNumber!==void 0&&(b.lineNumber===u.lineNumber?(u.x=(b.x||0)+(b.width||0),u.y=b.y||0):b.y+b.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,x&&k&&(this.printHeaderRow(u.lineNumber,!0),u.y+=k[0].height)):u.y=b.y+b.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-v,u.y+v,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+v,{align:"center",baseline:"top",maxWidth:u.width-v-v}):this.text(u.text,u.x+v,u.y+v,{align:"left",baseline:"top",maxWidth:u.width-v-v})),this.internal.__cell__.lastCell=u,this};n.table=function(u,b,v,y,k){if(i.call(this),!v)throw new Error("No data for PDF table.");var x,M,E,T,S=[],L=[],X=[],re={},ue={},ve=[],de=[],$=(k=k||{}).autoSize||!1,ie=k.printHeaders!==!1,Z=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,f=k.margins||Object.assign({width:this.getPageWidth()},s),_=typeof k.padding=="number"?k.padding:3,D=k.headerBackgroundColor||"#c8c8c8",g=k.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=f,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=g,this.setFontSize(Z),y==null)L=S=Object.keys(v[0]),X=S.map((function(){return"left"}));else if(Array.isArray(y)&&gt(y[0])==="object")for(S=y.map((function(G){return G.name})),L=y.map((function(G){return G.prompt||G.name||""})),X=y.map((function(G){return G.align||"left"})),x=0;x<y.length;x+=1)ue[y[x].name]=y[x].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(L=S=y,X=S.map((function(){return"left"})));if($||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<S.length;x+=1){for(re[T=S[x]]=v.map((function(G){return G[T]})),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(L[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=re[T],this.setFont(void 0,"normal"),E=0;E<M.length;E+=1)ve.push(this.getTextDimensions(M[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ue[T]=Math.max.apply(null,ve)+_+_,ve=[]}if(ie){var I={};for(x=0;x<S.length;x+=1)I[S[x]]={},I[S[x]].text=L[x],I[S[x]].align=X[x];var z=m.call(this,I,ue);de=S.map((function(G){return new o(u,b,ue[G],z,I[G].text,void 0,I[G].align)})),this.setTableHeaderRow(de),this.printHeaderRow(1,!1)}var te=y.reduce((function(G,V){return G[V.name]=V.align,G}),{});for(x=0;x<v.length;x+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:x,data:v[x]},this);var H=m.call(this,v[x],ue);for(E=0;E<S.length;E+=1){var W=v[x][S[E]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:x,col:E,data:W},this),c.call(this,new o(u,b,ue[S[E]],H,W,x+2,te[S[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=b,this};var m=function(u,b){var v=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(u).map((function(x){var M=u[x];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,b[x]-v-v)}),this).map((function(x){return this.getLineHeightFactor()*x.length*y/k+v+v}),this).reduce((function(x,M){return Math.max(x,M)}),0)};n.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,b){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){v=this.internal.__cell__.tableHeaderRow[x].clone(),b&&(v.y=this.internal.__cell__.margins.top||0,k.push(v)),v.lineNumber=u;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(M)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),r=!1}})(Qe.API);var Ic={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dl=_c(Fc),Dc=[100,200,300,400,500,600,700,800,900],Uu=_c(Dc);function ul(n){var s=n.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return Ic[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}})(n.weight),l=(function(o){return typeof dl[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:s,style:r,weight:i,stretch:l,src:n.src||[],ref:n.ref||{name:s,style:[l,r,i].join(" ")}}}function tc(n,s,r,i){var l;for(l=r;l>=0&&l<s.length;l+=i)if(n[s[l]])return n[s[l]];for(l=r;l>=0&&l<s.length;l-=i)if(n[s[l]])return n[s[l]]}var zu={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rc(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function $u(n,s,r){for(var i=(r=r||{}).defaultFontFamily||"times",l=Object.assign({},zu,r.genericFontFamilies||{}),o=null,c=null,m=0;m<s.length;++m)if(l[(o=ul(s[m])).family]&&(o.family=l[o.family]),n.hasOwnProperty(o.family)){c=n[o.family];break}if(!(c=c||n[i]))throw new Error("Could not find a font-family for the rule '"+rc(o)+"' and default family '"+i+"'.");if(c=(function(u,b){if(b[u])return b[u];var v=dl[u],y=v<=dl.normal?-1:1,k=tc(b,Fc,v,y);if(!k)throw new Error("Could not find a matching font-stretch value for "+u);return k})(o.stretch,c),c=(function(u,b){if(b[u])return b[u];for(var v=Ic[u],y=0;y<v.length;++y)if(b[v[y]])return b[v[y]];throw new Error("Could not find a matching font-style for "+u)})(o.style,c),!(c=(function(u,b){if(b[u])return b[u];if(u===400&&b[500])return b[500];if(u===500&&b[400])return b[400];var v=Uu[u],y=tc(b,Dc,v,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y})(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+rc(o)+"'.");return c}function nc(n){return n.trimLeft()}function Wu(n,s){for(var r=0;r<n.length;){if(n.charAt(r)===s)return[n.substring(0,r),n.substring(r+1)];r+=1}return null}function Hu(n){var s=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],n.substring(s[0].length)]}var _i,ac,ic,Go=["times"];(function(n){var s,r,i,l,o,c,m,u,b,v=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new u,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new c,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new c,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),s=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,m=this.internal.Rectangle,u=this.internal.Matrix,b=new v}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=j;Object.defineProperty(this,"pdf",{get:function(){return F}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(Q){O=!!Q}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Q){K=!!Q}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Q){isNaN(Q)||(ee=Q)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(Q){isNaN(Q)||(J=Q)}}),Object.defineProperty(this,"margin",{get:function(){return b.margin},set:function(Q){var q;typeof Q=="number"?q=[Q,Q,Q,Q]:((q=new Array(4))[0]=Q[0],q[1]=Q.length>=2?Q[1]:q[0],q[2]=Q.length>=3?Q[2]:q[0],q[3]=Q.length>=4?Q[3]:q[1]),b.margin=q}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(Q){ne=Q}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(Q){se=Q}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Q){Ne=Q}}),Object.defineProperty(this,"ctx",{get:function(){return b},set:function(Q){Q instanceof v&&(b=Q)}}),Object.defineProperty(this,"path",{get:function(){return b.path},set:function(Q){b.path=Q}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(Q){Ce=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var q;q=k(Q),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var q=k(Q);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var De=null;function be(Q,q){if(De===null){var He=(function(Me){var Ae=[];return Object.keys(Me).forEach((function(Te){Me[Te].forEach((function(Oe){var me=null;switch(Oe){case"bold":me={family:Te,weight:"bold"};break;case"italic":me={family:Te,style:"italic"};break;case"bolditalic":me={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":me={family:Te}}me!==null&&(me.ref={name:Te,style:Oe},Ae.push(me))}))})),Ae})(Q.getFontList());De=(function(Me){for(var Ae={},Te=0;Te<Me.length;++Te){var Oe=ul(Me[Te]),me=Oe.family,ke=Oe.stretch,_e=Oe.style,Ee=Oe.weight;Ae[me]=Ae[me]||{},Ae[me][ke]=Ae[me][ke]||{},Ae[me][ke][_e]=Ae[me][ke][_e]||{},Ae[me][ke][_e][Ee]=Oe}return Ae})(He.concat(q))}return De}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(Q){De=null,we=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var q;if(this.ctx.font=Q,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Q))!==null){var He=q[1],Me=(q[2],q[3]),Ae=q[4],Te=(q[5],q[6]),Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Oe==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var me=(function(Re){var Ye,Be,kt=[],ut=Re.trim();if(ut==="")return Go;if(ut in sc)return[sc[ut]];for(;ut!=="";){switch(Be=null,Ye=(ut=nc(ut)).charAt(0)){case'"':case"'":Be=Wu(ut.substring(1),Ye);break;default:Be=Hu(ut)}if(Be===null||(kt.push(Be[0]),(ut=nc(Be[1]))!==""&&ut.charAt(0)!==","))return Go;ut=ut.replace(/^,/,"")}return kt})(Te);if(this.fontFaces){var ke=$u(be(this.pdf,this.fontFaces),me.map((function(Re){return{family:Re,stretch:"normal",weight:Me,style:He}})));this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var _e="";(Me==="bold"||parseInt(Me,10)>=700||He==="bold")&&(_e="bold"),He==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Ee="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<me.length;Ke++){if(this.pdf.internal.getFont(me[Ke],_e,{noFallback:!0,disableWarning:!0})!==void 0){Ee=me[Ke];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(me[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ee=me[Ke],_e="bold";else if(this.pdf.internal.getFont(me[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ee=me[Ke],_e="normal";break}}if(Ee===""){for(var Xe=0;Xe<me.length;Xe++)if(Ve[me[Xe]]){Ee=Ve[me[Xe]];break}}Ee=Ee===""?"Times":Ee,this.pdf.setFont(Ee,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){re.call(this,"fill",!1)},y.prototype.stroke=function(){re.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,F){if(isNaN(j)||isNaN(F))throw wt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new c(j,F));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(j,F)},y.prototype.closePath=function(){var j=new c(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&gt(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){j=new c(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(j.x,j.y)},y.prototype.lineTo=function(j,F){if(isNaN(j)||isNaN(F))throw wt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new c(j,F));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(O.x,O.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),re.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,F,O,K){if(isNaN(O)||isNaN(K)||isNaN(j)||isNaN(F))throw wt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new c(O,K)),J=this.ctx.transform.applyToPoint(new c(j,F));this.path.push({type:"qct",x1:J.x,y1:J.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new c(ee.x,ee.y)},y.prototype.bezierCurveTo=function(j,F,O,K,ee,J){if(isNaN(ee)||isNaN(J)||isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K))throw wt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new c(ee,J)),se=this.ctx.transform.applyToPoint(new c(j,F)),Ne=this.ctx.transform.applyToPoint(new c(O,K));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:Ne.x,y2:Ne.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},y.prototype.arc=function(j,F,O,K,ee,J){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K)||isNaN(ee))throw wt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new c(j,F));j=ne.x,F=ne.y;var se=this.ctx.transform.applyToPoint(new c(0,O)),Ne=this.ctx.transform.applyToPoint(new c(0,0));O=Math.sqrt(Math.pow(se.x-Ne.x,2)+Math.pow(se.y-Ne.y,2))}Math.abs(ee-K)>=2*Math.PI&&(K=0,ee=2*Math.PI),this.path.push({type:"arc",x:j,y:F,radius:O,startAngle:K,endAngle:ee,counterclockwise:J})},y.prototype.arcTo=function(j,F,O,K,ee){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,F,O,K){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K))throw wt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,F),this.lineTo(j+O,F),this.lineTo(j+O,F+K),this.lineTo(j,F+K),this.lineTo(j,F),this.lineTo(j+O,F),this.lineTo(j,F)},y.prototype.fillRect=function(j,F,O,K){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K))throw wt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,F,O,K),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},y.prototype.strokeRect=function(j,F,O,K){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K))throw wt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(j,F,O,K),this.stroke())},y.prototype.clearRect=function(j,F,O,K){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K))throw wt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,F,O,K))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(F),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(j){var F,O,K,ee;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))F=0,O=0,K=0,ee=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(J!==null)F=parseInt(J[1]),O=parseInt(J[2]),K=parseInt(J[3]),ee=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)F=parseInt(J[1]),O=parseInt(J[2]),K=parseInt(J[3]),ee=parseFloat(J[4]);else{if(ee=1,typeof j=="string"&&j.charAt(0)!=="#"){var ne=new Ac(j);j=ne.ok?ne.toHex():"#000000"}j.length===4?(F=j.substring(1,2),F+=F,O=j.substring(2,3),O+=O,K=j.substring(3,4),K+=K):(F=j.substring(1,3),O=j.substring(3,5),K=j.substring(5,7)),F=parseInt(F,16),O=parseInt(O,16),K=parseInt(K,16)}}return{r:F,g:O,b:K,a:ee,style:j}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,F,O,K){if(isNaN(F)||isNaN(O)||typeof j!="string")throw wt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!x.call(this)){var ee=H(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;_.call(this,{text:j,x:F,y:O,scale:J,angle:ee,align:this.textAlign,maxWidth:K})}},y.prototype.strokeText=function(j,F,O,K){if(isNaN(F)||isNaN(O)||typeof j!="string")throw wt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){K=isNaN(K)?void 0:K;var ee=H(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;_.call(this,{text:j,x:F,y:O,scale:J,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:K})}},y.prototype.measureText=function(j){if(typeof j!="string")throw wt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,O=this.pdf.internal.scaleFactor,K=F.internal.getFontSize(),ee=F.getStringUnitWidth(j)*K/F.internal.scaleFactor,J=function(ne){var se=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new J({width:ee*=Math.round(96*O/72*1e4)/1e4})},y.prototype.scale=function(j,F){if(isNaN(j)||isNaN(F))throw wt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new u(j,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},y.prototype.rotate=function(j){if(isNaN(j))throw wt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new u(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},y.prototype.translate=function(j,F){if(isNaN(j)||isNaN(F))throw wt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new u(1,0,0,1,j,F);this.ctx.transform=this.ctx.transform.multiply(O)},y.prototype.transform=function(j,F,O,K,ee,J){if(isNaN(j)||isNaN(F)||isNaN(O)||isNaN(K)||isNaN(ee)||isNaN(J))throw wt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new u(j,F,O,K,ee,J);this.ctx.transform=this.ctx.transform.multiply(ne)},y.prototype.setTransform=function(j,F,O,K,ee,J){j=isNaN(j)?1:j,F=isNaN(F)?0:F,O=isNaN(O)?0:O,K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,J=isNaN(J)?0:J,this.ctx.transform=new u(j,F,O,K,ee,J)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,F,O,K,ee,J,ne,se,Ne){var Ce=this.pdf.getImageProperties(j),De=1,be=1,we=1,Q=1;K!==void 0&&se!==void 0&&(we=se/K,Q=Ne/ee,De=Ce.width/K*se/K,be=Ce.height/ee*Ne/ee),J===void 0&&(J=F,ne=O,F=0,O=0),K!==void 0&&se===void 0&&(se=K,Ne=ee),K===void 0&&se===void 0&&(se=Ce.width,Ne=Ce.height);for(var q,He=this.ctx.transform.decompose(),Me=H(He.rotate.shx),Ae=new u,Te=(Ae=(Ae=(Ae=Ae.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new m(J-F*we,ne-O*Q,K*De,ee*be)),Oe=T.call(this,Te),me=[],ke=0;ke<Oe.length;ke+=1)me.indexOf(Oe[ke])===-1&&me.push(Oe[ke]);if(X(me),this.autoPaging)for(var _e=me[0],Ee=me[me.length-1],Ve=_e;Ve<Ee+1;Ve++){this.pdf.setPage(Ve);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ve===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Ve===1?0:Re+(Ve-2)*Ye;if(this.ctx.clip_path.length!==0){var kt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(q,this.posX+this.margin[3],-Be+Xe+this.ctx.prevPageLastElemOffset),ue.call(this,"fill",!0),this.path=kt}var ut=JSON.parse(JSON.stringify(Te));ut=L([ut],this.posX+this.margin[3],-Be+Xe+this.ctx.prevPageLastElemOffset)[0];var Ms=(Ve>_e||Ve<Ee)&&E.call(this);Ms&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Ye,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Me),Ms&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Me)};var T=function(j,F,O){var K=[];F=F||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":K.push(Math.floor((j.y+ee)/O)+1);break;case"arc":K.push(Math.floor((j.y+ee-j.radius)/O)+1),K.push(Math.floor((j.y+ee+j.radius)/O)+1);break;case"qct":var J=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);K.push(Math.floor((J.y+ee)/O)+1),K.push(Math.floor((J.y+J.h+ee)/O)+1);break;case"bct":var ne=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);K.push(Math.floor((ne.y+ee)/O)+1),K.push(Math.floor((ne.y+ne.h+ee)/O)+1);break;case"rect":K.push(Math.floor((j.y+ee)/O)+1),K.push(Math.floor((j.y+j.h+ee)/O)+1)}for(var se=0;se<K.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<K[se];)S.call(this);return K},S=function(){var j=this.fillStyle,F=this.strokeStyle,O=this.font,K=this.lineCap,ee=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=F,this.font=O,this.lineCap=K,this.lineWidth=ee,this.lineJoin=J},L=function(j,F,O){for(var K=0;K<j.length;K++)switch(j[K].type){case"bct":j[K].x2+=F,j[K].y2+=O;case"qct":j[K].x1+=F,j[K].y1+=O;case"mt":case"lt":case"arc":default:j[K].x+=F,j[K].y+=O}return j},X=function(j){return j.sort((function(F,O){return F-O}))},re=function(j,F){for(var O,K,ee=this.fillStyle,J=this.strokeStyle,ne=this.lineCap,se=this.lineWidth,Ne=Math.abs(se*this.ctx.transform.scaleX),Ce=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),be=JSON.parse(JSON.stringify(this.path)),we=[],Q=0;Q<be.length;Q++)if(be[Q].x!==void 0)for(var q=T.call(this,be[Q]),He=0;He<q.length;He+=1)we.indexOf(q[He])===-1&&we.push(q[He]);for(var Me=0;Me<we.length;Me++)for(;this.pdf.internal.getNumberOfPages()<we[Me];)S.call(this);if(X(we),this.autoPaging)for(var Ae=we[0],Te=we[we.length-1],Oe=Ae;Oe<Te+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=ee,this.strokeStyle=J,this.lineCap=ne,this.lineWidth=Ne,this.lineJoin=Ce;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Oe===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=Oe===1?0:_e+(Oe-2)*Ee;if(this.ctx.clip_path.length!==0){var Ke=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(O,this.posX+this.margin[3],-Ve+ke+this.ctx.prevPageLastElemOffset),ue.call(this,j,!0),this.path=Ke}if(K=JSON.parse(JSON.stringify(De)),this.path=L(K,this.posX+this.margin[3],-Ve+ke+this.ctx.prevPageLastElemOffset),F===!1||Oe===0){var Xe=(Oe>Ae||Oe<Te)&&E.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Ee,null).clip().discardPath()),ue.call(this,j,F),Xe&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=Ne,ue.call(this,j,F),this.lineWidth=se;this.path=De},ue=function(j,F){if((j!=="stroke"||F||!M.call(this))&&(j==="stroke"||F||!x.call(this))){for(var O,K,ee=[],J=this.path,ne=0;ne<J.length;ne++){var se=J[ne];switch(se.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:se,deltas:[],abs:[]});break;case"lt":var Ne=ee.length;if(J[ne-1]&&!isNaN(J[ne-1].x)&&(O=[se.x-J[ne-1].x,se.y-J[ne-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ee[Ne-1].close!==!0&&ee[Ne-1].begin!==!0){ee[Ne-1].deltas.push(O),ee[Ne-1].abs.push(se);break}}break;case"bct":O=[se.x1-J[ne-1].x,se.y1-J[ne-1].y,se.x2-J[ne-1].x,se.y2-J[ne-1].y,se.x-J[ne-1].x,se.y-J[ne-1].y],ee[ee.length-1].deltas.push(O);break;case"qct":var Ce=J[ne-1].x+2/3*(se.x1-J[ne-1].x),De=J[ne-1].y+2/3*(se.y1-J[ne-1].y),be=se.x+2/3*(se.x1-se.x),we=se.y+2/3*(se.y1-se.y),Q=se.x,q=se.y;O=[Ce-J[ne-1].x,De-J[ne-1].y,be-J[ne-1].x,we-J[ne-1].y,Q-J[ne-1].x,q-J[ne-1].y],ee[ee.length-1].deltas.push(O);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(se)}}K=F?null:j==="stroke"?"stroke":"fill";for(var He=!1,Me=0;Me<ee.length;Me++)if(ee[Me].arc)for(var Ae=ee[Me].abs,Te=0;Te<Ae.length;Te++){var Oe=Ae[Te];Oe.type==="arc"?$.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,F,!He):D.call(this,Oe.x,Oe.y),He=!0}else if(ee[Me].close===!0)this.pdf.internal.out("h"),He=!1;else if(ee[Me].begin!==!0){var me=ee[Me].start.x,ke=ee[Me].start.y;g.call(this,ee[Me].deltas,me,ke),He=!0}K&&ie.call(this,K),F&&Z.call(this)}},ve=function(j){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-O;case"top":return j+F-O;case"hanging":return j+F-2*O;case"middle":return j+F/2-O;case"ideographic":return j;case"alphabetic":default:return j}},de=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(F,O){this.colorStops.push([F,O])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(j,F,O,K,ee,J,ne,se,Ne){for(var Ce=z.call(this,O,K,ee,J),De=0;De<Ce.length;De++){var be=Ce[De];De===0&&(Ne?f.call(this,be.x1+j,be.y1+F):D.call(this,be.x1+j,be.y1+F)),I.call(this,j,F,be.x2,be.y2,be.x3,be.y3,be.x4,be.y4)}se?Z.call(this):ie.call(this,ne)},ie=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},f=function(j,F){this.pdf.internal.out(r(j)+" "+i(F)+" m")},_=function(j){var F;switch(j.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var O=this.pdf.getTextDimensions(j.text),K=ve.call(this,j.y),ee=de.call(this,K)-O.h,J=this.ctx.transform.applyToPoint(new c(j.x,K)),ne=this.ctx.transform.decompose(),se=new u;se=(se=(se=se.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var Ne,Ce,De,be=this.ctx.transform.applyToRectangle(new m(j.x,K,O.w,O.h)),we=se.applyToRectangle(new m(j.x,ee,O.w,O.h)),Q=T.call(this,we),q=[],He=0;He<Q.length;He+=1)q.indexOf(Q[He])===-1&&q.push(Q[He]);if(X(q),this.autoPaging)for(var Me=q[0],Ae=q[q.length-1],Te=Me;Te<Ae+1;Te++){this.pdf.setPage(Te);var Oe=Te===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],_e=ke-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],Ve=Ee-this.margin[3],Ke=Te===1?0:me+(Te-2)*_e;if(this.ctx.clip_path.length!==0){var Xe=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Ne,this.posX+this.margin[3],-1*Ke+Oe),ue.call(this,"fill",!0),this.path=Xe}var Re=L([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-Ke+Oe+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*j.scale),De=this.lineWidth,this.lineWidth=De*j.scale);var Ye=this.autoPaging!=="text";if(Ye||Re.y+Re.h<=ke){if(Ye||Re.y>=Oe&&Re.x<=Ee){var Be=Ye?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ee-Re.x)[0],kt=L([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Ke+Oe+this.ctx.prevPageLastElemOffset)[0],ut=Ye&&(Te>Me||Te<Ae)&&E.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,_e,null).clip().discardPath()),this.pdf.text(Be,kt.x,kt.y,{angle:j.angle,align:F,renderingMode:j.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Re.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-Re.y);j.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)}else j.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*j.scale),De=this.lineWidth,this.lineWidth=De*j.scale),this.pdf.text(j.text,J.x+this.posX,J.y+this.posY,{angle:j.angle,align:F,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)},D=function(j,F,O,K){O=O||0,K=K||0,this.pdf.internal.out(r(j+O)+" "+i(F+K)+" l")},g=function(j,F,O){return this.pdf.lines(j,F,O,null,null)},I=function(j,F,O,K,ee,J,ne,se){this.pdf.internal.out([s(l(O+j)),s(o(K+F)),s(l(ee+j)),s(o(J+F)),s(l(ne+j)),s(o(se+F)),"c"].join(" "))},z=function(j,F,O,K){for(var ee=2*Math.PI,J=Math.PI/2;F>O;)F-=ee;var ne=Math.abs(O-F);ne<ee&&K&&(ne=ee-ne);for(var se=[],Ne=K?-1:1,Ce=F;ne>1e-5;){var De=Ce+Ne*Math.min(ne,J);se.push(te.call(this,j,Ce,De)),ne-=Math.abs(De-Ce),Ce=De}return se},te=function(j,F,O){var K=(O-F)/2,ee=j*Math.cos(K),J=j*Math.sin(K),ne=ee,se=-J,Ne=ne*ne+se*se,Ce=Ne+ne*ee+se*J,De=4/3*(Math.sqrt(2*Ne*Ce)-Ce)/(ne*J-se*ee),be=ne-De*se,we=se+De*ne,Q=be,q=-we,He=K+F,Me=Math.cos(He),Ae=Math.sin(He);return{x1:j*Math.cos(F),y1:j*Math.sin(F),x2:be*Me-we*Ae,y2:be*Ae+we*Me,x3:Q*Me-q*Ae,y3:Q*Ae+q*Me,x4:j*Math.cos(O),y4:j*Math.sin(O)}},H=function(j){return 180*j/Math.PI},W=function(j,F,O,K,ee,J){var ne=j+.5*(O-j),se=F+.5*(K-F),Ne=ee+.5*(O-ee),Ce=J+.5*(K-J),De=Math.min(j,ee,ne,Ne),be=Math.max(j,ee,ne,Ne),we=Math.min(F,J,se,Ce),Q=Math.max(F,J,se,Ce);return new m(De,we,be-De,Q-we)},G=function(j,F,O,K,ee,J,ne,se){var Ne,Ce,De,be,we,Q,q,He,Me,Ae,Te,Oe,me,ke,_e=O-j,Ee=K-F,Ve=ee-O,Ke=J-K,Xe=ne-ee,Re=se-J;for(Ce=0;Ce<41;Ce++)Me=(q=(De=j+(Ne=Ce/40)*_e)+Ne*((we=O+Ne*Ve)-De))+Ne*(we+Ne*(ee+Ne*Xe-we)-q),Ae=(He=(be=F+Ne*Ee)+Ne*((Q=K+Ne*Ke)-be))+Ne*(Q+Ne*(J+Ne*Re-Q)-He),Ce==0?(Te=Me,Oe=Ae,me=Me,ke=Ae):(Te=Math.min(Te,Me),Oe=Math.min(Oe,Ae),me=Math.max(me,Me),ke=Math.max(ke,Ae));return new m(Math.round(Te),Math.round(Oe),Math.round(me-Te),Math.round(ke-Oe))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,F,O=(j=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:F}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(Qe.API),(function(n){var s=function(o){var c,m,u,b,v,y,k,x,M,E;for(m=[],u=0,b=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;b>u;u+=4)(v=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(v=((v=((v=((v=(v-(E=v%85))/85)-(M=v%85))/85)-(x=v%85))/85)-(k=v%85))/85)%85,m.push(y+33,k+33,x+33,M+33,E+33)):m.push(122);return(function(T,S){for(var L=S;L>0;L--)T.pop()})(m,c.length),String.fromCharCode.apply(String,m)+"~>"},r=function(o){var c,m,u,b,v,y=String,k="length",x=255,M="charCodeAt",E="slice",T="replace";for(o[E](-2),o=o[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),u=[],b=0,v=(o+=c="uuuuu"[E](o[k]%5||5))[k];v>b;b+=5)m=52200625*(o[M](b)-33)+614125*(o[M](b+1)-33)+7225*(o[M](b+2)-33)+85*(o[M](b+3)-33)+(o[M](b+4)-33),u.push(x&m>>24,x&m>>16,x&m>>8,x&m);return(function(S,L){for(var X=L;X>0;X--)S.pop()})(u,c[k]),y.fromCharCode.apply(y,u)},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var m="",u=0;u<o.length;u+=2)m+=String.fromCharCode("0x"+(o[u]+o[u+1]));return m},l=function(o){for(var c=new Uint8Array(o.length),m=o.length;m--;)c[m]=o.charCodeAt(m);return o=(c=al(c)).reduce((function(u,b){return u+String.fromCharCode(b)}),"")};n.processDataByFilters=function(o,c){var m=0,u=o||"",b=[];for(typeof(c=c||[])=="string"&&(c=[c]),m=0;m<c.length;m+=1)switch(c[m]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=s(u),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map((function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)})).join("")+">",b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=l(u),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[m]+'" is not implemented')}return{data:u,reverseChain:b.reverse().join(" ")}}})(Qe.API),(function(n){n.loadFile=function(s,r,i){return(function(l,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var m=void 0;try{m=(function(u,b,v){var y=new XMLHttpRequest,k=0,x=function(M){var E=M.length,T=[],S=String.fromCharCode;for(k=0;k<E;k+=1)T.push(S(255&M.charCodeAt(k)));return T.join("")};if(y.open("GET",u,!b),y.overrideMimeType("text/plain; charset=x-user-defined"),b===!1&&(y.onload=function(){y.status===200?v(x(this.responseText)):v(void 0)}),y.send(null),b&&y.status===200)return x(y.responseText)})(l,o,c)}catch{}return m})(s,r,i)},n.loadImageFile=n.loadFile})(Qe.API),(function(n){function s(){return(et.html2canvas?Promise.resolve(et.html2canvas):Jo(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function r(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):Jo(()=>import("./purify.es-BpVZ_uCt.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var i=function(c){var m=gt(c);return m==="undefined"?"undefined":m==="string"||c instanceof String?"string":m==="number"||c instanceof Number?"number":m==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":m==="object"?"object":"unknown"},l=function(c,m){var u=document.createElement(c);for(var b in m.className&&(u.className=m.className),m.innerHTML&&m.dompurify&&(u.innerHTML=m.dompurify.sanitize(m.innerHTML)),m.style)u.style[b]=m.style[b];return u},o=function c(m){var u=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),b=c.convert(Promise.resolve(),u);return b=(b=b.setProgress(1,c,1,[c])).set(m)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,m){return c.__proto__=m||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,m){return this.then((function(){switch(m=m||(function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(r).then((function(u){return this.set({src:l("div",{innerHTML:c,dompurify:u})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},m=(function u(b,v){for(var y=b.nodeType===3?document.createTextNode(b.nodeValue):b.cloneNode(!1),k=b.firstChild;k;k=k.nextSibling)v!==!0&&k.nodeType===1&&k.nodeName==="SCRIPT"||y.appendChild(u(k,v));return b.nodeType===1&&(b.nodeName==="CANVAS"?(y.width=b.width,y.height=b.height,y.getContext("2d").drawImage(b,0,0)):b.nodeName!=="TEXTAREA"&&b.nodeName!=="SELECT"||(y.value=b.value),y.addEventListener("load",(function(){y.scrollTop=b.scrollTop,y.scrollLeft=b.scrollLeft}),!0)),y})(this.prop.src,this.opt.html2canvas.javascriptEnabled);m.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(m),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(s).then((function(m){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,m(this.prop.container,u)})).then((function(m){(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(s).then((function(m){var u=this.opt.jsPDF,b=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=b,b)for(var k=0;k<b.length;++k){var x=b[k],M=x.src.find((function(E){return E.format==="truetype"}));M&&u.addFont(M.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),m(this.prop.container,y)})).then((function(m){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(c,m,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(c,m):this.outputPdf(c,m)},o.prototype.outputPdf=function(c,m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,m)}))},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(c){if(i(c)!=="object")return this;var m=Object.keys(c||{}).map((function(u){if(u in o.template.prop)return function(){this.prop[u]=c[u]};switch(u){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[u]=c[u]}}}),this);return this.then((function(){return this.thenList(m)}))},o.prototype.get=function(c,m){return this.then((function(){var u=c in o.template.prop?this.prop[c]:this.opt[c];return m?m(u):u}))},o.prototype.setMargin=function(c){return this.then((function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},o.prototype.setPageSize=function(c){function m(u,b){return Math.floor(u*b/72*96)}return this.then((function(){(c=c||Qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:m(c.inner.width,c.k),height:m(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},o.prototype.setProgress=function(c,m,u,b){return c!=null&&(this.progress.val=c),m!=null&&(this.progress.state=m),u!=null&&(this.progress.n=u),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,m,u,b){return this.setProgress(c?this.progress.val+c:null,m||null,u?this.progress.n+u:null,b?this.progress.stack.concat(b):null)},o.prototype.then=function(c,m){var u=this;return this.thenCore(c,m,(function(b,v){return u.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,(function(y){return u.updateProgress(null,b),y})).then(b,v).then((function(y){return u.updateProgress(1),y}))}))},o.prototype.thenCore=function(c,m,u){u=u||Promise.prototype.then,c&&(c=c.bind(this)),m&&(m=m.bind(this));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),v=u.call(b,c,m);return o.convert(v,this.__proto__)},o.prototype.thenExternal=function(c,m){return Promise.prototype.then.call(this,c,m)},o.prototype.thenList=function(c){var m=this;return c.forEach((function(u){m=m.thenCore(u)})),m},o.prototype.catch=function(c){c&&(c=c.bind(this));var m=Promise.prototype.catch.call(this,c);return o.convert(m,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Qe.getPageSize=function(c,m,u){if(gt(c)==="object"){var b=c;c=b.orientation,m=b.unit||m,u=b.format||u}m=m||"mm",u=u||"a4",c=(""+(c||"P")).toLowerCase();var v,y=(""+u).toLowerCase(),k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+m}var x,M=0,E=0;if(k.hasOwnProperty(y))M=k[y][1]/v,E=k[y][0]/v;else try{M=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if(c==="p"||c==="portrait")c="p",E>M&&(x=E,E=M,M=x);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",M>E&&(x=E,E=M,M=x)}return{width:E,height:M,unit:m,k:v,orientation:c}},n.html=function(c,m){(m=m||{}).callback=m.callback||function(){},m.html2canvas=m.html2canvas||{},m.html2canvas.canvas=m.html2canvas.canvas||this.canvas,m.jsPDF=m.jsPDF||this,m.fontFaces=m.fontFaces?m.fontFaces.map(ul):null;var u=new o(m);return m.worker?u:u.from(c).doCallback()}})(Qe.API),Qe.API.addJS=function(n){return ic=n,this.internal.events.subscribe("postPutResources",(function(){_i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_i+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ac=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ic+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){_i!==void 0&&ac!==void 0&&this.internal.out("/Names <</JavaScript "+_i+" 0 R>>")})),this},(function(n){var s;n.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=r.outline.render().split(/\r\n/),o=0;o<l.length;o++){var c=l[o],m=i.exec(c);if(m!=null){var u=m[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var b=this.internal.pages.length,v=[];for(o=0;o<b;o++){var y=r.internal.newObject();v.push(y);var k=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<v.length;o++)r.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+s+" 0 R"))}]),n.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,l,o){var c={title:l,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var l=0;l<i.children.length;l++)this.genIds_r(i.children[l])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var m=this.count=this.count_r({count:0},c);if(m>0&&this.line("/Count "+m),c.options&&c.options.pageNumber){var u=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var b=0;b<i.children.length;b++)this.renderItems(i.children[b])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,l){for(var o=0;o<l.children.length;o++)i.count++,this.count_r(i,l.children[o]);return i.count}}])})(Qe.API),(function(n){var s=[192,193,194,195,196,197,198,199];n.processJPEG=function(r,i,l,o,c,m){var u,b=this.decode.DCT_DECODE,v=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(u=(function(y){for(var k,x=256*y.charCodeAt(4)+y.charCodeAt(5),M=y.length,E={width:0,height:0,numcomponents:1},T=4;T<M;T+=2){if(T+=x,s.indexOf(y.charCodeAt(T+1))!==-1){k=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),E={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:k,numcomponents:y.charCodeAt(T+9)};break}x=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return E})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:m=this.color_spaces.DEVICE_GRAY;break;case 4:m=this.color_spaces.DEVICE_CMYK;break;case 3:m=this.color_spaces.DEVICE_RGB}v={data:r,width:u.width,height:u.height,colorSpace:m,bitsPerComponent:8,filter:b,index:i,alias:l}}return v}})(Qe.API);var zn,Ii,oc,lc,cc,Vu=(function(){var n,s,r;function i(o){var c,m,u,b,v,y,k,x,M,E,T,S,L,X;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(c=this.readUInt32(),M=(function(){var re,ue;for(ue=[],re=0;re<4;++re)ue.push(String.fromCharCode(this.data[this.pos++]));return ue}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),b=this.readUInt16()||100,y.delay=1e3*v/b,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(M==="fdAT"&&(this.pos+=4,c-=4),o=y?.data||this.imgData,S=0;0<=c?S<c:S>c;0<=c?++S:--S)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((E=u-this.transparency.indexed.length)>0)for(L=0;0<=E?L<E:L>E;0<=E?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":k=(T=this.read(c)).indexOf(0),x=String.fromCharCode.apply(String,T.slice(0,k)),this.text[x]=String.fromCharCode.apply(String,T.slice(k+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(X=this.colorType)===4||X===6,m=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*m,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var c,m;for(m=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)m.push(this.data[this.pos++]);return m},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,m=new Uint8Array(this.width*this.height*c),u=0,b=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function v(y,k,x,M){var E,T,S,L,X,re,ue,ve,de,$,ie,Z,f,_,D,g,I,z,te,H,W,G=Math.ceil((b.width-y)/x),V=Math.ceil((b.height-k)/M),j=b.width==G&&b.height==V;for(_=c*G,Z=j?m:new Uint8Array(_*V),re=o.length,f=0,T=0;f<V&&u<re;){switch(o[u++]){case 0:for(L=I=0;I<_;L=I+=1)Z[T++]=o[u++];break;case 1:for(L=z=0;z<_;L=z+=1)E=o[u++],X=L<c?0:Z[T-c],Z[T++]=(E+X)%256;break;case 2:for(L=te=0;te<_;L=te+=1)E=o[u++],S=(L-L%c)/c,D=f&&Z[(f-1)*_+S*c+L%c],Z[T++]=(D+E)%256;break;case 3:for(L=H=0;H<_;L=H+=1)E=o[u++],S=(L-L%c)/c,X=L<c?0:Z[T-c],D=f&&Z[(f-1)*_+S*c+L%c],Z[T++]=(E+Math.floor((X+D)/2))%256;break;case 4:for(L=W=0;W<_;L=W+=1)E=o[u++],S=(L-L%c)/c,X=L<c?0:Z[T-c],f===0?D=g=0:(D=Z[(f-1)*_+S*c+L%c],g=S&&Z[(f-1)*_+(S-1)*c+L%c]),ue=X+D-g,ve=Math.abs(ue-X),$=Math.abs(ue-D),ie=Math.abs(ue-g),de=ve<=$&&ve<=ie?X:$<=ie?D:g,Z[T++]=(E+de)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!j){var F=((k+f*M)*b.width+y)*c,O=f*_;for(L=0;L<G;L+=1){for(var K=0;K<c;K+=1)m[F++]=Z[O++];F+=(x-1)*c}}f++}}return o=Au(o),b.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),m},i.prototype.decodePalette=function(){var o,c,m,u,b,v,y,k,x;for(m=this.palette,v=this.transparency.indexed||[],b=new Uint8Array((v.length||0)+m.length),u=0,o=0,c=y=0,k=m.length;y<k;c=y+=3)b[u++]=m[c],b[u++]=m[c+1],b[u++]=m[c+2],b[u++]=(x=v[o++])!=null?x:255;return b},i.prototype.copyToImageData=function(o,c){var m,u,b,v,y,k,x,M,E,T,S;if(u=this.colors,E=null,m=this.hasAlphaChannel,this.palette.length&&(E=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),u=4,m=!0),M=(b=o.data||o).length,y=E||c,v=k=0,u===1)for(;v<M;)x=E?4*c[v/4]:k,T=y[x++],b[v++]=T,b[v++]=T,b[v++]=T,b[v++]=m?y[x++]:255,k=x;else for(;v<M;)x=E?4*c[v/4]:k,b[v++]=y[x++],b[v++]=y[x++],b[v++]=y[x++],b[v++]=m?y[x++]:255,k=x},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var l=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{s=et.document.createElement("canvas"),r=s.getContext("2d")}catch{return!1}return!0}return!1};return l(),n=function(o){var c;if(l()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(c=new Image).src=s.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var c,m,u,b,v,y,k,x;if(this.animation){for(x=[],m=v=0,y=(k=this.animation.frames).length;v<y;m=++v)c=k[m],u=o.createImageData(c.width,c.height),b=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(u,b),c.imageData=u,x.push(c.image=n(u));return x}},i.prototype.renderFrame=function(o,c){var m,u,b;return m=(u=this.animation.frames)[c],b=u[c-1],c===0&&o.clearRect(0,0,this.width,this.height),b?.disposeOp===1?o.clearRect(b.xOffset,b.yOffset,b.width,b.height):b?.disposeOp===2&&o.putImageData(b.imageData,b.xOffset,b.yOffset),m.blendOp===0&&o.clearRect(m.xOffset,m.yOffset,m.width,m.height),o.drawImage(m.image,m.xOffset,m.yOffset)},i.prototype.animate=function(o){var c,m,u,b,v,y,k=this;return m=0,y=this.animation,b=y.numFrames,u=y.frames,v=y.numPlays,(c=function(){var x,M;if(x=m++%b,M=u[x],k.renderFrame(o,x),b>1&&m/b<v)return k.animation._timeout=setTimeout(c,M.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var c,m;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(m=c.createImageData(this.width,this.height),this.copyToImageData(m,this.decodePixels()),c.putImageData(m,0,0))},i})();function Gu(n){var s=0;if(n[s++]!==71||n[s++]!==73||n[s++]!==70||n[s++]!==56||(n[s++]+1&253)!=56||n[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=n[s++]|n[s++]<<8,i=n[s++]|n[s++]<<8,l=n[s++],o=l>>7,c=1<<(7&l)+1;n[s++],n[s++];var m=null,u=null;o&&(m=s,u=c,s+=3*c);var b=!0,v=[],y=0,k=null,x=0,M=null;for(this.width=r,this.height=i;b&&s<n.length;)switch(n[s++]){case 33:switch(n[s++]){case 255:if(n[s]!==11||n[s+1]==78&&n[s+2]==69&&n[s+3]==84&&n[s+4]==83&&n[s+5]==67&&n[s+6]==65&&n[s+7]==80&&n[s+8]==69&&n[s+9]==50&&n[s+10]==46&&n[s+11]==48&&n[s+12]==3&&n[s+13]==1&&n[s+16]==0)s+=14,M=n[s++]|n[s++]<<8,s++;else for(s+=12;;){if(!((f=n[s++])>=0))throw Error("Invalid block size");if(f===0)break;s+=f}break;case 249:if(n[s++]!==4||n[s+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[s++];y=n[s++]|n[s++]<<8,k=n[s++],(1&E)==0&&(k=null),x=E>>2&7,s++;break;case 254:for(;;){if(!((f=n[s++])>=0))throw Error("Invalid block size");if(f===0)break;s+=f}break;default:throw new Error("Unknown graphic control label: 0x"+n[s-1].toString(16))}break;case 44:var T=n[s++]|n[s++]<<8,S=n[s++]|n[s++]<<8,L=n[s++]|n[s++]<<8,X=n[s++]|n[s++]<<8,re=n[s++],ue=re>>6&1,ve=1<<(7&re)+1,de=m,$=u,ie=!1;re>>7&&(ie=!0,de=s,$=ve,s+=3*ve);var Z=s;for(s++;;){var f;if(!((f=n[s++])>=0))throw Error("Invalid block size");if(f===0)break;s+=f}v.push({x:T,y:S,width:L,height:X,has_local_palette:ie,palette_offset:de,palette_size:$,data_offset:Z,data_length:s-Z,transparent_index:k,interlaced:!!ue,delay:y,disposal:x});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+n[s-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return M},this.frameInfo=function(_){if(_<0||_>=v.length)throw new Error("Frame index out of range.");return v[_]},this.decodeAndBlitFrameBGRA=function(_,D){var g=this.frameInfo(_),I=g.width*g.height,z=new Uint8Array(I);dc(n,g.data_offset,z,I);var te=g.palette_offset,H=g.transparent_index;H===null&&(H=256);var W=g.width,G=r-W,V=W,j=4*(g.y*r+g.x),F=4*((g.y+g.height)*r+g.x),O=j,K=4*G;g.interlaced===!0&&(K+=4*r*7);for(var ee=8,J=0,ne=z.length;J<ne;++J){var se=z[J];if(V===0&&(V=W,(O+=K)>=F&&(K=4*G+4*r*(ee-1),O=j+(W+G)*(ee<<1),ee>>=1)),se===H)O+=4;else{var Ne=n[te+3*se],Ce=n[te+3*se+1],De=n[te+3*se+2];D[O++]=De,D[O++]=Ce,D[O++]=Ne,D[O++]=255}--V}},this.decodeAndBlitFrameRGBA=function(_,D){var g=this.frameInfo(_),I=g.width*g.height,z=new Uint8Array(I);dc(n,g.data_offset,z,I);var te=g.palette_offset,H=g.transparent_index;H===null&&(H=256);var W=g.width,G=r-W,V=W,j=4*(g.y*r+g.x),F=4*((g.y+g.height)*r+g.x),O=j,K=4*G;g.interlaced===!0&&(K+=4*r*7);for(var ee=8,J=0,ne=z.length;J<ne;++J){var se=z[J];if(V===0&&(V=W,(O+=K)>=F&&(K=4*G+4*r*(ee-1),O=j+(W+G)*(ee<<1),ee>>=1)),se===H)O+=4;else{var Ne=n[te+3*se],Ce=n[te+3*se+1],De=n[te+3*se+2];D[O++]=Ne,D[O++]=Ce,D[O++]=De,D[O++]=255}--V}}}function dc(n,s,r,i){for(var l=n[s++],o=1<<l,c=o+1,m=c+1,u=l+1,b=(1<<u)-1,v=0,y=0,k=0,x=n[s++],M=new Int32Array(4096),E=null;;){for(;v<16&&x!==0;)y|=n[s++]<<v,v+=8,x===1?x=n[s++]:--x;if(v<u)break;var T=y&b;if(y>>=u,v-=u,T!==o){if(T===c)break;for(var S=T<m?T:E,L=0,X=S;X>o;)X=M[X]>>8,++L;var re=X;if(k+L+(S!==T?1:0)>i)return void wt.log("Warning, gif stream longer than expected.");r[k++]=re;var ue=k+=L;for(S!==T&&(r[k++]=re),X=S;L--;)X=M[X],r[--ue]=255&X,X>>=8;E!==null&&m<4096&&(M[m++]=E<<8|re,m>=b+1&&u<12&&(++u,b=b<<1|1)),E=T}else m=c+1,b=(1<<(u=l+1))-1,E=null}return k!==i&&wt.log("Warning, gif stream shorter than expected."),r}function Yo(n){var s,r,i,l,o,c=Math.floor,m=new Array(64),u=new Array(64),b=new Array(64),v=new Array(64),y=new Array(65535),k=new Array(65535),x=new Array(64),M=new Array(64),E=[],T=0,S=7,L=new Array(64),X=new Array(64),re=new Array(64),ue=new Array(256),ve=new Array(2048),de=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],f=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],g=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(j,F){for(var O=0,K=0,ee=new Array,J=1;J<=16;J++){for(var ne=1;ne<=j[J];ne++)ee[F[K]]=[],ee[F[K]][0]=O,ee[F[K]][1]=J,K++,O++;O*=2}return ee}function te(j){for(var F=j[0],O=j[1]-1;O>=0;)F&1<<O&&(T|=1<<S),O--,--S<0&&(T==255?(H(255),H(0)):H(T),S=7,T=0)}function H(j){E.push(j)}function W(j){H(j>>8&255),H(255&j)}function G(j,F,O,K,ee){for(var J,ne=ee[0],se=ee[240],Ne=(function(Ae,Te){var Oe,me,ke,_e,Ee,Ve,Ke,Xe,Re,Ye,Be=0;for(Re=0;Re<8;++Re){Oe=Ae[Be],me=Ae[Be+1],ke=Ae[Be+2],_e=Ae[Be+3],Ee=Ae[Be+4],Ve=Ae[Be+5],Ke=Ae[Be+6];var kt=Oe+(Xe=Ae[Be+7]),ut=Oe-Xe,Ms=me+Ke,vt=me-Ke,Lt=ke+Ve,Zs=ke-Ve,mt=_e+Ee,Gr=_e-Ee,Pt=kt+mt,Es=kt-mt,mr=Ms+Lt,_t=Ms-Lt;Ae[Be]=Pt+mr,Ae[Be+4]=Pt-mr;var st=.707106781*(_t+Es);Ae[Be+2]=Es+st,Ae[Be+6]=Es-st;var xt=.382683433*((Pt=Gr+Zs)-(_t=vt+ut)),Yr=.5411961*Pt+xt,Xt=1.306562965*_t+xt,Qs=.707106781*(mr=Zs+vt),er=ut+Qs,Ze=ut-Qs;Ae[Be+5]=Ze+Yr,Ae[Be+3]=Ze-Yr,Ae[Be+1]=er+Xt,Ae[Be+7]=er-Xt,Be+=8}for(Be=0,Re=0;Re<8;++Re){Oe=Ae[Be],me=Ae[Be+8],ke=Ae[Be+16],_e=Ae[Be+24],Ee=Ae[Be+32],Ve=Ae[Be+40],Ke=Ae[Be+48];var Bs=Oe+(Xe=Ae[Be+56]),tr=Oe-Xe,ms=me+Ke,Wt=me-Ke,qt=ke+Ve,ys=ke-Ve,hn=_e+Ee,xr=_e-Ee,Os=Bs+hn,qs=Bs-hn,Us=ms+qt,sr=ms-qt;Ae[Be]=Os+Us,Ae[Be+32]=Os-Us;var Ss=.707106781*(sr+qs);Ae[Be+16]=qs+Ss,Ae[Be+48]=qs-Ss;var rr=.382683433*((Os=xr+ys)-(sr=Wt+tr)),Jr=.5411961*Os+rr,mn=1.306562965*sr+rr,xn=.707106781*(Us=ys+Wt),pn=tr+xn,fn=tr-xn;Ae[Be+40]=fn+Jr,Ae[Be+24]=fn-Jr,Ae[Be+8]=pn+mn,Ae[Be+56]=pn-mn,Be++}for(Re=0;Re<64;++Re)Ye=Ae[Re]*Te[Re],x[Re]=Ye>0?Ye+.5|0:Ye-.5|0;return x})(j,F),Ce=0;Ce<64;++Ce)M[de[Ce]]=Ne[Ce];var De=M[0]-O;O=M[0],De==0?te(K[0]):(te(K[k[J=32767+De]]),te(y[J]));for(var be=63;be>0&&M[be]==0;)be--;if(be==0)return te(ne),O;for(var we,Q=1;Q<=be;){for(var q=Q;M[Q]==0&&Q<=be;)++Q;var He=Q-q;if(He>=16){we=He>>4;for(var Me=1;Me<=we;++Me)te(se);He&=15}J=32767+M[Q],te(ee[(He<<4)+k[J]]),te(y[J]),Q++}return be!=63&&te(ne),O}function V(j){j=Math.min(Math.max(j,1),100),o!=j&&((function(F){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ee=c((O[K]*F+50)/100);ee=Math.min(Math.max(ee,1),255),m[de[K]]=ee}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var se=c((J[ne]*F+50)/100);se=Math.min(Math.max(se,1),255),u[de[ne]]=se}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,De=0;De<8;De++)for(var be=0;be<8;be++)b[Ce]=1/(m[de[Ce]]*Ne[De]*Ne[be]*8),v[Ce]=1/(u[de[Ce]]*Ne[De]*Ne[be]*8),Ce++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,F){F&&V(F),E=new Array,T=0,S=7,W(65496),W(65504),W(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),W(1),W(1),H(0),H(0),(function(){W(65499),W(132),H(0);for(var me=0;me<64;me++)H(m[me]);H(1);for(var ke=0;ke<64;ke++)H(u[ke])})(),(function(me,ke){W(65472),W(17),H(8),W(ke),W(me),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)})(j.width,j.height),(function(){W(65476),W(418),H(0);for(var me=0;me<16;me++)H($[me+1]);for(var ke=0;ke<=11;ke++)H(ie[ke]);H(16);for(var _e=0;_e<16;_e++)H(Z[_e+1]);for(var Ee=0;Ee<=161;Ee++)H(f[Ee]);H(1);for(var Ve=0;Ve<16;Ve++)H(_[Ve+1]);for(var Ke=0;Ke<=11;Ke++)H(D[Ke]);H(17);for(var Xe=0;Xe<16;Xe++)H(g[Xe+1]);for(var Re=0;Re<=161;Re++)H(I[Re])})(),W(65498),W(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var O=0,K=0,ee=0;T=0,S=7,this.encode.displayName="_encode_";for(var J,ne,se,Ne,Ce,De,be,we,Q,q=j.data,He=j.width,Me=j.height,Ae=4*He,Te=0;Te<Me;){for(J=0;J<Ae;){for(Ce=Ae*Te+J,be=-1,we=0,Q=0;Q<64;Q++)De=Ce+(we=Q>>3)*Ae+(be=4*(7&Q)),Te+we>=Me&&(De-=Ae*(Te+1+we-Me)),J+be>=Ae&&(De-=J+be-Ae+4),ne=q[De++],se=q[De++],Ne=q[De++],L[Q]=(ve[ne]+ve[se+256>>0]+ve[Ne+512>>0]>>16)-128,X[Q]=(ve[ne+768>>0]+ve[se+1024>>0]+ve[Ne+1280>>0]>>16)-128,re[Q]=(ve[ne+1280>>0]+ve[se+1536>>0]+ve[Ne+1792>>0]>>16)-128;O=G(L,b,O,s,i),K=G(X,v,K,r,l),ee=G(re,v,ee,r,l),J+=32}Te+=8}if(S>=0){var Oe=[];Oe[1]=S+1,Oe[0]=(1<<S+1)-1,te(Oe)}return W(65497),new Uint8Array(E)},n=n||50,(function(){for(var j=String.fromCharCode,F=0;F<256;F++)ue[F]=j(F)})(),s=z($,ie),r=z(_,D),i=z(Z,f),l=z(g,I),(function(){for(var j=1,F=2,O=1;O<=15;O++){for(var K=j;K<F;K++)k[32767+K]=O,y[32767+K]=[],y[32767+K][1]=O,y[32767+K][0]=K;for(var ee=-(F-1);ee<=-j;ee++)k[32767+ee]=O,y[32767+ee]=[],y[32767+ee][1]=O,y[32767+ee][0]=F-1+ee;j<<=1,F<<=1}})(),(function(){for(var j=0;j<256;j++)ve[j]=19595*j,ve[j+256>>0]=38470*j,ve[j+512>>0]=7471*j+32768,ve[j+768>>0]=-11059*j,ve[j+1024>>0]=-21709*j,ve[j+1280>>0]=32768*j+8421375,ve[j+1536>>0]=-27439*j,ve[j+1792>>0]=-5329*j})(),V(n)}function Ys(n,s){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uc(n){function s($){if(!$)throw Error("assert :P")}function r($,ie,Z){for(var f=0;4>f;f++)if($[ie+f]!=Z.charCodeAt(f))return!0;return!1}function i($,ie,Z,f,_){for(var D=0;D<_;D++)$[ie+D]=Z[f+D]}function l($,ie,Z,f){for(var _=0;_<f;_++)$[ie+_]=Z}function o($){return new Int32Array($)}function c($,ie){for(var Z=[],f=0;f<$;f++)Z.push(new ie);return Z}function m($,ie){var Z=[];return(function f(_,D,g){for(var I=g[D],z=0;z<I&&(_.push(g.length>D+1?[]:new ie),!(g.length<D+1));z++)f(_[z],D+1,g)})(Z,0,$),Z}var u=function(){var $=this;function ie(t,a){for(var h=1<<a-1>>>0;t&h;)h>>>=1;return h?(t&h-1)+h:t}function Z(t,a,h,p,N){s(!(p%h));do t[a+(p-=h)]=N;while(0<p)}function f(t,a,h,p,N){if(s(2328>=N),512>=N)var C=o(512);else if((C=o(N))==null)return 0;return(function(P,R,B,U,oe,fe){var ge,he,Pe=R,ye=1<<B,le=o(16),ce=o(16);for(s(oe!=0),s(U!=null),s(P!=null),s(0<B),he=0;he<oe;++he){if(15<U[he])return 0;++le[U[he]]}if(le[0]==oe)return 0;for(ce[1]=0,ge=1;15>ge;++ge){if(le[ge]>1<<ge)return 0;ce[ge+1]=ce[ge]+le[ge]}for(he=0;he<oe;++he)ge=U[he],0<U[he]&&(fe[ce[ge]++]=he);if(ce[15]==1)return(U=new _).g=0,U.value=fe[0],Z(P,Pe,1,ye,U),ye;var Le,Ie=-1,Se=ye-1,$e=0,qe=1,Je=1,Ue=1<<B;for(he=0,ge=1,oe=2;ge<=B;++ge,oe<<=1){if(qe+=Je<<=1,0>(Je-=le[ge]))return 0;for(;0<le[ge];--le[ge])(U=new _).g=ge,U.value=fe[he++],Z(P,Pe+$e,oe,Ue,U),$e=ie($e,ge)}for(ge=B+1,oe=2;15>=ge;++ge,oe<<=1){if(qe+=Je<<=1,0>(Je-=le[ge]))return 0;for(;0<le[ge];--le[ge]){if(U=new _,($e&Se)!=Ie){for(Pe+=Ue,Le=1<<(Ie=ge)-B;15>Ie&&!(0>=(Le-=le[Ie]));)++Ie,Le<<=1;ye+=Ue=1<<(Le=Ie-B),P[R+(Ie=$e&Se)].g=Le+B,P[R+Ie].value=Pe-R-Ie}U.g=ge-B,U.value=fe[he++],Z(P,Pe+($e>>B),oe,Ue,U),$e=ie($e,ge)}}return qe!=2*ce[15]-1?0:ye})(t,a,h,p,N,C)}function _(){this.value=this.g=0}function D(){this.value=this.g=0}function g(){this.G=c(5,_),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Kt,D)}function I(t,a,h,p){s(t!=null),s(a!=null),s(2147483648>p),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=a,t.pa=h,t.Jd=a,t.Yc=h+p,t.Zc=4<=p?h+p-4+1:h,J(t)}function z(t,a){for(var h=0;0<a--;)h|=se(t,128)<<a;return h}function te(t,a){var h=z(t,a);return ne(t)?-h:h}function H(t,a,h,p){var N,C=0;for(s(t!=null),s(a!=null),s(4294967288>p),t.Sb=p,t.Ra=0,t.u=0,t.h=0,4<p&&(p=4),N=0;N<p;++N)C+=a[h+N]<<8*N;t.Ra=C,t.bb=p,t.oa=a,t.pa=h}function W(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<In-8>>>0,++t.bb,t.u-=8;O(t)&&(t.h=1,t.u=0)}function G(t,a){if(s(0<=a),!t.h&&a<=_n){var h=F(t)&Pn[a];return t.u+=a,W(t),h}return t.h=1,t.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(t){return t.Ra>>>(t.u&In-1)>>>0}function O(t){return s(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>In}function K(t,a){t.u=a,t.h=O(t)}function ee(t){t.u>=xa&&(s(t.u>=xa),W(t))}function J(t){s(t!=null&&t.oa!=null),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(s(t!=null&&t.oa!=null),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function ne(t){return z(t,1)}function se(t,a){var h=t.Ca;0>t.b&&J(t);var p=t.b,N=h*a>>>8,C=(t.I>>>p>N)+0;for(C?(h-=N,t.I-=N+1<<p>>>0):h=N+1,p=h,N=0;256<=p;)N+=8,p>>=8;return p=7^N+ps[p],t.b-=p,t.Ca=(h<<p)-1,C}function Ne(t,a,h){t[a+0]=h>>24&255,t[a+1]=h>>16&255,t[a+2]=h>>8&255,t[a+3]=h>>0&255}function Ce(t,a){return t[a+0]<<0|t[a+1]<<8}function De(t,a){return Ce(t,a)|t[a+2]<<16}function be(t,a){return Ce(t,a)|Ce(t,a+2)<<16}function we(t,a){var h=1<<a;return s(t!=null),s(0<a),t.X=o(h),t.X==null?0:(t.Mb=32-a,t.Xa=a,1)}function Q(t,a){s(t!=null),s(a!=null),s(t.Xa==a.Xa),i(a.X,0,t.X,0,1<<a.Xa)}function q(){this.X=[],this.Xa=this.Mb=0}function He(t,a,h,p){s(h!=null),s(p!=null);var N=h[0],C=p[0];return N==0&&(N=(t*C+a/2)/a),C==0&&(C=(a*N+t/2)/t),0>=N||0>=C?0:(h[0]=N,p[0]=C,1)}function Me(t,a){return t+(1<<a)-1>>>a}function Ae(t,a){return((4278255360&t)+(4278255360&a)>>>0&4278255360)+((16711935&t)+(16711935&a)>>>0&16711935)>>>0}function Te(t,a){$[a]=function(h,p,N,C,P,R,B){var U;for(U=0;U<P;++U){var oe=$[t](R[B+U-1],N,C+U);R[B+U]=Ae(h[p+U],oe)}}}function Oe(){this.ud=this.hd=this.jd=0}function me(t,a){return((4278124286&(t^a))>>>1)+(t&a)>>>0}function ke(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function _e(t,a){return ke(t+(t-a+.5>>1))}function Ee(t,a,h){return Math.abs(a-h)-Math.abs(t-h)}function Ve(t,a,h,p,N,C,P){for(p=C[P-1],h=0;h<N;++h)C[P+h]=p=Ae(t[a+h],p)}function Ke(t,a,h,p,N){var C;for(C=0;C<h;++C){var P=t[a+C],R=P>>8&255,B=16711935&(B=(B=16711935&P)+((R<<16)+R));p[N+C]=(4278255360&P)+B>>>0}}function Xe(t,a){a.jd=t>>0&255,a.hd=t>>8&255,a.ud=t>>16&255}function Re(t,a,h,p,N,C){var P;for(P=0;P<p;++P){var R=a[h+P],B=R>>>8,U=R,oe=255&(oe=(oe=R>>>16)+((t.jd<<24>>24)*(B<<24>>24)>>>5));U=255&(U=(U=U+((t.hd<<24>>24)*(B<<24>>24)>>>5))+((t.ud<<24>>24)*(oe<<24>>24)>>>5)),N[C+P]=(4278255360&R)+(oe<<16)+U}}function Ye(t,a,h,p,N){$[a]=function(C,P,R,B,U,oe,fe,ge,he){for(B=fe;B<ge;++B)for(fe=0;fe<he;++fe)U[oe++]=N(R[p(C[P++])])},$[t]=function(C,P,R,B,U,oe,fe){var ge=8>>C.b,he=C.Ea,Pe=C.K[0],ye=C.w;if(8>ge)for(C=(1<<C.b)-1,ye=(1<<ge)-1;P<R;++P){var le,ce=0;for(le=0;le<he;++le)le&C||(ce=p(B[U++])),oe[fe++]=N(Pe[ce&ye]),ce>>=ge}else $["VP8LMapColor"+h](B,U,Pe,ye,oe,fe,P,R,he)}}function Be(t,a,h,p,N){for(h=a+h;a<h;){var C=t[a++];p[N++]=C>>16&255,p[N++]=C>>8&255,p[N++]=C>>0&255}}function kt(t,a,h,p,N){for(h=a+h;a<h;){var C=t[a++];p[N++]=C>>16&255,p[N++]=C>>8&255,p[N++]=C>>0&255,p[N++]=C>>24&255}}function ut(t,a,h,p,N){for(h=a+h;a<h;){var C=(P=t[a++])>>16&240|P>>12&15,P=P>>0&240|P>>28&15;p[N++]=C,p[N++]=P}}function Ms(t,a,h,p,N){for(h=a+h;a<h;){var C=(P=t[a++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;p[N++]=C,p[N++]=P}}function vt(t,a,h,p,N){for(h=a+h;a<h;){var C=t[a++];p[N++]=C>>0&255,p[N++]=C>>8&255,p[N++]=C>>16&255}}function Lt(t,a,h,p,N,C){if(C==0)for(h=a+h;a<h;)Ne(p,((C=t[a++])[0]>>24|C[1]>>8&65280|C[2]<<8&16711680|C[3]<<24)>>>0),N+=32;else i(p,N,t,a,h)}function Zs(t,a){$[a][0]=$[t+"0"],$[a][1]=$[t+"1"],$[a][2]=$[t+"2"],$[a][3]=$[t+"3"],$[a][4]=$[t+"4"],$[a][5]=$[t+"5"],$[a][6]=$[t+"6"],$[a][7]=$[t+"7"],$[a][8]=$[t+"8"],$[a][9]=$[t+"9"],$[a][10]=$[t+"10"],$[a][11]=$[t+"11"],$[a][12]=$[t+"12"],$[a][13]=$[t+"13"],$[a][14]=$[t+"0"],$[a][15]=$[t+"0"]}function mt(t){return t==wo||t==jo||t==hi||t==No}function Gr(){this.eb=[],this.size=this.A=this.fb=0}function Pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Es(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gr,this.f.kb=new Pt,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function xt(t,a){var h=t.T,p=a.ba.f.RGBA,N=p.eb,C=p.fb+t.ka*p.A,P=Ds[a.ba.S],R=t.y,B=t.O,U=t.f,oe=t.N,fe=t.ea,ge=t.W,he=a.cc,Pe=a.dc,ye=a.Mc,le=a.Nc,ce=t.ka,Le=t.ka+t.T,Ie=t.U,Se=Ie+1>>1;for(ce==0?P(R,B,null,null,U,oe,fe,ge,U,oe,fe,ge,N,C,null,null,Ie):(P(a.ec,a.fc,R,B,he,Pe,ye,le,U,oe,fe,ge,N,C-p.A,N,C,Ie),++h);ce+2<Le;ce+=2)he=U,Pe=oe,ye=fe,le=ge,oe+=t.Rc,ge+=t.Rc,C+=2*p.A,P(R,(B+=2*t.fa)-t.fa,R,B,he,Pe,ye,le,U,oe,fe,ge,N,C-p.A,N,C,Ie);return B+=t.fa,t.j+Le<t.o?(i(a.ec,a.fc,R,B,Ie),i(a.cc,a.dc,U,oe,Se),i(a.Mc,a.Nc,fe,ge,Se),h--):1&Le||P(R,B,null,null,U,oe,fe,ge,U,oe,fe,ge,N,C+p.A,null,null,Ie),h}function Yr(t,a,h){var p=t.F,N=[t.J];if(p!=null){var C=t.U,P=a.ba.S,R=P==ui||P==hi;a=a.ba.f.RGBA;var B=[0],U=t.ka;B[0]=t.T,t.Kb&&(U==0?--B[0]:(--U,N[0]-=t.width),t.j+t.ka+t.T==t.o&&(B[0]=t.o-t.j-U));var oe=a.eb;U=a.fb+U*a.A,t=Nt(p,N[0],t.width,C,B,oe,U+(R?0:3),a.A),s(h==B),t&&mt(P)&&Is(oe,U,R,C,B,a.A)}return 0}function Xt(t){var a=t.ma,h=a.ba.S,p=11>h,N=h==ci||h==di||h==ui||h==yo||h==12||mt(h);if(a.memory=null,a.Ib=null,a.Jb=null,a.Nd=null,!ha(a.Oa,t,N?11:12))return 0;if(N&&mt(h)&&Fe(),t.da)alert("todo:use_scaling");else{if(p){if(a.Ib=st,t.Kb){if(h=t.U+1>>1,a.memory=o(t.U+2*h),a.memory==null)return 0;a.ec=a.memory,a.fc=0,a.cc=a.ec,a.dc=a.fc+t.U,a.Mc=a.cc,a.Nc=a.dc+h,a.Ib=xt,Fe()}}else alert("todo:EmitYUV");N&&(a.Jb=Yr,p&&pe())}if(p&&!kl){for(t=0;256>t;++t)ed[t]=89858*(t-128)+xi>>mi,rd[t]=-22014*(t-128)+xi,sd[t]=-45773*(t-128),td[t]=113618*(t-128)+xi>>mi;for(t=wa;t<Lo;++t)a=76283*(t-16)+xi>>mi,nd[t-wa]=ws(a,255),ad[t-wa]=ws(a+8>>4,15);kl=1}return 1}function Qs(t){var a=t.ma,h=t.U,p=t.T;return s(!(1&t.ka)),0>=h||0>=p?0:(h=a.Ib(t,a),a.Jb!=null&&a.Jb(t,a,h),a.Dc+=h,1)}function er(t){t.ma.memory=null}function Ze(t,a,h,p){return G(t,8)!=47?0:(a[0]=G(t,14)+1,h[0]=G(t,14)+1,p[0]=G(t,1),G(t,3)!=0?0:!t.h)}function Bs(t,a){if(4>t)return t+1;var h=t-2>>1;return(2+(1&t)<<h)+G(a,h)+1}function tr(t,a){return 120<a?a-120:1<=(h=((h=qc[a-1])>>4)*t+(8-(15&h)))?h:1;var h}function ms(t,a,h){var p=F(h),N=t[a+=255&p].g-8;return 0<N&&(K(h,h.u+8),p=F(h),a+=t[a].value,a+=p&(1<<N)-1),K(h,h.u+t[a].g),t[a].value}function Wt(t,a,h){return h.g+=t.g,h.value+=t.value<<a>>>0,s(8>=h.g),t.g}function qt(t,a,h){var p=t.xc;return s((a=p==0?0:t.vc[t.md*(h>>p)+(a>>p)])<t.Wb),t.Ya[a]}function ys(t,a,h,p){var N=t.ab,C=t.c*a,P=t.C;a=P+a;var R=h,B=p;for(p=t.Ta,h=t.Ua;0<N--;){var U=t.gc[N],oe=P,fe=a,ge=R,he=B,Pe=(B=p,R=h,U.Ea);switch(s(oe<fe),s(fe<=U.nc),U.hc){case 2:si(ge,he,(fe-oe)*Pe,B,R);break;case 0:var ye=oe,le=fe,ce=B,Le=R,Ie=(Ue=U).Ea;ye==0&&(bo(ge,he,null,null,1,ce,Le),Ve(ge,he+1,0,0,Ie-1,ce,Le+1),he+=Ie,Le+=Ie,++ye);for(var Se=1<<Ue.b,$e=Se-1,qe=Me(Ie,Ue.b),Je=Ue.K,Ue=Ue.w+(ye>>Ue.b)*qe;ye<le;){var ht=Je,pt=Ue,ct=1;for(pa(ge,he,ce,Le-Ie,1,ce,Le);ct<Ie;){var ot=(ct&~$e)+Se;ot>Ie&&(ot=Ie),(0,Pr[ht[pt++]>>8&15])(ge,he+ +ct,ce,Le+ct-Ie,ot-ct,ce,Le+ct),ct=ot}he+=Ie,Le+=Ie,++ye&$e||(Ue+=qe)}fe!=U.nc&&i(B,R-Pe,B,R+(fe-oe-1)*Pe,Pe);break;case 1:for(Pe=ge,le=he,Ie=(ge=U.Ea)-(Le=ge&~(ce=(he=1<<U.b)-1)),ye=Me(ge,U.b),Se=U.K,U=U.w+(oe>>U.b)*ye;oe<fe;){for($e=Se,qe=U,Je=new Oe,Ue=le+Le,ht=le+ge;le<Ue;)Xe($e[qe++],Je),en(Je,Pe,le,he,B,R),le+=he,R+=he;le<ht&&(Xe($e[qe++],Je),en(Je,Pe,le,Ie,B,R),le+=Ie,R+=Ie),++oe&ce||(U+=ye)}break;case 3:if(ge==B&&he==R&&0<U.b){for(le=B,ge=Pe=R+(fe-oe)*Pe-(Le=(fe-oe)*Me(U.Ea,U.b)),he=B,ce=R,ye=[],Le=(Ie=Le)-1;0<=Le;--Le)ye[Le]=he[ce+Le];for(Le=Ie-1;0<=Le;--Le)le[ge+Le]=ye[Le];Cs(U,oe,fe,B,Pe,B,R)}else Cs(U,oe,fe,ge,he,B,R)}R=p,B=h}B!=h&&i(p,h,R,B,C)}function hn(t,a){var h=t.V,p=t.Ba+t.c*t.C,N=a-t.C;if(s(a<=t.l.o),s(16>=N),0<N){var C=t.l,P=t.Ta,R=t.Ua,B=C.width;if(ys(t,N,h,p),N=R=[R],s((h=t.C)<(p=a)),s(C.v<C.va),p>C.o&&(p=C.o),h<C.j){var U=C.j-h;h=C.j,N[0]+=U*B}if(h>=p?h=0:(N[0]+=4*C.v,C.ka=h-C.j,C.U=C.va-C.v,C.T=p-h,h=1),h){if(R=R[0],11>(h=t.ca).S){var oe=h.f.RGBA,fe=(p=h.S,N=C.U,C=C.T,U=oe.eb,oe.A),ge=C;for(oe=oe.fb+t.Ma*oe.A;0<ge--;){var he=P,Pe=R,ye=N,le=U,ce=oe;switch(p){case li:fs(he,Pe,ye,le,ce);break;case ci:cs(he,Pe,ye,le,ce);break;case wo:cs(he,Pe,ye,le,ce),Is(le,ce,0,ye,1,0);break;case fl:br(he,Pe,ye,le,ce);break;case di:Lt(he,Pe,ye,le,ce,1);break;case jo:Lt(he,Pe,ye,le,ce,1),Is(le,ce,0,ye,1,0);break;case ui:Lt(he,Pe,ye,le,ce,0);break;case hi:Lt(he,Pe,ye,le,ce,0),Is(le,ce,1,ye,1,0);break;case yo:_r(he,Pe,ye,le,ce);break;case No:_r(he,Pe,ye,le,ce),jt(le,ce,ye,1,0);break;case gl:gr(he,Pe,ye,le,ce);break;default:s(0)}R+=B,oe+=fe}t.Ma+=C}else alert("todo:EmitRescaledRowsYUVA");s(t.Ma<=h.height)}}t.C=a,s(t.C<=t.i)}function xr(t){var a;if(0<t.ua)return 0;for(a=0;a<t.Wb;++a){var h=t.Ya[a].G,p=t.Ya[a].H;if(0<h[1][p[1]+0].g||0<h[2][p[2]+0].g||0<h[3][p[3]+0].g)return 0}return 1}function Os(t,a,h,p,N,C){if(t.Z!=0){var P=t.qd,R=t.rd;for(s(Tr[t.Z]!=null);a<h;++a)Tr[t.Z](P,R,p,N,p,N,C),P=p,R=N,N+=C;t.qd=P,t.rd=R}}function qs(t,a){var h=t.l.ma,p=h.Z==0||h.Z==1?t.l.j:t.C;if(p=t.C<p?p:t.C,s(a<=t.l.o),a>p){var N=t.l.width,C=h.ca,P=h.tb+N*p,R=t.V,B=t.Ba+t.c*p,U=t.gc;s(t.ab==1),s(U[0].hc==3),ri(U[0],p,a,R,B,C,P),Os(h,p,a,C,P,N)}t.C=t.Ma=a}function Us(t,a,h,p,N,C,P){var R=t.$/p,B=t.$%p,U=t.m,oe=t.s,fe=h+t.$,ge=fe;N=h+p*N;var he=h+p*C,Pe=280+oe.ua,ye=t.Pb?R:16777216,le=0<oe.ua?oe.Wa:null,ce=oe.wc,Le=fe<he?qt(oe,B,R):null;s(t.C<C),s(he<=N);var Ie=!1;e:for(;;){for(;Ie||fe<he;){var Se=0;if(R>=ye){var $e=fe-h;s((ye=t).Pb),ye.wd=ye.m,ye.xd=$e,0<ye.s.ua&&Q(ye.s.Wa,ye.s.vb),ye=R+zc}if(B&ce||(Le=qt(oe,B,R)),s(Le!=null),Le.Qb&&(a[fe]=Le.qb,Ie=!0),!Ie)if(ee(U),Le.jc){Se=U,$e=a;var qe=fe,Je=Le.pd[F(Se)&Kt-1];s(Le.jc),256>Je.g?(K(Se,Se.u+Je.g),$e[qe]=Je.value,Se=0):(K(Se,Se.u+Je.g-256),s(256<=Je.value),Se=Je.value),Se==0&&(Ie=!0)}else Se=ms(Le.G[0],Le.H[0],U);if(U.h)break;if(Ie||256>Se){if(!Ie)if(Le.nd)a[fe]=(Le.qb|Se<<8)>>>0;else{if(ee(U),Ie=ms(Le.G[1],Le.H[1],U),ee(U),$e=ms(Le.G[2],Le.H[2],U),qe=ms(Le.G[3],Le.H[3],U),U.h)break;a[fe]=(qe<<24|Ie<<16|Se<<8|$e)>>>0}if(Ie=!1,++fe,++B>=p&&(B=0,++R,P!=null&&R<=C&&!(R%16)&&P(t,R),le!=null))for(;ge<fe;)Se=a[ge++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else if(280>Se){if(Se=Bs(Se-256,U),$e=ms(Le.G[4],Le.H[4],U),ee(U),$e=tr(p,$e=Bs($e,U)),U.h)break;if(fe-h<$e||N-fe<Se)break e;for(qe=0;qe<Se;++qe)a[fe+qe]=a[fe+qe-$e];for(fe+=Se,B+=Se;B>=p;)B-=p,++R,P!=null&&R<=C&&!(R%16)&&P(t,R);if(s(fe<=N),B&ce&&(Le=qt(oe,B,R)),le!=null)for(;ge<fe;)Se=a[ge++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else{if(!(Se<Pe))break e;for(Ie=Se-280,s(le!=null);ge<fe;)Se=a[ge++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se;Se=fe,s(!(Ie>>>($e=le).Xa)),a[Se]=$e.X[Ie],Ie=!0}Ie||s(U.h==O(U))}if(t.Pb&&U.h&&fe<N)s(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&Q(t.s.vb,t.s.Wa);else{if(U.h)break e;P?.(t,R>C?C:R),t.a=0,t.$=fe-h}return 1}return t.a=3,0}function sr(t){s(t!=null),t.vc=null,t.yc=null,t.Ya=null;var a=t.Wa;a!=null&&(a.X=null),t.vb=null,s(t!=null)}function Ss(){var t=new go;return t==null?null:(t.a=0,t.xb=yl,Zs("Predictor","VP8LPredictors"),Zs("Predictor","VP8LPredictors_C"),Zs("PredictorAdd","VP8LPredictorsAdd"),Zs("PredictorAdd","VP8LPredictorsAdd_C"),si=Ke,en=Re,fs=Be,cs=kt,_r=ut,gr=Ms,br=vt,$.VP8LMapColor32b=Fn,$.VP8LMapColor8b=ni,t)}function rr(t,a,h,p,N){var C=1,P=[t],R=[a],B=p.m,U=p.s,oe=null,fe=0;e:for(;;){if(h)for(;C&&G(B,1);){var ge=P,he=R,Pe=p,ye=1,le=Pe.m,ce=Pe.gc[Pe.ab],Le=G(le,2);if(Pe.Oc&1<<Le)C=0;else{switch(Pe.Oc|=1<<Le,ce.hc=Le,ce.Ea=ge[0],ce.nc=he[0],ce.K=[null],++Pe.ab,s(4>=Pe.ab),Le){case 0:case 1:ce.b=G(le,3)+2,ye=rr(Me(ce.Ea,ce.b),Me(ce.nc,ce.b),0,Pe,ce.K),ce.K=ce.K[0];break;case 3:var Ie,Se=G(le,8)+1,$e=16<Se?0:4<Se?1:2<Se?2:3;if(ge[0]=Me(ce.Ea,$e),ce.b=$e,Ie=ye=rr(Se,1,0,Pe,ce.K)){var qe,Je=Se,Ue=ce,ht=1<<(8>>Ue.b),pt=o(ht);if(pt==null)Ie=0;else{var ct=Ue.K[0],ot=Ue.w;for(pt[0]=Ue.K[0][0],qe=1;qe<1*Je;++qe)pt[qe]=Ae(ct[ot+qe],pt[qe-1]);for(;qe<4*ht;++qe)pt[qe]=0;Ue.K[0]=null,Ue.K[0]=pt,Ie=1}}ye=Ie;break;case 2:break;default:s(0)}C=ye}}if(P=P[0],R=R[0],C&&G(B,1)&&!(C=1<=(fe=G(B,4))&&11>=fe)){p.a=3;break e}var yt;if(yt=C)t:{var bt,it,zt,gs=p,$t=P,bs=R,ft=fe,Ns=h,As=gs.m,Gt=gs.s,Zt=[null],us=1,Ts=0,or=Uc[ft];s:for(;;){if(Ns&&G(As,1)){var Yt=G(As,3)+2,jr=Me($t,Yt),an=Me(bs,Yt),En=jr*an;if(!rr(jr,an,0,gs,Zt))break s;for(Zt=Zt[0],Gt.xc=Yt,bt=0;bt<En;++bt){var Rr=Zt[bt]>>8&65535;Zt[bt]=Rr,Rr>=us&&(us=Rr+1)}}if(As.h)break s;for(it=0;5>it;++it){var Ft=bl[it];!it&&0<ft&&(Ft+=1<<ft),Ts<Ft&&(Ts=Ft)}var So=c(us*or,_),Cl=us,Pl=c(Cl,g);if(Pl==null)var fi=null;else s(65536>=Cl),fi=Pl;var ja=o(Ts);if(fi==null||ja==null||So==null){gs.a=1;break s}var gi=So;for(bt=zt=0;bt<us;++bt){var Vs=fi[bt],Bn=Vs.G,On=Vs.H,_l=0,bi=1,Il=0;for(it=0;5>it;++it){Ft=bl[it],Bn[it]=gi,On[it]=zt,!it&&0<ft&&(Ft+=1<<ft);n:{var vi,Co=Ft,yi=gs,Na=ja,ld=gi,cd=zt,Po=0,Mr=yi.m,dd=G(Mr,1);if(l(Na,0,0,Co),dd){var ud=G(Mr,1)+1,hd=G(Mr,1),Fl=G(Mr,hd==0?1:8);Na[Fl]=1,ud==2&&(Na[Fl=G(Mr,8)]=1);var wi=1}else{var Dl=o(19),Tl=G(Mr,4)+4;if(19<Tl){yi.a=3;var ji=0;break n}for(vi=0;vi<Tl;++vi)Dl[Oc[vi]]=G(Mr,3);var _o=void 0,Aa=void 0,Rl=yi,md=Dl,Ni=Co,Ml=Na,Io=0,Er=Rl.m,El=8,Bl=c(128,_);r:for(;f(Bl,0,7,md,19);){if(G(Er,1)){var xd=2+2*G(Er,3);if((_o=2+G(Er,xd))>Ni)break r}else _o=Ni;for(Aa=0;Aa<Ni&&_o--;){ee(Er);var Ol=Bl[0+(127&F(Er))];K(Er,Er.u+Ol.g);var qn=Ol.value;if(16>qn)Ml[Aa++]=qn,qn!=0&&(El=qn);else{var pd=qn==16,ql=qn-16,fd=Ec[ql],Ul=G(Er,Mc[ql])+fd;if(Aa+Ul>Ni)break r;for(var gd=pd?El:0;0<Ul--;)Ml[Aa++]=gd}}Io=1;break r}Io||(Rl.a=3),wi=Io}(wi=wi&&!Mr.h)&&(Po=f(ld,cd,8,Na,Co)),wi&&Po!=0?ji=Po:(yi.a=3,ji=0)}if(ji==0)break s;if(bi&&Bc[it]==1&&(bi=gi[zt].g==0),_l+=gi[zt].g,zt+=ji,3>=it){var ka,Fo=ja[0];for(ka=1;ka<Ft;++ka)ja[ka]>Fo&&(Fo=ja[ka]);Il+=Fo}}if(Vs.nd=bi,Vs.Qb=0,bi&&(Vs.qb=(Bn[3][On[3]+0].value<<24|Bn[1][On[1]+0].value<<16|Bn[2][On[2]+0].value)>>>0,_l==0&&256>Bn[0][On[0]+0].value&&(Vs.Qb=1,Vs.qb+=Bn[0][On[0]+0].value<<8)),Vs.jc=!Vs.Qb&&6>Il,Vs.jc){var Ai,Nr=Vs;for(Ai=0;Ai<Kt;++Ai){var Br=Ai,Or=Nr.pd[Br],ki=Nr.G[0][Nr.H[0]+Br];256<=ki.value?(Or.g=ki.g+256,Or.value=ki.value):(Or.g=0,Or.value=0,Br>>=Wt(ki,8,Or),Br>>=Wt(Nr.G[1][Nr.H[1]+Br],16,Or),Br>>=Wt(Nr.G[2][Nr.H[2]+Br],0,Or),Wt(Nr.G[3][Nr.H[3]+Br],24,Or))}}}Gt.vc=Zt,Gt.Wb=us,Gt.Ya=fi,Gt.yc=So,yt=1;break t}yt=0}if(!(C=yt)){p.a=3;break e}if(0<fe){if(U.ua=1<<fe,!we(U.Wa,fe)){p.a=1,C=0;break e}}else U.ua=0;var Do=p,zl=P,bd=R,To=Do.s,Ro=To.xc;if(Do.c=zl,Do.i=bd,To.md=Me(zl,Ro),To.wc=Ro==0?-1:(1<<Ro)-1,h){p.xb=Jc;break e}if((oe=o(P*R))==null){p.a=1,C=0;break e}C=(C=Us(p,oe,0,P,R,R,null))&&!B.h;break e}return C?(N!=null?N[0]=oe:(s(oe==null),s(h)),p.$=0,h||sr(U)):sr(U),C}function Jr(t,a){var h=t.c*t.i,p=h+a+16*a;return s(t.c<=a),t.V=o(p),t.V==null?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+h+a,1)}function mn(t,a){var h=t.C,p=a-h,N=t.V,C=t.Ba+t.c*h;for(s(a<=t.l.o);0<p;){var P=16<p?16:p,R=t.l.ma,B=t.l.width,U=B*P,oe=R.ca,fe=R.tb+B*h,ge=t.Ta,he=t.Ua;ys(t,P,N,C),Mt(ge,he,oe,fe,U),Os(R,h,h+P,oe,fe,B),p-=P,N+=P*t.c,h+=P}s(h==a),t.C=t.Ma=a}function xn(){this.ub=this.yd=this.td=this.Rb=0}function pn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ma(){this.Yb=(function(){var t=[];return(function a(h,p,N){for(var C=N[p],P=0;P<C&&(h.push(N.length>p+1?[]:0),!(N.length<p+1));P++)a(h[P],p+1,N)})(t,0,[3,11]),t})()}function Gi(){this.jb=o(3),this.Wc=m([4,8],Ma),this.Xc=m([4,17],Ma)}function Yi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function gn(){this.ld=this.La=this.dd=this.tc=0}function Ea(){this.Na=this.la=0}function Ji(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xn(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xi(){this.uc=this.M=this.Nb=0,this.wa=Array(new gn),this.Y=0,this.ya=Array(new Xn),this.aa=0,this.l=new bn}function Ba(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ki(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new xn,this.Kc=new pn,this.ed=new Yi,this.Qa=new fn,this.Ic=this.$c=this.Aa=0,this.D=new Xi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,V),this.ia=0,this.pb=c(4,Ji),this.Pa=new Gi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ba),this.Hd=0,this.rb=Array(new Ea),this.sb=0,this.wa=Array(new gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xn),this.L=this.aa=0,this.gd=m([4,2],gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zi(){var t=new Ki;return t!=null&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ya||(ya=Ua)),t}function Tt(t,a,h){return t.a==0&&(t.a=a,t.sc=h,t.cb=0),0}function Oa(t,a,h){return 3<=h&&t[a+0]==157&&t[a+1]==1&&t[a+2]==42}function qa(t,a){if(t==null)return 0;if(t.a=0,t.sc="OK",a==null)return Tt(t,2,"null VP8Io passed to VP8GetHeaders()");var h=a.data,p=a.w,N=a.ha;if(4>N)return Tt(t,7,"Truncated header.");var C=h[p+0]|h[p+1]<<8|h[p+2]<<16,P=t.Od;if(P.Rb=!(1&C),P.td=C>>1&7,P.yd=C>>4&1,P.ub=C>>5,3<P.td)return Tt(t,3,"Incorrect keyframe parameters.");if(!P.yd)return Tt(t,4,"Frame not displayable.");p+=3,N-=3;var R=t.Kc;if(P.Rb){if(7>N)return Tt(t,7,"cannot parse picture header");if(!Oa(h,p,N))return Tt(t,3,"Bad code word");R.c=16383&(h[p+4]<<8|h[p+3]),R.Td=h[p+4]>>6,R.i=16383&(h[p+6]<<8|h[p+5]),R.Ud=h[p+6]>>6,p+=7,N-=7,t.za=R.c+15>>4,t.Ub=R.i+15>>4,a.width=R.c,a.height=R.i,a.Da=0,a.j=0,a.v=0,a.va=a.width,a.o=a.height,a.da=0,a.ib=a.width,a.hb=a.height,a.U=a.width,a.T=a.height,l((C=t.Pa).jb,0,255,C.jb.length),s((C=t.Qa)!=null),C.Cb=0,C.Bb=0,C.Fb=1,l(C.Zb,0,0,C.Zb.length),l(C.Lb,0,0,C.Lb)}if(P.ub>N)return Tt(t,7,"bad partition length");I(C=t.m,h,p,P.ub),p+=P.ub,N-=P.ub,P.Rb&&(R.Ld=ne(C),R.Kd=ne(C)),R=t.Qa;var B,U=t.Pa;if(s(C!=null),s(R!=null),R.Cb=ne(C),R.Cb){if(R.Bb=ne(C),ne(C)){for(R.Fb=ne(C),B=0;4>B;++B)R.Zb[B]=ne(C)?te(C,7):0;for(B=0;4>B;++B)R.Lb[B]=ne(C)?te(C,6):0}if(R.Bb)for(B=0;3>B;++B)U.jb[B]=ne(C)?z(C,8):255}else R.Bb=0;if(C.Ka)return Tt(t,3,"cannot parse segment header");if((R=t.ed).zd=ne(C),R.Tb=z(C,6),R.wb=z(C,3),R.Pc=ne(C),R.Pc&&ne(C)){for(U=0;4>U;++U)ne(C)&&(R.vd[U]=te(C,6));for(U=0;4>U;++U)ne(C)&&(R.od[U]=te(C,6))}if(t.L=R.Tb==0?0:R.zd?1:2,C.Ka)return Tt(t,3,"cannot parse filter header");var oe=N;if(N=B=p,p=B+oe,R=oe,t.Xb=(1<<z(t.m,2))-1,oe<3*(U=t.Xb))h=7;else{for(B+=3*U,R-=3*U,oe=0;oe<U;++oe){var fe=h[N+0]|h[N+1]<<8|h[N+2]<<16;fe>R&&(fe=R),I(t.Jc[+oe],h,B,fe),B+=fe,R-=fe,N+=3}I(t.Jc[+U],h,B,R),h=B<p?0:5}if(h!=0)return Tt(t,h,"cannot parse partitions");for(h=z(B=t.m,7),N=ne(B)?te(B,4):0,p=ne(B)?te(B,4):0,R=ne(B)?te(B,4):0,U=ne(B)?te(B,4):0,B=ne(B)?te(B,4):0,oe=t.Qa,fe=0;4>fe;++fe){if(oe.Cb){var ge=oe.Zb[fe];oe.Fb||(ge+=h)}else{if(0<fe){t.pb[fe]=t.pb[0];continue}ge=h}var he=t.pb[fe];he.Sc[0]=Ao[ws(ge+N,127)],he.Sc[1]=ko[ws(ge+0,127)],he.Eb[0]=2*Ao[ws(ge+p,127)],he.Eb[1]=101581*ko[ws(ge+R,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Ao[ws(ge+U,117)],he.Qc[1]=ko[ws(ge+B,127)],he.lc=ge+B}if(!P.Rb)return Tt(t,4,"Not a key frame.");for(ne(C),P=t.Pa,h=0;4>h;++h){for(N=0;8>N;++N)for(p=0;3>p;++p)for(R=0;11>R;++R)U=se(C,Gc[h][N][p][R])?z(C,8):Hc[h][N][p][R],P.Wc[h][N].Yb[p][R]=U;for(N=0;17>N;++N)P.Xc[h][N]=P.Wc[h][Yc[N]]}return t.kc=ne(C),t.kc&&(t.Bd=z(C,8)),t.cb=1}function Ua(t,a,h,p,N,C,P){var R=a[N].Yb[h];for(h=0;16>N;++N){if(!se(t,R[h+0]))return N;for(;!se(t,R[h+1]);)if(R=a[++N].Yb[0],h=0,N==16)return 16;var B=a[N+1].Yb;if(se(t,R[h+2])){var U=t,oe=0;if(se(U,(ge=R)[(fe=h)+3]))if(se(U,ge[fe+6])){for(R=0,fe=2*(oe=se(U,ge[fe+8]))+(ge=se(U,ge[fe+9+oe])),oe=0,ge=$c[fe];ge[R];++R)oe+=oe+se(U,ge[R]);oe+=3+(8<<fe)}else se(U,ge[fe+7])?(oe=7+2*se(U,165),oe+=se(U,145)):oe=5+se(U,159);else oe=se(U,ge[fe+4])?3+se(U,ge[fe+5]):2;R=B[2]}else oe=1,R=B[1];B=P+Wc[N],0>(U=t).b&&J(U);var fe,ge=U.b,he=(fe=U.Ca>>1)-(U.I>>ge)>>31;--U.b,U.Ca+=he,U.Ca|=1,U.I-=(fe+1&he)<<ge,C[B]=((oe^he)-he)*p[(0<N)+0]}return 16}function Kn(t){var a=t.rb[t.sb-1];a.la=0,a.Na=0,l(t.zc,0,0,t.zc.length),t.ja=0}function Qi(t,a){if(t==null)return 0;if(a==null)return Tt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!qa(t,a))return 0;if(s(t.cb),a.ac==null||a.ac(a)){a.ob&&(t.L=0);var h=pi[t.L];if(t.L==2?(t.yb=0,t.zb=0):(t.yb=a.v-h>>4,t.zb=a.j-h>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=a.o+15+h>>4,t.Hb=a.va+15+h>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var p=t.ed;for(h=0;4>h;++h){var N;if(t.Qa.Cb){var C=t.Qa.Lb[h];t.Qa.Fb||(C+=p.Tb)}else C=p.Tb;for(N=0;1>=N;++N){var P=t.gd[h][N],R=C;if(p.Pc&&(R+=p.vd[0],N&&(R+=p.od[0])),0<(R=0>R?0:63<R?63:R)){var B=R;0<p.wb&&(B=4<p.wb?B>>2:B>>1)>9-p.wb&&(B=9-p.wb),1>B&&(B=1),P.dd=B,P.tc=2*R+B,P.ld=40<=R?2:15<=R?1:0}else P.tc=0;P.La=N}}}h=0}else Tt(t,6,"Frame setup failed"),h=t.a;if(h=h==0){if(h){t.$c=0,0<t.Aa||(t.Ic=od);e:{h=t.Ic,p=4*(B=t.za);var U=32*B,oe=B+1,fe=0<t.L?B*(0<t.Aa?2:1):0,ge=(t.Aa==2?2:1)*B;if((P=p+832+(N=3*(16*h+pi[t.L])/2*U)+(C=t.Fa!=null&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=P)h=0;else{if(P>t.Vb){if(t.Vb=0,t.Ec=o(P),t.Fc=0,t.Ec==null){h=Tt(t,1,"no memory during frame initialization.");break e}t.Vb=P}P=t.Ec,R=t.Fc,t.Ac=P,t.Bc=R,R+=p,t.Gd=c(U,Ba),t.Hd=0,t.rb=c(oe+1,Ea),t.sb=1,t.wa=fe?c(fe,gn):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=B),s(!0),t.oc=P,t.pc=R,R+=832,t.ya=c(ge,Xn),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,t.Aa==2&&(t.D.aa+=B),t.R=16*B,t.B=8*B,B=(U=pi[t.L])*t.R,U=U/2*t.B,t.sa=P,t.ta=R+B,t.qa=t.sa,t.ra=t.ta+16*h*t.R+U,t.Ha=t.qa,t.Ia=t.ra+8*h*t.B+U,t.$c=0,R+=N,t.mb=C?P:null,t.nb=C?R:null,s(R+C<=t.Fc+t.Vb),Kn(t),l(t.Ac,t.Bc,0,p),h=1}}if(h){if(a.ka=0,a.y=t.sa,a.O=t.ta,a.f=t.qa,a.N=t.ra,a.ea=t.Ha,a.Vd=t.Ia,a.fa=t.R,a.Rc=t.B,a.F=null,a.J=0,!ii){for(h=-255;255>=h;++h)Ht[255+h]=0>h?-h:h;for(h=-1020;1020>=h;++h)yr[1020+h]=-128>h?-128:127<h?127:h;for(h=-112;112>=h;++h)va[112+h]=-16>h?-16:15<h?15:h;for(h=-255;510>=h;++h)Mn[255+h]=0>h?0:255<h?255:h;ii=1}Dn=so,vr=eo,fa=$a,ds=to,Ps=Wa,Rt=za,Tn=ra,ai=Zr,ga=fo,tn=na,sn=po,Ir=An,rn=aa,Rn=Qa,nn=Za,Fr=ar,ba=fr,_s=xo,Hs[0]=nr,Hs[1]=ro,Hs[2]=oo,Hs[3]=lo,Hs[4]=Ga,Hs[5]=jn,Hs[6]=Ya,Hs[7]=ea,Hs[8]=uo,Hs[9]=co,Dr[0]=Ha,Dr[1]=ao,Dr[2]=pr,Dr[3]=yn,Dr[4]=Qt,Dr[5]=io,Dr[6]=Va,wr[0]=Lr,wr[1]=no,wr[2]=ho,wr[3]=ta,wr[4]=Kr,wr[5]=mo,wr[6]=sa,h=1}else h=0}h&&(h=(function(he,Pe){for(he.M=0;he.M<he.Va;++he.M){var ye,le=he.Jc[he.M&he.Xb],ce=he.m,Le=he;for(ye=0;ye<Le.za;++ye){var Ie=ce,Se=Le,$e=Se.Ac,qe=Se.Bc+4*ye,Je=Se.zc,Ue=Se.ya[Se.aa+ye];if(Se.Qa.Bb?Ue.$b=se(Ie,Se.Pa.jb[0])?2+se(Ie,Se.Pa.jb[2]):se(Ie,Se.Pa.jb[1]):Ue.$b=0,Se.kc&&(Ue.Ad=se(Ie,Se.Bd)),Ue.Za=!se(Ie,145)+0,Ue.Za){var ht=Ue.Ob,pt=0;for(Se=0;4>Se;++Se){var ct,ot=Je[0+Se];for(ct=0;4>ct;++ct){ot=Vc[$e[qe+ct]][ot];for(var yt=vl[se(Ie,ot[0])];0<yt;)yt=vl[2*yt+se(Ie,ot[yt])];ot=-yt,$e[qe+ct]=ot}i(ht,pt,$e,qe,4),pt+=4,Je[0+Se]=ot}}else ot=se(Ie,156)?se(Ie,128)?1:3:se(Ie,163)?2:0,Ue.Ob[0]=ot,l($e,qe,ot,4),l(Je,0,ot,4);Ue.Dd=se(Ie,142)?se(Ie,114)?se(Ie,183)?1:3:2:0}if(Le.m.Ka)return Tt(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(Le=le,Ie=(ce=he).rb[ce.sb-1],$e=ce.rb[ce.sb+ce.ja],ye=ce.ya[ce.aa+ce.ja],qe=ce.kc?ye.Ad:0)Ie.la=$e.la=0,ye.Za||(Ie.Na=$e.Na=0),ye.Hc=0,ye.Gc=0,ye.ia=0;else{var bt,it;if(Ie=$e,$e=Le,qe=ce.Pa.Xc,Je=ce.ya[ce.aa+ce.ja],Ue=ce.pb[Je.$b],Se=Je.ad,ht=0,pt=ce.rb[ce.sb-1],ot=ct=0,l(Se,ht,0,384),Je.Za)var zt=0,gs=qe[3];else{yt=o(16);var $t=Ie.Na+pt.Na;if($t=ya($e,qe[1],$t,Ue.Eb,0,yt,0),Ie.Na=pt.Na=(0<$t)+0,1<$t)Dn(yt,0,Se,ht);else{var bs=yt[0]+3>>3;for(yt=0;256>yt;yt+=16)Se[ht+yt]=bs}zt=1,gs=qe[0]}var ft=15&Ie.la,Ns=15&pt.la;for(yt=0;4>yt;++yt){var As=1&Ns;for(bs=it=0;4>bs;++bs)ft=ft>>1|(As=($t=ya($e,gs,$t=As+(1&ft),Ue.Sc,zt,Se,ht))>zt)<<7,it=it<<2|(3<$t?3:1<$t?2:Se[ht+0]!=0),ht+=16;ft>>=4,Ns=Ns>>1|As<<7,ct=(ct<<8|it)>>>0}for(gs=ft,zt=Ns>>4,bt=0;4>bt;bt+=2){for(it=0,ft=Ie.la>>4+bt,Ns=pt.la>>4+bt,yt=0;2>yt;++yt){for(As=1&Ns,bs=0;2>bs;++bs)$t=As+(1&ft),ft=ft>>1|(As=0<($t=ya($e,qe[2],$t,Ue.Qc,0,Se,ht)))<<3,it=it<<2|(3<$t?3:1<$t?2:Se[ht+0]!=0),ht+=16;ft>>=2,Ns=Ns>>1|As<<5}ot|=it<<4*bt,gs|=ft<<4<<bt,zt|=(240&Ns)<<bt}Ie.la=gs,pt.la=zt,Je.Hc=ct,Je.Gc=ot,Je.ia=43690&ot?0:Ue.ia,qe=!(ct|ot)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[ye.$b][ye.Za],ce.wa[ce.Y+ce.ja].La|=!qe),Le.Ka)return Tt(he,7,"Premature end-of-file encountered.")}if(Kn(he),ce=Pe,Le=1,ye=(le=he).D,Ie=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(ye.M=le.M,ye.uc=Ie,ua(le,ye),Le=1,ye=(it=le.D).Nb,Ie=(ot=pi[le.L])*le.R,$e=ot/2*le.B,yt=16*ye*le.R,bs=8*ye*le.B,qe=le.sa,Je=le.ta-Ie+yt,Ue=le.qa,Se=le.ra-$e+bs,ht=le.Ha,pt=le.Ia-$e+bs,Ns=(ft=it.M)==0,ct=ft>=le.Va-1,le.Aa==2&&ua(le,it),it.uc)for(As=($t=le).D.M,s($t.D.uc),it=$t.yb;it<$t.Hb;++it){zt=it,gs=As;var Gt=(Zt=(Ft=$t).D).Nb;bt=Ft.R;var Zt=Zt.wa[Zt.Y+zt],us=Ft.sa,Ts=Ft.ta+16*Gt*bt+16*zt,or=Zt.dd,Yt=Zt.tc;if(Yt!=0)if(s(3<=Yt),Ft.L==1)0<zt&&Fr(us,Ts,bt,Yt+4),Zt.La&&_s(us,Ts,bt,Yt),0<gs&&nn(us,Ts,bt,Yt+4),Zt.La&&ba(us,Ts,bt,Yt);else{var jr=Ft.B,an=Ft.qa,En=Ft.ra+8*Gt*jr+8*zt,Rr=Ft.Ha,Ft=Ft.Ia+8*Gt*jr+8*zt;Gt=Zt.ld,0<zt&&(ai(us,Ts,bt,Yt+4,or,Gt),tn(an,En,Rr,Ft,jr,Yt+4,or,Gt)),Zt.La&&(Ir(us,Ts,bt,Yt,or,Gt),Rn(an,En,Rr,Ft,jr,Yt,or,Gt)),0<gs&&(Tn(us,Ts,bt,Yt+4,or,Gt),ga(an,En,Rr,Ft,jr,Yt+4,or,Gt)),Zt.La&&(sn(us,Ts,bt,Yt,or,Gt),rn(an,En,Rr,Ft,jr,Yt,or,Gt))}}if(le.ia&&alert("todo:DitherRow"),ce.put!=null){if(it=16*ft,ft=16*(ft+1),Ns?(ce.y=le.sa,ce.O=le.ta+yt,ce.f=le.qa,ce.N=le.ra+bs,ce.ea=le.Ha,ce.W=le.Ia+bs):(it-=ot,ce.y=qe,ce.O=Je,ce.f=Ue,ce.N=Se,ce.ea=ht,ce.W=pt),ct||(ft-=ot),ft>ce.o&&(ft=ce.o),ce.F=null,ce.J=null,le.Fa!=null&&0<le.Fa.length&&it<ft&&(ce.J=ca(le,ce,it,ft-it),ce.F=le.mb,ce.F==null&&ce.F.length==0)){Le=Tt(le,3,"Could not decode alpha data.");break e}it<ce.j&&(ot=ce.j-it,it=ce.j,s(!(1&ot)),ce.O+=le.R*ot,ce.N+=le.B*(ot>>1),ce.W+=le.B*(ot>>1),ce.F!=null&&(ce.J+=ce.width*ot)),it<ft&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=it-ce.j,ce.U=ce.va-ce.v,ce.T=ft-it,Le=ce.put(ce))}ye+1!=le.Ic||ct||(i(le.sa,le.ta-Ie,qe,Je+16*le.R,Ie),i(le.qa,le.ra-$e,Ue,Se+8*le.B,$e),i(le.Ha,le.Ia-$e,ht,pt+8*le.B,$e))}if(!Le)return Tt(he,6,"Output aborted.")}return 1})(t,a)),a.bc!=null&&a.bc(a),h&=1}return h?(t.cb=0,h):0}function zs(t,a,h,p,N){N=t[a+h+32*p]+(N>>3),t[a+h+32*p]=-256&N?0>N?0:255:N}function vn(t,a,h,p,N,C){zs(t,a,0,h,p+N),zs(t,a,1,h,p+C),zs(t,a,2,h,p-C),zs(t,a,3,h,p-N)}function xs(t){return(20091*t>>16)+t}function Zn(t,a,h,p){var N,C=0,P=o(16);for(N=0;4>N;++N){var R=t[a+0]+t[a+8],B=t[a+0]-t[a+8],U=(35468*t[a+4]>>16)-xs(t[a+12]),oe=xs(t[a+4])+(35468*t[a+12]>>16);P[C+0]=R+oe,P[C+1]=B+U,P[C+2]=B-U,P[C+3]=R-oe,C+=4,a++}for(N=C=0;4>N;++N)R=(t=P[C+0]+4)+P[C+8],B=t-P[C+8],U=(35468*P[C+4]>>16)-xs(P[C+12]),zs(h,p,0,0,R+(oe=xs(P[C+4])+(35468*P[C+12]>>16))),zs(h,p,1,0,B+U),zs(h,p,2,0,B-U),zs(h,p,3,0,R-oe),C++,p+=32}function za(t,a,h,p){var N=t[a+0]+4,C=35468*t[a+4]>>16,P=xs(t[a+4]),R=35468*t[a+1]>>16;vn(h,p,0,N+P,t=xs(t[a+1]),R),vn(h,p,1,N+C,t,R),vn(h,p,2,N-C,t,R),vn(h,p,3,N-P,t,R)}function eo(t,a,h,p,N){Zn(t,a,h,p),N&&Zn(t,a+16,h,p+4)}function $a(t,a,h,p){vr(t,a+0,h,p,1),vr(t,a+32,h,p+128,1)}function to(t,a,h,p){var N;for(t=t[a+0]+4,N=0;4>N;++N)for(a=0;4>a;++a)zs(h,p,a,N,t)}function Wa(t,a,h,p){t[a+0]&&ds(t,a+0,h,p),t[a+16]&&ds(t,a+16,h,p+4),t[a+32]&&ds(t,a+32,h,p+128),t[a+48]&&ds(t,a+48,h,p+128+4)}function so(t,a,h,p){var N,C=o(16);for(N=0;4>N;++N){var P=t[a+0+N]+t[a+12+N],R=t[a+4+N]+t[a+8+N],B=t[a+4+N]-t[a+8+N],U=t[a+0+N]-t[a+12+N];C[0+N]=P+R,C[8+N]=P-R,C[4+N]=U+B,C[12+N]=U-B}for(N=0;4>N;++N)P=(t=C[0+4*N]+3)+C[3+4*N],R=C[1+4*N]+C[2+4*N],B=C[1+4*N]-C[2+4*N],U=t-C[3+4*N],h[p+0]=P+R>>3,h[p+16]=U+B>>3,h[p+32]=P-R>>3,h[p+48]=U-B>>3,p+=64}function Qn(t,a,h){var p,N=a-32,C=js,P=255-t[N-1];for(p=0;p<h;++p){var R,B=C,U=P+t[a-1];for(R=0;R<h;++R)t[a+R]=B[U+t[N+R]];a+=32}}function ro(t,a){Qn(t,a,4)}function no(t,a){Qn(t,a,8)}function ao(t,a){Qn(t,a,16)}function pr(t,a){var h;for(h=0;16>h;++h)i(t,a+32*h,t,a-32,16)}function yn(t,a){var h;for(h=16;0<h;--h)l(t,a,t[a-1],16),a+=32}function wn(t,a,h){var p;for(p=0;16>p;++p)l(a,h+32*p,t,16)}function Ha(t,a){var h,p=16;for(h=0;16>h;++h)p+=t[a-1+32*h]+t[a+h-32];wn(p>>5,t,a)}function Qt(t,a){var h,p=8;for(h=0;16>h;++h)p+=t[a-1+32*h];wn(p>>4,t,a)}function io(t,a){var h,p=8;for(h=0;16>h;++h)p+=t[a+h-32];wn(p>>4,t,a)}function Va(t,a){wn(128,t,a)}function tt(t,a,h){return t+2*a+h+2>>2}function oo(t,a){var h,p=a-32;for(p=new Uint8Array([tt(t[p-1],t[p+0],t[p+1]),tt(t[p+0],t[p+1],t[p+2]),tt(t[p+1],t[p+2],t[p+3]),tt(t[p+2],t[p+3],t[p+4])]),h=0;4>h;++h)i(t,a+32*h,p,0,p.length)}function lo(t,a){var h=t[a-1],p=t[a-1+32],N=t[a-1+64],C=t[a-1+96];Ne(t,a+0,16843009*tt(t[a-1-32],h,p)),Ne(t,a+32,16843009*tt(h,p,N)),Ne(t,a+64,16843009*tt(p,N,C)),Ne(t,a+96,16843009*tt(N,C,C))}function nr(t,a){var h,p=4;for(h=0;4>h;++h)p+=t[a+h-32]+t[a-1+32*h];for(p>>=3,h=0;4>h;++h)l(t,a+32*h,p,4)}function Ga(t,a){var h=t[a-1+0],p=t[a-1+32],N=t[a-1+64],C=t[a-1-32],P=t[a+0-32],R=t[a+1-32],B=t[a+2-32],U=t[a+3-32];t[a+0+96]=tt(p,N,t[a-1+96]),t[a+1+96]=t[a+0+64]=tt(h,p,N),t[a+2+96]=t[a+1+64]=t[a+0+32]=tt(C,h,p),t[a+3+96]=t[a+2+64]=t[a+1+32]=t[a+0+0]=tt(P,C,h),t[a+3+64]=t[a+2+32]=t[a+1+0]=tt(R,P,C),t[a+3+32]=t[a+2+0]=tt(B,R,P),t[a+3+0]=tt(U,B,R)}function Ya(t,a){var h=t[a+1-32],p=t[a+2-32],N=t[a+3-32],C=t[a+4-32],P=t[a+5-32],R=t[a+6-32],B=t[a+7-32];t[a+0+0]=tt(t[a+0-32],h,p),t[a+1+0]=t[a+0+32]=tt(h,p,N),t[a+2+0]=t[a+1+32]=t[a+0+64]=tt(p,N,C),t[a+3+0]=t[a+2+32]=t[a+1+64]=t[a+0+96]=tt(N,C,P),t[a+3+32]=t[a+2+64]=t[a+1+96]=tt(C,P,R),t[a+3+64]=t[a+2+96]=tt(P,R,B),t[a+3+96]=tt(R,B,B)}function jn(t,a){var h=t[a-1+0],p=t[a-1+32],N=t[a-1+64],C=t[a-1-32],P=t[a+0-32],R=t[a+1-32],B=t[a+2-32],U=t[a+3-32];t[a+0+0]=t[a+1+64]=C+P+1>>1,t[a+1+0]=t[a+2+64]=P+R+1>>1,t[a+2+0]=t[a+3+64]=R+B+1>>1,t[a+3+0]=B+U+1>>1,t[a+0+96]=tt(N,p,h),t[a+0+64]=tt(p,h,C),t[a+0+32]=t[a+1+96]=tt(h,C,P),t[a+1+32]=t[a+2+96]=tt(C,P,R),t[a+2+32]=t[a+3+96]=tt(P,R,B),t[a+3+32]=tt(R,B,U)}function ea(t,a){var h=t[a+0-32],p=t[a+1-32],N=t[a+2-32],C=t[a+3-32],P=t[a+4-32],R=t[a+5-32],B=t[a+6-32],U=t[a+7-32];t[a+0+0]=h+p+1>>1,t[a+1+0]=t[a+0+64]=p+N+1>>1,t[a+2+0]=t[a+1+64]=N+C+1>>1,t[a+3+0]=t[a+2+64]=C+P+1>>1,t[a+0+32]=tt(h,p,N),t[a+1+32]=t[a+0+96]=tt(p,N,C),t[a+2+32]=t[a+1+96]=tt(N,C,P),t[a+3+32]=t[a+2+96]=tt(C,P,R),t[a+3+64]=tt(P,R,B),t[a+3+96]=tt(R,B,U)}function co(t,a){var h=t[a-1+0],p=t[a-1+32],N=t[a-1+64],C=t[a-1+96];t[a+0+0]=h+p+1>>1,t[a+2+0]=t[a+0+32]=p+N+1>>1,t[a+2+32]=t[a+0+64]=N+C+1>>1,t[a+1+0]=tt(h,p,N),t[a+3+0]=t[a+1+32]=tt(p,N,C),t[a+3+32]=t[a+1+64]=tt(N,C,C),t[a+3+64]=t[a+2+64]=t[a+0+96]=t[a+1+96]=t[a+2+96]=t[a+3+96]=C}function uo(t,a){var h=t[a-1+0],p=t[a-1+32],N=t[a-1+64],C=t[a-1+96],P=t[a-1-32],R=t[a+0-32],B=t[a+1-32],U=t[a+2-32];t[a+0+0]=t[a+2+32]=h+P+1>>1,t[a+0+32]=t[a+2+64]=p+h+1>>1,t[a+0+64]=t[a+2+96]=N+p+1>>1,t[a+0+96]=C+N+1>>1,t[a+3+0]=tt(R,B,U),t[a+2+0]=tt(P,R,B),t[a+1+0]=t[a+3+32]=tt(h,P,R),t[a+1+32]=t[a+3+64]=tt(p,h,P),t[a+1+64]=t[a+3+96]=tt(N,p,h),t[a+1+96]=tt(C,N,p)}function ho(t,a){var h;for(h=0;8>h;++h)i(t,a+32*h,t,a-32,8)}function ta(t,a){var h;for(h=0;8>h;++h)l(t,a,t[a-1],8),a+=32}function Xr(t,a,h){var p;for(p=0;8>p;++p)l(a,h+32*p,t,8)}function Lr(t,a){var h,p=8;for(h=0;8>h;++h)p+=t[a+h-32]+t[a-1+32*h];Xr(p>>4,t,a)}function mo(t,a){var h,p=4;for(h=0;8>h;++h)p+=t[a+h-32];Xr(p>>3,t,a)}function Kr(t,a){var h,p=4;for(h=0;8>h;++h)p+=t[a-1+32*h];Xr(p>>3,t,a)}function sa(t,a){Xr(128,t,a)}function Nn(t,a,h){var p=t[a-h],N=t[a+0],C=3*(N-p)+vo[1020+t[a-2*h]-t[a+h]],P=oi[112+(C+4>>3)];t[a-h]=js[255+p+oi[112+(C+3>>3)]],t[a+0]=js[255+N-P]}function Ja(t,a,h,p){var N=t[a+0],C=t[a+h];return Fs[255+t[a-2*h]-t[a-h]]>p||Fs[255+C-N]>p}function Xa(t,a,h,p){return 4*Fs[255+t[a-h]-t[a+0]]+Fs[255+t[a-2*h]-t[a+h]]<=p}function Ka(t,a,h,p,N){var C=t[a-3*h],P=t[a-2*h],R=t[a-h],B=t[a+0],U=t[a+h],oe=t[a+2*h],fe=t[a+3*h];return 4*Fs[255+R-B]+Fs[255+P-U]>p?0:Fs[255+t[a-4*h]-C]<=N&&Fs[255+C-P]<=N&&Fs[255+P-R]<=N&&Fs[255+fe-oe]<=N&&Fs[255+oe-U]<=N&&Fs[255+U-B]<=N}function Za(t,a,h,p){var N=2*p+1;for(p=0;16>p;++p)Xa(t,a+p,h,N)&&Nn(t,a+p,h)}function ar(t,a,h,p){var N=2*p+1;for(p=0;16>p;++p)Xa(t,a+p*h,1,N)&&Nn(t,a+p*h,1)}function fr(t,a,h,p){var N;for(N=3;0<N;--N)Za(t,a+=4*h,h,p)}function xo(t,a,h,p){var N;for(N=3;0<N;--N)ar(t,a+=4,h,p)}function Sr(t,a,h,p,N,C,P,R){for(C=2*C+1;0<N--;){if(Ka(t,a,h,C,P))if(Ja(t,a,h,R))Nn(t,a,h);else{var B=t,U=a,oe=h,fe=B[U-2*oe],ge=B[U-oe],he=B[U+0],Pe=B[U+oe],ye=B[U+2*oe],le=27*(Le=vo[1020+3*(he-ge)+vo[1020+fe-Pe]])+63>>7,ce=18*Le+63>>7,Le=9*Le+63>>7;B[U-3*oe]=js[255+B[U-3*oe]+Le],B[U-2*oe]=js[255+fe+ce],B[U-oe]=js[255+ge+le],B[U+0]=js[255+he-le],B[U+oe]=js[255+Pe-ce],B[U+2*oe]=js[255+ye-Le]}a+=p}}function $s(t,a,h,p,N,C,P,R){for(C=2*C+1;0<N--;){if(Ka(t,a,h,C,P))if(Ja(t,a,h,R))Nn(t,a,h);else{var B=t,U=a,oe=h,fe=B[U-oe],ge=B[U+0],he=B[U+oe],Pe=oi[112+((ye=3*(ge-fe))+4>>3)],ye=oi[112+(ye+3>>3)],le=Pe+1>>1;B[U-2*oe]=js[255+B[U-2*oe]+le],B[U-oe]=js[255+fe+ye],B[U+0]=js[255+ge-Pe],B[U+oe]=js[255+he-le]}a+=p}}function ra(t,a,h,p,N,C){Sr(t,a,h,1,16,p,N,C)}function Zr(t,a,h,p,N,C){Sr(t,a,1,h,16,p,N,C)}function po(t,a,h,p,N,C){var P;for(P=3;0<P;--P)$s(t,a+=4*h,h,1,16,p,N,C)}function An(t,a,h,p,N,C){var P;for(P=3;0<P;--P)$s(t,a+=4,1,h,16,p,N,C)}function fo(t,a,h,p,N,C,P,R){Sr(t,a,N,1,8,C,P,R),Sr(h,p,N,1,8,C,P,R)}function na(t,a,h,p,N,C,P,R){Sr(t,a,1,N,8,C,P,R),Sr(h,p,1,N,8,C,P,R)}function aa(t,a,h,p,N,C,P,R){$s(t,a+4*N,N,1,8,C,P,R),$s(h,p+4*N,N,1,8,C,P,R)}function Qa(t,a,h,p,N,C,P,R){$s(t,a+4,1,N,8,C,P,R),$s(h,p+4,1,N,8,C,P,R)}function kn(){this.ba=new Es,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ia(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function oa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ei(){this.ua=0,this.Wa=new q,this.vb=new q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new g,this.yc=new _}function go(){this.xb=this.a=0,this.l=new bn,this.ca=new Es,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ei,this.ab=0,this.gc=c(4,oa),this.Oc=0}function Ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qr(t,a,h,p,N,C,P){for(t=t==null?0:t[a+0],a=0;a<P;++a)N[C+a]=t+h[p+a]&255,t=N[C+a]}function la(t,a,h,p,N,C,P){var R;if(t==null)Qr(null,null,h,p,N,C,P);else for(R=0;R<P;++R)N[C+R]=t[a+R]+h[p+R]&255}function Cr(t,a,h,p,N,C,P){if(t==null)Qr(null,null,h,p,N,C,P);else{var R,B=t[a+0],U=B,oe=B;for(R=0;R<P;++R)U=oe+(B=t[a+R])-U,oe=h[p+R]+(-256&U?0>U?0:255:U)&255,U=B,N[C+R]=oe}}function ca(t,a,h,p){var N=a.width,C=a.o;if(s(t!=null&&a!=null),0>h||0>=p||h+p>C)return null;if(!t.Cc){if(t.ga==null){var P;if(t.ga=new Ln,(P=t.ga==null)||(P=a.width*a.o,s(t.Gb.length==0),t.Gb=o(P),t.Uc=0,t.Gb==null?P=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,P=1),P=!P),!P){P=t.ga;var R=t.Fa,B=t.P,U=t.qc,oe=t.mb,fe=t.nb,ge=B+1,he=U-1,Pe=P.l;if(s(R!=null&&oe!=null&&a!=null),Tr[0]=null,Tr[1]=Qr,Tr[2]=la,Tr[3]=Cr,P.ca=oe,P.tb=fe,P.c=a.width,P.i=a.height,s(0<P.c&&0<P.i),1>=U)a=0;else if(P.$a=R[B+0]>>0&3,P.Z=R[B+0]>>2&3,P.Lc=R[B+0]>>4&3,B=R[B+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||B)a=0;else if(Pe.put=Qs,Pe.ac=Xt,Pe.bc=er,Pe.ma=P,Pe.width=a.width,Pe.height=a.height,Pe.Da=a.Da,Pe.v=a.v,Pe.va=a.va,Pe.j=a.j,Pe.o=a.o,P.$a)e:{s(P.$a==1),a=Ss();t:for(;;){if(a==null){a=0;break e}if(s(P!=null),P.mc=a,a.c=P.c,a.i=P.i,a.l=P.l,a.l.ma=P,a.l.width=P.c,a.l.height=P.i,a.a=0,H(a.m,R,ge,he),!rr(P.c,P.i,1,a,null)||(a.ab==1&&a.gc[0].hc==3&&xr(a.s)?(P.ic=1,R=a.c*a.i,a.Ta=null,a.Ua=0,a.V=o(R),a.Ba=0,a.V==null?(a.a=1,a=0):a=1):(P.ic=0,a=Jr(a,P.c)),!a))break t;a=1;break e}P.mc=null,a=0}else a=he>=P.c*P.i;P=!a}if(P)return null;t.ga.Lc!=1?t.Ga=0:p=C-h}s(t.ga!=null),s(h+p<=C);e:{if(a=(R=t.ga).c,C=R.l.o,R.$a==0){if(ge=t.rc,he=t.Vc,Pe=t.Fa,B=t.P+1+h*a,U=t.mb,oe=t.nb+h*a,s(B<=t.P+t.qc),R.Z!=0)for(s(Tr[R.Z]!=null),P=0;P<p;++P)Tr[R.Z](ge,he,Pe,B,U,oe,a),ge=U,he=oe,oe+=a,B+=a;else for(P=0;P<p;++P)i(U,oe,Pe,B,a),ge=U,he=oe,oe+=a,B+=a;t.rc=ge,t.Vc=he}else{if(s(R.mc!=null),a=h+p,s((P=R.mc)!=null),s(a<=P.i),P.C>=a)a=1;else if(R.ic||pe(),R.ic){R=P.V,ge=P.Ba,he=P.c;var ye=P.i,le=(Pe=1,B=P.$/he,U=P.$%he,oe=P.m,fe=P.s,P.$),ce=he*ye,Le=he*a,Ie=fe.wc,Se=le<Le?qt(fe,U,B):null;s(le<=ce),s(a<=ye),s(xr(fe));t:for(;;){for(;!oe.h&&le<Le;){if(U&Ie||(Se=qt(fe,U,B)),s(Se!=null),ee(oe),256>(ye=ms(Se.G[0],Se.H[0],oe)))R[ge+le]=ye,++le,++U>=he&&(U=0,++B<=a&&!(B%16)&&qs(P,B));else{if(!(280>ye)){Pe=0;break t}ye=Bs(ye-256,oe);var $e,qe=ms(Se.G[4],Se.H[4],oe);if(ee(oe),!(le>=(qe=tr(he,qe=Bs(qe,oe)))&&ce-le>=ye)){Pe=0;break t}for($e=0;$e<ye;++$e)R[ge+le+$e]=R[ge+le+$e-qe];for(le+=ye,U+=ye;U>=he;)U-=he,++B<=a&&!(B%16)&&qs(P,B);le<Le&&U&Ie&&(Se=qt(fe,U,B))}s(oe.h==O(oe))}qs(P,B>a?a:B);break t}!Pe||oe.h&&le<ce?(Pe=0,P.a=oe.h?5:3):P.$=le,a=Pe}else a=Us(P,P.V,P.Ba,P.c,P.i,a,mn);if(!a){p=0;break e}}h+p>=C&&(t.Cc=1),p=1}if(!p)return null;if(t.Cc&&((p=t.ga)!=null&&(p.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+h*N}function d(t,a,h,p,N,C){for(;0<N--;){var P,R=t,B=a+(h?1:0),U=t,oe=a+(h?0:3);for(P=0;P<p;++P){var fe=U[oe+4*P];fe!=255&&(fe*=32897,R[B+4*P+0]=R[B+4*P+0]*fe>>23,R[B+4*P+1]=R[B+4*P+1]*fe>>23,R[B+4*P+2]=R[B+4*P+2]*fe>>23)}a+=C}}function A(t,a,h,p,N){for(;0<p--;){var C;for(C=0;C<h;++C){var P=t[a+2*C+0],R=15&(U=t[a+2*C+1]),B=4369*R,U=(240&U|U>>4)*B>>16;t[a+2*C+0]=(240&P|P>>4)*B>>16&240|(15&P|P<<4)*B>>16>>4&15,t[a+2*C+1]=240&U|R}a+=N}}function Y(t,a,h,p,N,C,P,R){var B,U,oe=255;for(U=0;U<N;++U){for(B=0;B<p;++B){var fe=t[a+B];C[P+4*B]=fe,oe&=fe}a+=h,P+=R}return oe!=255}function ae(t,a,h,p,N){var C;for(C=0;C<N;++C)h[p+C]=t[a+C]>>8}function pe(){Is=d,jt=A,Nt=Y,Mt=ae}function je(t,a,h){$[t]=function(p,N,C,P,R,B,U,oe,fe,ge,he,Pe,ye,le,ce,Le,Ie){var Se,$e=Ie-1>>1,qe=R[B+0]|U[oe+0]<<16,Je=fe[ge+0]|he[Pe+0]<<16;s(p!=null);var Ue=3*qe+Je+131074>>2;for(a(p[N+0],255&Ue,Ue>>16,ye,le),C!=null&&(Ue=3*Je+qe+131074>>2,a(C[P+0],255&Ue,Ue>>16,ce,Le)),Se=1;Se<=$e;++Se){var ht=R[B+Se]|U[oe+Se]<<16,pt=fe[ge+Se]|he[Pe+Se]<<16,ct=qe+ht+Je+pt+524296,ot=ct+2*(ht+Je)>>3;Ue=ot+qe>>1,qe=(ct=ct+2*(qe+pt)>>3)+ht>>1,a(p[N+2*Se-1],255&Ue,Ue>>16,ye,le+(2*Se-1)*h),a(p[N+2*Se-0],255&qe,qe>>16,ye,le+(2*Se-0)*h),C!=null&&(Ue=ct+Je>>1,qe=ot+pt>>1,a(C[P+2*Se-1],255&Ue,Ue>>16,ce,Le+(2*Se-1)*h),a(C[P+2*Se+0],255&qe,qe>>16,ce,Le+(2*Se+0)*h)),qe=ht,Je=pt}1&Ie||(Ue=3*qe+Je+131074>>2,a(p[N+Ie-1],255&Ue,Ue>>16,ye,le+(Ie-1)*h),C!=null&&(Ue=3*Je+qe+131074>>2,a(C[P+Ie-1],255&Ue,Ue>>16,ce,Le+(Ie-1)*h)))}}function Fe(){Ds[li]=Xc,Ds[ci]=wl,Ds[fl]=Kc,Ds[di]=jl,Ds[ui]=Nl,Ds[yo]=Al,Ds[gl]=Zc,Ds[wo]=wl,Ds[jo]=jl,Ds[hi]=Nl,Ds[No]=Al}function ze(t){return t&-16384?0>t?0:255:t>>Qc}function Ge(t,a){return ze((19077*t>>8)+(26149*a>>8)-14234)}function at(t,a,h){return ze((19077*t>>8)-(6419*a>>8)-(13320*h>>8)+8708)}function rt(t,a){return ze((19077*t>>8)+(33050*a>>8)-17685)}function lt(t,a,h,p,N){p[N+0]=Ge(t,h),p[N+1]=at(t,a,h),p[N+2]=rt(t,a)}function Ct(t,a,h,p,N){p[N+0]=rt(t,a),p[N+1]=at(t,a,h),p[N+2]=Ge(t,h)}function It(t,a,h,p,N){var C=at(t,a,h);a=C<<3&224|rt(t,a)>>3,p[N+0]=248&Ge(t,h)|C>>5,p[N+1]=a}function Ut(t,a,h,p,N){var C=240&rt(t,a)|15;p[N+0]=240&Ge(t,h)|at(t,a,h)>>4,p[N+1]=C}function es(t,a,h,p,N){p[N+0]=255,lt(t,a,h,p,N+1)}function Vt(t,a,h,p,N){Ct(t,a,h,p,N),p[N+3]=255}function Ws(t,a,h,p,N){lt(t,a,h,p,N),p[N+3]=255}function ws(t,a){return 0>t?0:t>a?a:t}function ir(t,a,h){$[t]=function(p,N,C,P,R,B,U,oe,fe){for(var ge=oe+(-2&fe)*h;oe!=ge;)a(p[N+0],C[P+0],R[B+0],U,oe),a(p[N+1],C[P+0],R[B+0],U,oe+h),N+=2,++P,++B,oe+=2*h;1&fe&&a(p[N+0],C[P+0],R[B+0],U,oe)}}function ti(t,a,h){return h==0?t==0?a==0?6:5:a==0?4:0:h}function da(t,a,h,p,N){switch(t>>>30){case 3:vr(a,h,p,N,0);break;case 2:Rt(a,h,p,N);break;case 1:ds(a,h,p,N)}}function ua(t,a){var h,p,N=a.M,C=a.Nb,P=t.oc,R=t.pc+40,B=t.oc,U=t.pc+584,oe=t.oc,fe=t.pc+600;for(h=0;16>h;++h)P[R+32*h-1]=129;for(h=0;8>h;++h)B[U+32*h-1]=129,oe[fe+32*h-1]=129;for(0<N?P[R-1-32]=B[U-1-32]=oe[fe-1-32]=129:(l(P,R-32-1,127,21),l(B,U-32-1,127,9),l(oe,fe-32-1,127,9)),p=0;p<t.za;++p){var ge=a.ya[a.aa+p];if(0<p){for(h=-1;16>h;++h)i(P,R+32*h-4,P,R+32*h+12,4);for(h=-1;8>h;++h)i(B,U+32*h-4,B,U+32*h+4,4),i(oe,fe+32*h-4,oe,fe+32*h+4,4)}var he=t.Gd,Pe=t.Hd+p,ye=ge.ad,le=ge.Hc;if(0<N&&(i(P,R-32,he[Pe].y,0,16),i(B,U-32,he[Pe].f,0,8),i(oe,fe-32,he[Pe].ea,0,8)),ge.Za){var ce=P,Le=R-32+16;for(0<N&&(p>=t.za-1?l(ce,Le,he[Pe].y[15],4):i(ce,Le,he[Pe+1].y,0,4)),h=0;4>h;h++)ce[Le+128+h]=ce[Le+256+h]=ce[Le+384+h]=ce[Le+0+h];for(h=0;16>h;++h,le<<=2)ce=P,Le=R+Ll[h],Hs[ge.Ob[h]](ce,Le),da(le,ye,16*+h,ce,Le)}else if(ce=ti(p,N,ge.Ob[0]),Dr[ce](P,R),le!=0)for(h=0;16>h;++h,le<<=2)da(le,ye,16*+h,P,R+Ll[h]);for(h=ge.Gc,ce=ti(p,N,ge.Dd),wr[ce](B,U),wr[ce](oe,fe),le=ye,ce=B,Le=U,255&(ge=h>>0)&&(170&ge?fa(le,256,ce,Le):Ps(le,256,ce,Le)),ge=oe,le=fe,255&(h>>=8)&&(170&h?fa(ye,320,ge,le):Ps(ye,320,ge,le)),N<t.Ub-1&&(i(he[Pe].y,0,P,R+480,16),i(he[Pe].f,0,B,U+224,8),i(he[Pe].ea,0,oe,fe+224,8)),h=8*C*t.B,he=t.sa,Pe=t.ta+16*p+16*C*t.R,ye=t.qa,ge=t.ra+8*p+h,le=t.Ha,ce=t.Ia+8*p+h,h=0;16>h;++h)i(he,Pe+h*t.R,P,R+32*h,16);for(h=0;8>h;++h)i(ye,ge+h*t.B,B,U+32*h,8),i(le,ce+h*t.B,oe,fe+32*h,8)}}function Sn(t,a,h,p,N,C,P,R,B){var U=[0],oe=[0],fe=0,ge=B!=null?B.kd:0,he=B??new ia;if(t==null||12>h)return 7;he.data=t,he.w=a,he.ha=h,a=[a],h=[h],he.gb=[he.gb];e:{var Pe=a,ye=h,le=he.gb;if(s(t!=null),s(ye!=null),s(le!=null),le[0]=0,12<=ye[0]&&!r(t,Pe[0],"RIFF")){if(r(t,Pe[0]+8,"WEBP")){le=3;break e}var ce=be(t,Pe[0]+4);if(12>ce||4294967286<ce){le=3;break e}if(ge&&ce>ye[0]-8){le=7;break e}le[0]=ce,Pe[0]+=12,ye[0]-=12}le=0}if(le!=0)return le;for(ce=0<he.gb[0],h=h[0];;){e:{var Le=t;ye=a,le=h;var Ie=U,Se=oe,$e=Pe=[0];if((Ue=fe=[fe])[0]=0,8>le[0])le=7;else{if(!r(Le,ye[0],"VP8X")){if(be(Le,ye[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var qe=be(Le,ye[0]+8),Je=1+De(Le,ye[0]+12);if(2147483648<=Je*(Le=1+De(Le,ye[0]+15))){le=3;break e}$e!=null&&($e[0]=qe),Ie!=null&&(Ie[0]=Je),Se!=null&&(Se[0]=Le),ye[0]+=18,le[0]-=18,Ue[0]=1}le=0}}if(fe=fe[0],Pe=Pe[0],le!=0)return le;if(ye=!!(2&Pe),!ce&&fe)return 3;if(C!=null&&(C[0]=!!(16&Pe)),P!=null&&(P[0]=ye),R!=null&&(R[0]=0),P=U[0],Pe=oe[0],fe&&ye&&B==null){le=0;break}if(4>h){le=7;break}if(ce&&fe||!ce&&!fe&&!r(t,a[0],"ALPH")){h=[h],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{qe=t,le=a,ce=h;var Ue=he.gb;Ie=he.na,Se=he.P,$e=he.Sa,Je=22,s(qe!=null),s(ce!=null),Le=le[0];var ht=ce[0];for(s(Ie!=null),s($e!=null),Ie[0]=null,Se[0]=null,$e[0]=0;;){if(le[0]=Le,ce[0]=ht,8>ht){le=7;break e}var pt=be(qe,Le+4);if(4294967286<pt){le=3;break e}var ct=8+pt+1&-2;if(Je+=ct,0<Ue&&Je>Ue){le=3;break e}if(!r(qe,Le,"VP8 ")||!r(qe,Le,"VP8L")){le=0;break e}if(ht[0]<ct){le=7;break e}r(qe,Le,"ALPH")||(Ie[0]=qe,Se[0]=Le+8,$e[0]=pt),Le+=ct,ht-=ct}}if(h=h[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],le!=0)break}h=[h],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Ue=t,le=a,ce=h,Ie=he.gb[0],Se=he.Ja,$e=he.xa,qe=le[0],Le=!r(Ue,qe,"VP8 "),Je=!r(Ue,qe,"VP8L"),s(Ue!=null),s(ce!=null),s(Se!=null),s($e!=null),8>ce[0])le=7;else{if(Le||Je){if(Ue=be(Ue,qe+4),12<=Ie&&Ue>Ie-12){le=3;break e}if(ge&&Ue>ce[0]-8){le=7;break e}Se[0]=Ue,le[0]+=8,ce[0]-=8,$e[0]=Je}else $e[0]=5<=ce[0]&&Ue[qe+0]==47&&!(Ue[qe+4]>>5),Se[0]=ce[0];le=0}if(h=h[0],he.Ja=he.Ja[0],he.xa=he.xa[0],a=a[0],le!=0)break;if(4294967286<he.Ja)return 3;if(R==null||ye||(R[0]=he.xa?2:1),P=[P],Pe=[Pe],he.xa){if(5>h){le=7;break}R=P,ge=Pe,ye=C,t==null||5>h?t=0:5<=h&&t[a+0]==47&&!(t[a+4]>>5)?(ce=[0],Ue=[0],Ie=[0],H(Se=new j,t,a,h),Ze(Se,ce,Ue,Ie)?(R!=null&&(R[0]=ce[0]),ge!=null&&(ge[0]=Ue[0]),ye!=null&&(ye[0]=Ie[0]),t=1):t=0):t=0}else{if(10>h){le=7;break}R=Pe,t==null||10>h||!Oa(t,a+3,h-3)?t=0:(ge=t[a+0]|t[a+1]<<8|t[a+2]<<16,ye=16383&(t[a+7]<<8|t[a+6]),t=16383&(t[a+9]<<8|t[a+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=he.Ja||!ye||!t?t=0:(P&&(P[0]=ye),R&&(R[0]=t),t=1))}if(!t||(P=P[0],Pe=Pe[0],fe&&(U[0]!=P||oe[0]!=Pe)))return 3;B!=null&&(B[0]=he,B.offset=a-B.w,s(4294967286>a-B.w),s(B.offset==B.ha-h));break}return le==0||le==7&&fe&&B==null?(C!=null&&(C[0]|=he.na!=null&&0<he.na.length),p!=null&&(p[0]=P),N!=null&&(N[0]=Pe),0):le}function ha(t,a,h){var p=a.width,N=a.height,C=0,P=0,R=p,B=N;if(a.Da=t!=null&&0<t.Da,a.Da&&(R=t.cd,B=t.bd,C=t.v,P=t.j,11>h||(C&=-2,P&=-2),0>C||0>P||0>=R||0>=B||C+R>p||P+B>N))return 0;if(a.v=C,a.j=P,a.va=C+R,a.o=P+B,a.U=R,a.T=B,a.da=t!=null&&0<t.da,a.da){if(!He(R,B,h=[t.ib],C=[t.hb]))return 0;a.ib=h[0],a.hb=C[0]}return a.ob=t!=null&&t.ob,a.Kb=t==null||!t.Sd,a.da&&(a.ob=a.ib<3*p/4&&a.hb<3*N/4,a.Kb=0),1}function ma(t){if(t==null)return 2;if(11>t.S){var a=t.f.RGBA;a.fb+=(t.height-1)*a.A,a.A=-a.A}else a=t.f.kb,t=t.height,a.O+=(t-1)*a.fa,a.fa=-a.fa,a.N+=(t-1>>1)*a.Ab,a.Ab=-a.Ab,a.W+=(t-1>>1)*a.Db,a.Db=-a.Db,a.F!=null&&(a.J+=(t-1)*a.lb,a.lb=-a.lb);return 0}function Cn(t,a,h,p){if(p==null||0>=t||0>=a)return 2;if(h!=null){if(h.Da){var N=h.cd,C=h.bd,P=-2&h.v,R=-2&h.j;if(0>P||0>R||0>=N||0>=C||P+N>t||R+C>a)return 2;t=N,a=C}if(h.da){if(!He(t,a,N=[h.ib],C=[h.hb]))return 2;t=N[0],a=C[0]}}p.width=t,p.height=a;e:{var B=p.width,U=p.height;if(t=p.S,0>=B||0>=U||!(t>=li&&13>t))t=2;else{if(0>=p.Rd&&p.sd==null){P=C=N=a=0;var oe=(R=B*Sl[t])*U;if(11>t||(C=(U+1)/2*(a=(B+1)/2),t==12&&(P=(N=B)*U)),(U=o(oe+2*C+P))==null){t=1;break e}p.sd=U,11>t?((B=p.f.RGBA).eb=U,B.fb=0,B.A=R,B.size=oe):((B=p.f.kb).y=U,B.O=0,B.fa=R,B.Fd=oe,B.f=U,B.N=0+oe,B.Ab=a,B.Cd=C,B.ea=U,B.W=0+oe+C,B.Db=a,B.Ed=C,t==12&&(B.F=U,B.J=0+oe+2*C),B.Tc=P,B.lb=N)}if(a=1,N=p.S,C=p.width,P=p.height,N>=li&&13>N)if(11>N)t=p.f.RGBA,a&=(R=Math.abs(t.A))*(P-1)+C<=t.size,a&=R>=C*Sl[N],a&=t.eb!=null;else{t=p.f.kb,R=(C+1)/2,oe=(P+1)/2,B=Math.abs(t.fa),U=Math.abs(t.Ab);var fe=Math.abs(t.Db),ge=Math.abs(t.lb),he=ge*(P-1)+C;a&=B*(P-1)+C<=t.Fd,a&=U*(oe-1)+R<=t.Cd,a=(a&=fe*(oe-1)+R<=t.Ed)&B>=C&U>=R&fe>=R,a&=t.y!=null,a&=t.f!=null,a&=t.ea!=null,N==12&&(a&=ge>=C,a&=he<=t.Tc,a&=t.F!=null)}else a=0;t=a?0:2}}return t!=0||h!=null&&h.fd&&(t=ma(p)),t}var Kt=64,Pn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_n=24,In=32,xa=8,ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(t){return t},$.Predictor2=function(t,a,h){return a[h+0]},$.Predictor3=function(t,a,h){return a[h+1]},$.Predictor4=function(t,a,h){return a[h-1]},$.Predictor5=function(t,a,h){return me(me(t,a[h+1]),a[h+0])},$.Predictor6=function(t,a,h){return me(t,a[h-1])},$.Predictor7=function(t,a,h){return me(t,a[h+0])},$.Predictor8=function(t,a,h){return me(a[h-1],a[h+0])},$.Predictor9=function(t,a,h){return me(a[h+0],a[h+1])},$.Predictor10=function(t,a,h){return me(me(t,a[h-1]),me(a[h+0],a[h+1]))},$.Predictor11=function(t,a,h){var p=a[h+0];return 0>=Ee(p>>24&255,t>>24&255,(a=a[h-1])>>24&255)+Ee(p>>16&255,t>>16&255,a>>16&255)+Ee(p>>8&255,t>>8&255,a>>8&255)+Ee(255&p,255&t,255&a)?p:t},$.Predictor12=function(t,a,h){var p=a[h+0];return(ke((t>>24&255)+(p>>24&255)-((a=a[h-1])>>24&255))<<24|ke((t>>16&255)+(p>>16&255)-(a>>16&255))<<16|ke((t>>8&255)+(p>>8&255)-(a>>8&255))<<8|ke((255&t)+(255&p)-(255&a)))>>>0},$.Predictor13=function(t,a,h){var p=a[h-1];return(_e((t=me(t,a[h+0]))>>24&255,p>>24&255)<<24|_e(t>>16&255,p>>16&255)<<16|_e(t>>8&255,p>>8&255)<<8|_e(t>>0&255,p>>0&255))>>>0};var bo=$.PredictorAdd0;$.PredictorAdd1=Ve,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var pa=$.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",(function(t){return t>>8&255}),(function(t){return t})),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(t){return t}),(function(t){return t>>8&255}));var si,Cs=$.ColorIndexInverseTransform,Fn=$.MapARGB,ri=$.VP8LColorIndexInverseTransformAlpha,ni=$.MapAlpha,Pr=$.VP8LPredictorsAdd=[];Pr.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var en,fs,cs,_r,gr,br,Dn,vr,Rt,fa,ds,Ps,Tn,ai,ga,tn,sn,Ir,rn,Rn,nn,Fr,ba,_s,Is,jt,Nt,Mt,Ht=o(511),yr=o(2041),va=o(225),Mn=o(767),ii=0,vo=yr,oi=va,js=Mn,Fs=Ht,li=0,ci=1,fl=2,di=3,ui=4,yo=5,gl=6,wo=7,jo=8,hi=9,No=10,Mc=[2,3,7],Ec=[3,3,11],bl=[280,256,256,256,40],Bc=[0,1,1,1,0],Oc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zc=8,Ao=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ko=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ya=null,$c=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Dr=[],Hs=[],wr=[],Jc=1,yl=2,Tr=[],Ds=[];je("UpsampleRgbLinePair",lt,3),je("UpsampleBgrLinePair",Ct,3),je("UpsampleRgbaLinePair",Ws,4),je("UpsampleBgraLinePair",Vt,4),je("UpsampleArgbLinePair",es,4),je("UpsampleRgba4444LinePair",Ut,2),je("UpsampleRgb565LinePair",It,2);var Xc=$.UpsampleRgbLinePair,Kc=$.UpsampleBgrLinePair,wl=$.UpsampleRgbaLinePair,jl=$.UpsampleBgraLinePair,Nl=$.UpsampleArgbLinePair,Al=$.UpsampleRgba4444LinePair,Zc=$.UpsampleRgb565LinePair,mi=16,xi=1<<mi-1,wa=-227,Lo=482,Qc=6,kl=0,ed=o(256),td=o(256),sd=o(256),rd=o(256),nd=o(Lo-wa),ad=o(Lo-wa);ir("YuvToRgbRow",lt,3),ir("YuvToBgrRow",Ct,3),ir("YuvToRgbaRow",Ws,4),ir("YuvToBgraRow",Vt,4),ir("YuvToArgbRow",es,4),ir("YuvToRgba4444Row",Ut,2),ir("YuvToRgb565Row",It,2);var Ll=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pi=[0,2,8],id=[8,7,6,4,4,2,2,2,1,1,1,1],od=1;this.WebPDecodeRGBA=function(t,a,h,p,N){var C=ci,P=new kn,R=new Es;P.ba=R,R.S=C,R.width=[R.width],R.height=[R.height];var B=R.width,U=R.height,oe=new mr;if(oe==null||t==null)var fe=2;else s(oe!=null),fe=Sn(t,a,h,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(fe!=0?B=0:(B!=null&&(B[0]=oe.width[0]),U!=null&&(U[0]=oe.height[0]),B=1),B){R.width=R.width[0],R.height=R.height[0],p!=null&&(p[0]=R.width),N!=null&&(N[0]=R.height);e:{if(p=new bn,(N=new ia).data=t,N.w=a,N.ha=h,N.kd=1,a=[0],s(N!=null),((t=Sn(N.data,N.w,N.ha,null,null,null,a,null,N))==0||t==7)&&a[0]&&(t=4),(a=t)==0){if(s(P!=null),p.data=N.data,p.w=N.w+N.offset,p.ha=N.ha-N.offset,p.put=Qs,p.ac=Xt,p.bc=er,p.ma=P,N.xa){if((t=Ss())==null){P=1;break e}if((function(ge,he){var Pe=[0],ye=[0],le=[0];t:for(;;){if(ge==null)return 0;if(he==null)return ge.a=2,0;if(ge.l=he,ge.a=0,H(ge.m,he.data,he.w,he.ha),!Ze(ge.m,Pe,ye,le)){ge.a=3;break t}if(ge.xb=yl,he.width=Pe[0],he.height=ye[0],!rr(Pe[0],ye[0],1,ge,null))break t;return 1}return s(ge.a!=0),0})(t,p)){if(p=(a=Cn(p.width,p.height,P.Oa,P.ba))==0){t:{p=t;s:for(;;){if(p==null){p=0;break t}if(s(p.s.yc!=null),s(p.s.Ya!=null),s(0<p.s.Wb),s((h=p.l)!=null),s((N=h.ma)!=null),p.xb!=0){if(p.ca=N.ba,p.tb=N.tb,s(p.ca!=null),!ha(N.Oa,h,di)){p.a=2;break s}if(!Jr(p,h.width)||h.da)break s;if((h.da||mt(p.ca.S))&&pe(),11>p.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),p.ca.f.kb.F!=null&&pe()),p.Pb&&0<p.s.ua&&p.s.vb.X==null&&!we(p.s.vb,p.s.Wa.Xa)){p.a=1;break s}p.xb=0}if(!Us(p,p.V,p.Ba,p.c,p.i,h.o,hn))break s;N.Dc=p.Ma,p=1;break t}s(p.a!=0),p=0}p=!p}p&&(a=t.a)}else a=t.a}else{if((t=new Zi)==null){P=1;break e}if(t.Fa=N.na,t.P=N.P,t.qc=N.Sa,qa(t,p)){if((a=Cn(p.width,p.height,P.Oa,P.ba))==0){if(t.Aa=0,h=P.Oa,s((N=t)!=null),h!=null){if(0<(B=0>(B=h.Md)?0:100<B?255:255*B/100)){for(U=oe=0;4>U;++U)12>(fe=N.pb[U]).lc&&(fe.ia=B*id[0>fe.lc?0:fe.lc]>>3),oe|=fe.ia;oe&&(alert("todo:VP8InitRandom"),N.ia=1)}N.Ga=h.Id,100<N.Ga?N.Ga=100:0>N.Ga&&(N.Ga=0)}Qi(t,p)||(a=t.a)}}else a=t.a}a==0&&P.Oa!=null&&P.Oa.fd&&(a=ma(P.ba))}P=a}C=P!=0?null:11>C?R.f.RGBA.eb:R.f.kb.y}else C=null;return C};var Sl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function b($,ie){for(var Z="",f=0;f<4;f++)Z+=String.fromCharCode($[ie++]);return Z}function v($,ie){return($[ie+0]<<0|$[ie+1]<<8|$[ie+2]<<16)>>>0}function y($,ie){return($[ie+0]<<0|$[ie+1]<<8|$[ie+2]<<16|$[ie+3]<<24)>>>0}new u;var k=[0],x=[0],M=[],E=new u,T=n,S=(function($,ie){var Z={},f=0,_=!1,D=0,g=0;if(Z.frames=[],!(function(F,O,K,ee){for(var J=0;J<ee;J++)if(F[O+J]!=K.charCodeAt(J))return!0;return!1})($,ie,"RIFF",4)){var I,z;for(y($,ie+=4),ie+=8;ie<$.length;){var te=b($,ie),H=y($,ie+=4);ie+=4;var W=H+(1&H);switch(te){case"VP8 ":case"VP8L":Z.frames[f]===void 0&&(Z.frames[f]={}),(j=Z.frames[f]).src_off=_?g:ie-8,j.src_size=D+H+8,f++,_&&(_=!1,D=0,g=0);break;case"VP8X":(j=Z.header={}).feature_flags=$[ie];var G=ie+4;j.canvas_width=1+v($,G),G+=3,j.canvas_height=1+v($,G),G+=3;break;case"ALPH":_=!0,D=W+8,g=ie-8;break;case"ANIM":(j=Z.header).bgcolor=y($,ie),G=ie+4,j.loop_count=(I=$)[(z=G)+0]<<0|I[z+1]<<8,G+=2;break;case"ANMF":var V,j;(j=Z.frames[f]={}).offset_x=2*v($,ie),ie+=3,j.offset_y=2*v($,ie),ie+=3,j.width=1+v($,ie),ie+=3,j.height=1+v($,ie),ie+=3,j.duration=v($,ie),ie+=3,V=$[ie++],j.dispose=1&V,j.blend=V>>1&1}te!="ANMF"&&(ie+=W)}return Z}})(T,0);S.response=T,S.rgbaoutput=!0,S.dataurl=!1;var L=S.header?S.header:null,X=S.frames?S.frames:null;if(L){L.loop_counter=L.loop_count,k=[L.canvas_height],x=[L.canvas_width];for(var re=0;re<X.length&&X[re].blend!=0;re++);}var ue=X[0],ve=E.WebPDecodeRGBA(T,ue.src_off,ue.src_size,x,k);ue.rgba=ve,ue.imgwidth=x[0],ue.imgheight=k[0];for(var de=0;de<x[0]*k[0]*4;de++)M[de]=ve[de];return this.width=x,this.height=k,this.data=M,this}(function(n){var s=function(){return typeof al=="function"},r=function(k,x,M,E){var T=4,S=c;switch(E){case n.image_compression.FAST:T=1,S=o;break;case n.image_compression.MEDIUM:T=6,S=m;break;case n.image_compression.SLOW:T=9,S=u}k=i(k,x,M,S);var L=al(k,{level:T});return n.__addimage__.arrayBufferToBinaryString(L)},i=function(k,x,M,E){for(var T,S,L,X=k.length/x,re=new Uint8Array(k.length+X),ue=v(),ve=0;ve<X;ve+=1){if(L=ve*x,T=k.subarray(L,L+x),E)re.set(E(T,M,S),L+ve);else{for(var de,$=ue.length,ie=[];de<$;de+=1)ie[de]=ue[de](T,M,S);var Z=y(ie.concat());re.set(ie[Z],L+ve)}S=T}return re},l=function(k){var x=Array.apply([],k);return x.unshift(0),x},o=function(k,x){var M,E=[],T=k.length;E[0]=1;for(var S=0;S<T;S+=1)M=k[S-x]||0,E[S+1]=k[S]-M+256&255;return E},c=function(k,x,M){var E,T=[],S=k.length;T[0]=2;for(var L=0;L<S;L+=1)E=M&&M[L]||0,T[L+1]=k[L]-E+256&255;return T},m=function(k,x,M){var E,T,S=[],L=k.length;S[0]=3;for(var X=0;X<L;X+=1)E=k[X-x]||0,T=M&&M[X]||0,S[X+1]=k[X]+256-(E+T>>>1)&255;return S},u=function(k,x,M){var E,T,S,L,X=[],re=k.length;X[0]=4;for(var ue=0;ue<re;ue+=1)E=k[ue-x]||0,T=M&&M[ue]||0,S=M&&M[ue-x]||0,L=b(E,T,S),X[ue+1]=k[ue]-L+256&255;return X},b=function(k,x,M){if(k===x&&x===M)return k;var E=Math.abs(x-M),T=Math.abs(k-M),S=Math.abs(k+x-M-M);return E<=T&&E<=S?k:T<=S?x:M},v=function(){return[l,o,c,m,u]},y=function(k){var x=k.map((function(M){return M.reduce((function(E,T){return E+Math.abs(T)}),0)}));return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(k,x,M,E){var T,S,L,X,re,ue,ve,de,$,ie,Z,f,_,D,g,I=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(k)&&(k=new Uint8Array(k)),this.__addimage__.isArrayBufferView(k)){if(k=(L=new Vu(k)).imgData,S=L.bits,T=L.colorSpace,re=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){$=(de=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,Z=new Uint8Array($*L.colors),ie=new Uint8Array($);var te,H=L.pixelBitlength-L.bits;for(D=0,g=0;D<$;D++){for(_=de[D],te=0;te<H;)Z[g++]=_>>>te&255,te+=L.bits;ie[D]=_>>>te&255}}if(L.bits===16){$=(de=new Uint32Array(L.decodePixels().buffer)).length,Z=new Uint8Array($*(32/L.pixelBitlength)*L.colors),ie=new Uint8Array($*(32/L.pixelBitlength)),f=L.colors>1,D=0,g=0;for(var W=0;D<$;)_=de[D++],Z[g++]=_>>>0&255,f&&(Z[g++]=_>>>16&255,_=de[D++],Z[g++]=_>>>0&255),ie[W++]=_>>>16&255;S=8}E!==n.image_compression.NONE&&s()?(k=r(Z,L.width*L.colors,L.colors,E),ve=r(ie,L.width,1,E)):(k=Z,ve=ie,I=void 0)}if(L.colorType===3&&(T=this.color_spaces.INDEXED,ue=L.palette,L.transparency.indexed)){var G=L.transparency.indexed,V=0;for(D=0,$=G.length;D<$;++D)V+=G[D];if((V/=255)===$-1&&G.indexOf(0)!==-1)X=[G.indexOf(0)];else if(V!==$){for(de=L.decodePixels(),ie=new Uint8Array(de.length),D=0,$=de.length;D<$;D++)ie[D]=G[de[D]];ve=r(ie,L.width,1)}}var j=(function(F){var O;switch(F){case n.image_compression.FAST:O=11;break;case n.image_compression.MEDIUM:O=13;break;case n.image_compression.SLOW:O=14;break;default:O=12}return O})(E);return I===this.decode.FLATE_DECODE&&(z="/Predictor "+j+" "),z+="/Colors "+re+" /BitsPerComponent "+S+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),(ve&&this.__addimage__.isArrayBuffer(ve)||this.__addimage__.isArrayBufferView(ve))&&(ve=this.__addimage__.arrayBufferToBinaryString(ve)),{alias:M,data:k,index:x,filter:I,decodeParameters:z,transparency:X,palette:ue,sMask:ve,predictor:j,width:L.width,height:L.height,bitsPerComponent:S,colorSpace:T}}}})(Qe.API),(function(n){n.processGIF89A=function(s,r,i,l){var o=new Gu(s),c=o.width,m=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var b={data:u,width:c,height:m},v=new Yo(100).encode(b,100);return n.processJPEG.call(this,v,r,i,l)},n.processGIF87A=n.processGIF89A})(Qe.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var s=0;s<n;s++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:l,green:i,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[n]()}catch(r){wt.log("bit decode error:"+r)}},Ys.prototype.bit1=function(){var n,s=Math.ceil(this.width/8),r=s%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,l=0;l<s;l++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*l*4,m=0;m<8&&8*l+m<this.width;m++){var u=this.palette[o>>7-m&1];this.data[c+4*m]=u.blue,this.data[c+4*m+1]=u.green,this.data[c+4*m+2]=u.red,this.data[c+4*m+3]=255}r!==0&&(this.pos+=4-r)}},Ys.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),s=n%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,l=0;l<n;l++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*l*4,m=o>>4,u=15&o,b=this.palette[m];if(this.data[c]=b.blue,this.data[c+1]=b.green,this.data[c+2]=b.red,this.data[c+3]=255,2*l+1>=this.width)break;b=this.palette[u],this.data[c+4]=b.blue,this.data[c+4+1]=b.green,this.data[c+4+2]=b.red,this.data[c+4+3]=255}s!==0&&(this.pos+=4-s)}},Ys.prototype.bit8=function(){for(var n=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var l=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*i;if(l<this.palette.length){var c=this.palette[l];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ys.prototype.bit15=function(){for(var n=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&s)/s*255|0,m=(o>>5&s)/s*255|0,u=(o>>10&s)/s*255|0,b=o>>15?255:0,v=i*this.width*4+4*l;this.data[v]=u,this.data[v+1]=m,this.data[v+2]=c,this.data[v+3]=b}this.pos+=n}},Ys.prototype.bit16=function(){for(var n=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var l=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(c&s)/s*255|0,u=(c>>5&r)/r*255|0,b=(c>>11)/s*255|0,v=l*this.width*4+4*o;this.data[v]=b,this.data[v+1]=u,this.data[v+2]=m,this.data[v+3]=255}this.pos+=n}},Ys.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+4*r;this.data[c]=o,this.data[c+1]=l,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var s=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),m=s*this.width*4+4*r;this.data[m]=o,this.data[m+1]=l,this.data[m+2]=i,this.data[m+3]=c}},Ys.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(s,r,i,l){var o=new Ys(s,!1),c=o.width,m=o.height,u={data:o.getData(),width:c,height:m},b=new Yo(100).encode(u,100);return n.processJPEG.call(this,b,r,i,l)}})(Qe.API),uc.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(s,r,i,l){var o=new uc(s),c=o.width,m=o.height,u={data:o.getData(),width:c,height:m},b=new Yo(100).encode(u,100);return n.processJPEG.call(this,b,r,i,l)}})(Qe.API),Qe.API.processRGBA=function(n,s,r){for(var i=n.data,l=i.length,o=new Uint8Array(l/4*3),c=new Uint8Array(l/4),m=0,u=0,b=0;b<l;b+=4){var v=i[b],y=i[b+1],k=i[b+2],x=i[b+3];o[m++]=v,o[m++]=y,o[m++]=k,c[u++]=x}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:M,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Qe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},zn=Qe.API,Ii=zn.getCharWidthsArray=function(n,s){var r,i,l=(s=s||{}).font||this.internal.getFont(),o=s.fontSize||this.internal.getFontSize(),c=s.charSpace||this.internal.getCharSpace(),m=s.widths?s.widths:l.metadata.Unicode.widths,u=m.fof?m.fof:1,b=s.kerning?s.kerning:l.metadata.Unicode.kerning,v=b.fof?b.fof:1,y=s.doKerning!==!1,k=0,x=n.length,M=0,E=m[0]||u,T=[];for(r=0;r<x;r++)i=n.charCodeAt(r),typeof l.metadata.widthOfString=="function"?T.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(k=y&&gt(b[i])==="object"&&!isNaN(parseInt(b[i][M],10))?b[i][M]/v:0,T.push((m[i]||E)/u+k)),M=i;return T},oc=zn.getStringUnitWidth=function(n,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),i=s.font||this.internal.getFont(),l=s.charSpace||this.internal.getCharSpace();return zn.processArabic&&(n=zn.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,r,l)/r:Ii.apply(this,arguments).reduce((function(o,c){return o+c}),0)},lc=function(n,s,r,i){for(var l=[],o=0,c=n.length,m=0;o!==c&&m+s[o]<r;)m+=s[o],o++;l.push(n.slice(0,o));var u=o;for(m=0;o!==c;)m+s[o]>i&&(l.push(n.slice(u,o)),m=0,u=o),m+=s[o],o++;return u!==o&&l.push(n.slice(u,o)),l},cc=function(n,s,r){r||(r={});var i,l,o,c,m,u,b,v=[],y=[v],k=r.textIndent||0,x=0,M=0,E=n.split(" "),T=Ii.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var S=Array(u).join(" "),L=[];E.map((function(re){(re=re.split(/\s*\n/)).length>1?L=L.concat(re.map((function(ue,ve){return(ve&&ue.length?`
`:"")+ue}))):L.push(re[0])})),E=L,u=oc.apply(this,[S,r])}for(o=0,c=E.length;o<c;o++){var X=0;if(i=E[o],u&&i[0]==`
`&&(i=i.substr(1),X=1),k+x+(M=(l=Ii.apply(this,[i,r])).reduce((function(re,ue){return re+ue}),0))>s||X){if(M>s){for(m=lc.apply(this,[i,l,s-(k+x),s]),v.push(m.shift()),v=[m.pop()];m.length;)y.push([m.shift()]);M=l.slice(i.length-(v[0]?v[0].length:0)).reduce((function(re,ue){return re+ue}),0)}else v=[i];y.push(v),k=M+u,x=T}else v.push(i),k+=x+M,x=T}return b=u?function(re,ue){return(ue?S:"")+re.join(" ")}:function(re){return re.join(" ")},y.map(b)},zn.splitTextToSize=function(n,s,r){var i,l=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var y=this.internal.getFont(v.fontName,v.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*s/l;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/l:0,o.lineIndent=r.lineIndent;var m,u,b=[];for(m=0,u=i.length;m<u;m++)b=b.concat(cc.apply(this,[i[m],c,o]));return b},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var s="klmnopqrstuvwxyz",r={},i={},l=0;l<s.length;l++)r[s[l]]="0123456789abcdef"[l],i["0123456789abcdef"[l]]=s[l];var o=function(y){return"0x"+parseInt(y,10).toString(16)},c=n.__fontmetrics__.compress=function(y){var k,x,M,E,T=["{"];for(var S in y){if(k=y[S],isNaN(parseInt(S,10))?x="'"+S+"'":(S=parseInt(S,10),x=(x=o(S).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof k=="number")k<0?(M=o(k).slice(3),E="-"):(M=o(k).slice(2),E=""),M=E+M.slice(0,-1)+i[M.slice(-1)];else{if(gt(k)!=="object")throw new Error("Don't know what to do with value type "+gt(k)+".");M=c(k)}T.push(x+M)}return T.push("}"),T.join("")},m=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var k,x,M,E,T={},S=1,L=T,X=[],re="",ue="",ve=y.length-1,de=1;de<ve;de+=1)(E=y[de])=="'"?k?(M=k.join(""),k=void 0):k=[]:k?k.push(E):E=="{"?(X.push([L,M]),L={},M=void 0):E=="}"?((x=X.pop())[0][x[1]]=L,M=void 0,L=x[0]):E=="-"?S=-1:M===void 0?r.hasOwnProperty(E)?(re+=r[E],M=parseInt(re,16)*S,S=1,re=""):re+=E:r.hasOwnProperty(E)?(ue+=r[E],L[M]=parseInt(ue,16)*S,S=1,M=void 0,ue=""):ue+=E;return T},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},v={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:m("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:m("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var k=y.font,x=v.Unicode[k.postScriptName];x&&(k.metadata.Unicode={},k.metadata.Unicode.widths=x.widths,k.metadata.Unicode.kerning=x.kerning);var M=b.Unicode[k.postScriptName];M&&(k.metadata.Unicode.encoding=M,k.encoding=M.codePages[0])}])})(Qe.API),(function(n){var s=function(r){for(var i=r.length,l=new Uint8Array(i),o=0;o<i;o++)l[o]=r.charCodeAt(o);return l};n.API.events.push(["addFont",function(r){var i=void 0,l=r.font,o=r.instance;if(!l.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(i=o.existsFileInVFS(l.postScriptName)===!1?o.loadFile(l.postScriptName):o.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(c,m){m=/^\x00\x01\x00\x00/.test(m)?s(m):s(Fa(m)),c.metadata=n.API.TTFFont.open(m),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(l,i)}}])})(Qe),(function(n){function s(){return(et.canvg?Promise.resolve(et.canvg):Jo(()=>import("./index.es-DSNujeMc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Qe.API.addSvgAsImage=function(r,i,l,o,c,m,u,b){if(isNaN(i)||isNaN(l))throw wt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw wt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=o,v.height=c;var y=v.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,v.width,v.height);var k={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return s().then((function(M){return M.fromString(y,r,k)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(M){return M.render(k)})).then((function(){x.addImage(v.toDataURL("image/jpeg",1),i,l,o,c,u,b)}))}})(),Qe.API.putTotalPages=function(n){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(n,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var l=0;l<this.internal.pages[i].length;l++)this.internal.pages[i][l]=this.internal.pages[i][l].replace(s,r);return this},Qe.API.viewerPreferences=function(n,s){var r;n=n||{},s=s||!1;var i,l,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},m=Object.keys(c),u=[],b=0,v=0,y=0;function k(M,E){var T,S=!1;for(T=0;T<M.length;T+=1)M[T]===E&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,n==="reset"||s===!0){var x=m.length;for(y=0;y<x;y+=1)r[m[y]].value=r[m[y]].defaultValue,r[m[y]].explicitSet=!1}if(gt(n)==="object"){for(l in n)if(o=n[l],k(m,l)&&o!==void 0){if(r[l].type==="boolean"&&typeof o=="boolean")r[l].value=o;else if(r[l].type==="name"&&k(r[l].valueSet,o))r[l].value=o;else if(r[l].type==="integer"&&Number.isInteger(o))r[l].value=o;else if(r[l].type==="array"){for(b=0;b<o.length;b+=1)if(i=!0,o[b].length===1&&typeof o[b][0]=="number")u.push(String(o[b]-1));else if(o[b].length>1){for(v=0;v<o[b].length;v+=1)typeof o[b][v]!="number"&&(i=!1);i===!0&&u.push([o[b][0]-1,o[b][1]-1].join(" "))}r[l].value="["+u.join(" ")+"]"}else r[l].value=r[l].defaultValue;r[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var M,E=[];for(M in r)r[M].explicitSet===!0&&(r[M].type==="name"?E.push("/"+M+" /"+r[M].value):E.push("/"+M+" "+r[M].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(n){var s=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',l=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),m=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),b=o.length+c.length+m.length+l.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+b+" >>"),this.internal.write("stream"),this.internal.write(l+o+c+m+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,l){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:l||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",s)),this}})(Qe.API),(function(n){var s=n.API,r=s.pdfEscape16=function(o,c){for(var m,u=c.metadata.Unicode.widths,b=["","0","00","000","0000"],v=[""],y=0,k=o.length;y<k;++y){if(m=c.metadata.characterToGlyph(o.charCodeAt(y)),c.metadata.glyIdsUsed.push(m),c.metadata.toUnicode[m]=o.charCodeAt(y),u.indexOf(m)==-1&&(u.push(m),u.push([parseInt(c.metadata.widthOfGlyph(m),10)])),m=="0")return v.join("");m=m.toString(16),v.push(b[4-m.length],m)}return v.join("")},i=function(o){var c,m,u,b,v,y,k;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,k=(m=Object.keys(o).sort((function(x,M){return x-M}))).length;y<k;y++)c=m[y],u.length>=100&&(v+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(b=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+b+">"));return u.length&&(v+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(o){(function(c){var m=c.font,u=c.out,b=c.newObject,v=c.putStream;if(m.metadata instanceof n.API.TTFFont&&m.encoding==="Identity-H"){for(var y=m.metadata.Unicode.widths,k=m.metadata.subset.encode(m.metadata.glyIdsUsed,1),x="",M=0;M<k.length;M++)x+=String.fromCharCode(k[M]);var E=b();v({data:x,addLength1:!0,objectId:E}),u("endobj");var T=b();v({data:i(m.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var S=b();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Wn(m.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(m.metadata.bbox)),u("/Flags "+m.metadata.flags),u("/StemV "+m.metadata.stemV),u("/ItalicAngle "+m.metadata.italicAngle),u("/Ascent "+m.metadata.ascender),u("/Descent "+m.metadata.decender),u("/CapHeight "+m.metadata.capHeight),u(">>"),u("endobj");var L=b();u("<<"),u("/Type /Font"),u("/BaseFont /"+Wn(m.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+n.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+m.encoding+")"),u(">>"),u(">>"),u("endobj"),m.objectNumber=b(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+Wn(m.fontName)),u("/Encoding /"+m.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),m.isAlreadyPutted=!0}})(o)}]),s.events.push(["putFont",function(o){(function(c){var m=c.font,u=c.out,b=c.newObject,v=c.putStream;if(m.metadata instanceof n.API.TTFFont&&m.encoding==="WinAnsiEncoding"){for(var y=m.metadata.rawData,k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);var M=b();v({data:k,addLength1:!0,objectId:M}),u("endobj");var E=b();v({data:i(m.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var T=b();u("<<"),u("/Descent "+m.metadata.decender),u("/CapHeight "+m.metadata.capHeight),u("/StemV "+m.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+M+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(m.metadata.bbox)),u("/FontName /"+Wn(m.fontName)),u("/ItalicAngle "+m.metadata.italicAngle),u("/Ascent "+m.metadata.ascender),u(">>"),u("endobj"),m.objectNumber=b();for(var S=0;S<m.metadata.hmtx.widths.length;S++)m.metadata.hmtx.widths[S]=parseInt(m.metadata.hmtx.widths[S]*(1e3/m.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Wn(m.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+m.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(m.metadata.hmtx.widths)+">>"),u("endobj"),m.isAlreadyPutted=!0}})(o)}]);var l=function(o){var c,m=o.text||"",u=o.x,b=o.y,v=o.options||{},y=o.mutex||{},k=y.pdfEscape,x=y.activeFontKey,M=y.fonts,E=x,T="",S=0,L="",X=M[E].encoding;if(M[E].encoding!=="Identity-H")return{text:m,x:u,y:b,options:v,mutex:y};for(L=m,E=x,Array.isArray(m)&&(L=m[0]),S=0;S<L.length;S+=1)M[E].metadata.hasOwnProperty("cmap")&&(c=M[E].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),c||L[S].charCodeAt(0)<256&&M[E].metadata.hasOwnProperty("Unicode")?T+=L[S]:T+="";var re="";return parseInt(E.slice(1))<14||X==="WinAnsiEncoding"?re=k(T,E).split("").map((function(ue){return ue.charCodeAt(0).toString(16)})).join(""):X==="Identity-H"&&(re=r(T,M[E])),y.isHex=!0,{text:re,x:u,y:b,options:v,mutex:y}};s.events.push(["postProcessText",function(o){var c=o.text||"",m=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var b=0;for(b=0;b<c.length;b+=1)Array.isArray(c[b])&&c[b].length===3?m.push([l(Object.assign({},u,{text:c[b][0]})).text,c[b][1],c[b][2]]):m.push(l(Object.assign({},u,{text:c[b]})).text);o.text=m}else o.text=l(Object.assign({},u,{text:c})).text}])})(Qe),(function(n){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},n.addFileToVFS=function(r,i){return s.call(this),this.internal.vFS[r]=i,this},n.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Qe.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var l,o,c,m,u,b,v,y=s,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","¬´","¬ª","¬´","‚Äπ","‚Ä∫","‚Äπ","‚ÅÖ","‚ÅÜ","‚ÅÖ","‚ÅΩ","‚Åæ","‚ÅΩ","‚Çç","‚Çé","‚Çç","‚â§","‚â•","‚â§","‚å©","‚å™","‚å©","Ôπô","Ôπö","Ôπô","Ôπõ","Ôπú","Ôπõ","Ôπù","Ôπû","Ôπù","Ôπ§","Ôπ•","Ôπ§"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,X=0;this.__bidiEngine__={};var re=function(f){var _=f.charCodeAt(),D=_>>8,g=E[D];return g!==void 0?y[256*g+(255&_)]:D===252||D===253?"AL":S.test(D)?"L":D===8?"R":"N"},ue=function(f){for(var _,D=0;D<f.length;D++){if((_=re(f.charAt(D)))==="L")return!1;if(_==="R")return!0}return!1},ve=function(f,_,D,g){var I,z,te,H,W=_[g];switch(W){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(W="AN");break;case"AL":L=!0,W="R";break;case"WS":W="N";break;case"CS":g<1||g+1>=_.length||(I=D[g-1])!=="EN"&&I!=="AN"||(z=_[g+1])!=="EN"&&z!=="AN"?W="N":L&&(z="AN"),W=z===I?z:"N";break;case"ES":W=(I=g>0?D[g-1]:"B")==="EN"&&g+1<_.length&&_[g+1]==="EN"?"EN":"N";break;case"ET":if(g>0&&D[g-1]==="EN"){W="EN";break}if(L){W="N";break}for(te=g+1,H=_.length;te<H&&_[te]==="ET";)te++;W=te<H&&_[te]==="EN"?"EN":"N";break;case"NSM":if(c&&!m){for(H=_.length,te=g+1;te<H&&_[te]==="NSM";)te++;if(te<H){var G=f[g],V=G>=1425&&G<=2303||G===64286;if(I=_[te],V&&(I==="R"||I==="AL")){W="R";break}}}W=g<1||(I=_[g-1])==="B"?"N":D[g-1];break;case"B":L=!1,l=!0,W=X;break;case"S":o=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":W="N"}return W},de=function(f,_,D){var g=f.split("");return D&&$(g,D,{hiLevel:X}),g.reverse(),_&&_.reverse(),g.join("")},$=function(f,_,D){var g,I,z,te,H,W=-1,G=f.length,V=0,j=[],F=X?x:k,O=[];for(L=!1,l=!1,o=!1,I=0;I<G;I++)O[I]=re(f[I]);for(z=0;z<G;z++){if(H=V,j[z]=ve(f,O,j,z),g=240&(V=F[H][M[j[z]]]),V&=15,_[z]=te=F[V][5],g>0)if(g===16){for(I=W;I<z;I++)_[I]=1;W=-1}else W=-1;if(F[V][6])W===-1&&(W=z);else if(W>-1){for(I=W;I<z;I++)_[I]=te;W=-1}O[z]==="B"&&(_[z]=0),D.hiLevel|=te}o&&(function(K,ee,J){for(var ne=0;ne<J;ne++)if(K[ne]==="S"){ee[ne]=X;for(var se=ne-1;se>=0&&K[se]==="WS";se--)ee[se]=X}})(O,_,G)},ie=function(f,_,D,g,I){if(!(I.hiLevel<f)){if(f===1&&X===1&&!l)return _.reverse(),void(D&&D.reverse());for(var z,te,H,W,G=_.length,V=0;V<G;){if(g[V]>=f){for(H=V+1;H<G&&g[H]>=f;)H++;for(W=V,te=H-1;W<te;W++,te--)z=_[W],_[W]=_[te],_[te]=z,D&&(z=D[W],D[W]=D[te],D[te]=z);V=H}V++}}},Z=function(f,_,D){var g=f.split(""),I={hiLevel:X};return D||(D=[]),$(g,D,I),(function(z,te,H){if(H.hiLevel!==0&&v)for(var W,G=0;G<z.length;G++)te[G]===1&&(W=T.indexOf(z[G]))>=0&&(z[G]=T[W+1])})(g,D,I),ie(2,g,_,D,I),ie(1,g,_,D,I),g.join("")};return this.__bidiEngine__.doBidiReorder=function(f,_,D){if((function(I,z){if(z)for(var te=0;te<I.length;te++)z[te]=te;m===void 0&&(m=ue(I)),b===void 0&&(b=ue(I))})(f,_),c||!u||b)if(c&&u&&m^b)X=m?1:0,f=de(f,_,D);else if(!c&&u&&b)X=m?1:0,f=Z(f,_,D),f=de(f,_);else if(!c||m||u||b){if(c&&!u&&m^b)f=de(f,_),m?(X=0,f=Z(f,_,D)):(X=1,f=Z(f,_,D),f=de(f,_));else if(c&&m&&!u&&b)X=1,f=Z(f,_,D),f=de(f,_);else if(!c&&!u&&m^b){var g=v;m?(X=1,f=Z(f,_,D),X=0,v=!1,f=Z(f,_,D),v=g):(X=0,f=Z(f,_,D),f=de(f,_),X=1,v=!1,f=Z(f,_,D),v=g,f=de(f,_))}}else X=0,f=Z(f,_,D);else X=m?1:0,f=Z(f,_,D);return f},this.__bidiEngine__.setOptions=function(f){f&&(c=f.isInputVisual,u=f.isOutputVisual,m=f.isInputRtl,b=f.isOutputRtl,v=f.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var l=i.text,o=(i.x,i.y,i.options||{}),c=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(l)==="[object Array]"){var m=0;for(c=[],m=0;m<l.length;m+=1)Object.prototype.toString.call(l[m])==="[object Array]"?c.push([r.doBidiReorder(l[m][0]),l[m][1],l[m][2]]):c.push([r.doBidiReorder(l[m])]);i.text=c}else i.text=r.doBidiReorder(l);r.setOptions({isInputVisual:!0})}])})(Qe),Qe.API.TTFFont=(function(){function n(s){var r;if(this.rawData=s,r=this.contents=new Hr(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new lh(this),this.registerTTF()}return n.open=function(s){return new n(s)},n.prototype.parse=function(){return this.directory=new Yu(this.contents),this.head=new Xu(this),this.name=new th(this),this.cmap=new Tc(this),this.toUnicode={},this.hhea=new Ku(this),this.maxp=new sh(this),this.hmtx=new rh(this),this.post=new Qu(this),this.os2=new Zu(this),this.loca=new oh(this),this.glyf=new nh(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var s,r,i,l,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,m,u,b;for(b=[],c=0,m=(u=this.bbox).length;c<m;c++)s=u[c],b.push(Math.round(s*this.scaleFactor));return b}).call(this),this.stemV=0,this.post.exists?(i=255&(l=this.post.italic_angle),(32768&(r=l>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},n.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},n.prototype.widthOfString=function(s,r,i){var l,o,c,m;for(c=0,o=0,m=(s=""+s).length;0<=m?o<m:o>m;o=0<=m?++o:--o)l=s.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(l))+i*(1e3/r)||0;return c*(r/1e3)},n.prototype.lineHeight=function(s,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*s},n})();var Ks,Hr=(function(){function n(s){this.data=s??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(s){return this.data[this.pos++]=s},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},n.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},n.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},n.prototype.readString=function(s){var r,i;for(i=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(s){var r,i,l;for(l=[],r=0,i=s.length;0<=i?r<i:r>i;r=0<=i?++r:--r)l.push(this.writeByte(s.charCodeAt(r)));return l},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(s){return this.writeInt16(s)},n.prototype.readLongLong=function(){var s,r,i,l,o,c,m,u;return s=this.readByte(),r=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),m=this.readByte(),u=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^l)+16777216*(255^o)+65536*(255^c)+256*(255^m)+(255^u)+1):72057594037927940*s+281474976710656*r+1099511627776*i+4294967296*l+16777216*o+65536*c+256*m+u},n.prototype.writeLongLong=function(s){var r,i;return r=Math.floor(s/4294967296),i=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(s){return this.writeInt32(s)},n.prototype.read=function(s){var r,i;for(r=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r.push(this.readByte());return r},n.prototype.write=function(s){var r,i,l,o;for(o=[],i=0,l=s.length;i<l;i++)r=s[i],o.push(this.writeByte(r));return o},n})(),Yu=(function(){var n;function s(r){var i,l,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},l=0,o=this.tableCount;0<=o?l<o:l>o;l=0<=o?++l:--l)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return s.prototype.encode=function(r){var i,l,o,c,m,u,b,v,y,k,x,M,E;for(E in x=Object.keys(r).length,u=Math.log(2),y=16*Math.floor(Math.log(x)/u),c=Math.floor(y/u),v=16*x-y,(l=new Hr).writeInt(this.scalarType),l.writeShort(x),l.writeShort(y),l.writeShort(c),l.writeShort(v),o=16*x,b=l.pos+o,m=null,M=[],r)for(k=r[E],l.writeString(E),l.writeInt(n(k)),l.writeInt(b),l.writeInt(k.length),M=M.concat(k),E==="head"&&(m=b),b+=k.length;b%4;)M.push(0),b++;return l.write(M),i=2981146554-n(l.data),l.pos=m+8,l.writeUInt32(i),l.data},n=function(r){var i,l,o,c;for(r=Rc.call(r);r.length%4;)r.push(0);for(o=new Hr(r),l=0,i=0,c=r.length;i<c;i=i+=4)l+=o.readUInt32();return 4294967295&l},s})(),Ju={}.hasOwnProperty,hr=function(n,s){for(var r in s)Ju.call(s,r)&&(n[r]=s[r]);function i(){this.constructor=n}return i.prototype=s.prototype,n.prototype=new i,n.__super__=s.prototype,n};Ks=(function(){function n(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Xu=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="head",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},s.prototype.encode=function(r){var i;return(i=new Hr).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(r),i.writeShort(this.glyphDataFormat),i.data},s})(),hc=(function(){function n(s,r){var i,l,o,c,m,u,b,v,y,k,x,M,E,T,S,L,X;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),y=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=s.readByte();break;case 4:for(x=s.readUInt16(),k=x/2,s.pos+=6,o=(function(){var re,ue;for(ue=[],u=re=0;0<=k?re<k:re>k;u=0<=k?++re:--re)ue.push(s.readUInt16());return ue})(),s.pos+=2,E=(function(){var re,ue;for(ue=[],u=re=0;0<=k?re<k:re>k;u=0<=k?++re:--re)ue.push(s.readUInt16());return ue})(),b=(function(){var re,ue;for(ue=[],u=re=0;0<=k?re<k:re>k;u=0<=k?++re:--re)ue.push(s.readUInt16());return ue})(),v=(function(){var re,ue;for(ue=[],u=re=0;0<=k?re<k:re>k;u=0<=k?++re:--re)ue.push(s.readUInt16());return ue})(),l=(this.length-s.pos+this.offset)/2,m=(function(){var re,ue;for(ue=[],u=re=0;0<=l?re<l:re>l;u=0<=l?++re:--re)ue.push(s.readUInt16());return ue})(),u=S=0,X=o.length;S<X;u=++S)for(T=o[u],i=L=M=E[u];M<=T?L<=T:L>=T;i=M<=T?++L:--L)v[u]===0?c=i+b[u]:(c=m[v[u]/2+(i-M)-(k-u)]||0)!==0&&(c+=b[u]),this.codeMap[i]=65535&c}s.pos=y}return n.encode=function(s,r){var i,l,o,c,m,u,b,v,y,k,x,M,E,T,S,L,X,re,ue,ve,de,$,ie,Z,f,_,D,g,I,z,te,H,W,G,V,j,F,O,K,ee,J,ne,se,Ne,Ce,De;switch(g=new Hr,c=Object.keys(s).sort((function(be,we){return be-we})),r){case"macroman":for(E=0,T=(function(){var be=[];for(M=0;M<256;++M)be.push(0);return be})(),L={0:0},o={},I=0,W=c.length;I<W;I++)L[se=s[l=c[I]]]==null&&(L[se]=++E),o[l]={old:s[l],new:L[s[l]]},T[l]=L[s[l]];return g.writeUInt16(1),g.writeUInt16(0),g.writeUInt32(12),g.writeUInt16(0),g.writeUInt16(262),g.writeUInt16(0),g.write(T),{charMap:o,subtable:g.data,maxGlyphID:E+1};case"unicode":for(_=[],y=[],X=0,L={},i={},S=b=null,z=0,G=c.length;z<G;z++)L[ue=s[l=c[z]]]==null&&(L[ue]=++X),i[l]={old:ue,new:L[ue]},m=L[ue]-l,S!=null&&m===b||(S&&y.push(S),_.push(l),b=m),S=l;for(S&&y.push(S),y.push(65535),_.push(65535),Z=2*(ie=_.length),$=2*Math.pow(Math.log(ie)/Math.LN2,2),k=Math.log($/2)/Math.LN2,de=2*ie-$,u=[],ve=[],x=[],M=te=0,V=_.length;te<V;M=++te){if(f=_[M],v=y[M],f===65535){u.push(0),ve.push(0);break}if(f-(D=i[f].new)>=32768)for(u.push(0),ve.push(2*(x.length+ie-M)),l=H=f;f<=v?H<=v:H>=v;l=f<=v?++H:--H)x.push(i[l].new);else u.push(D-f),ve.push(0)}for(g.writeUInt16(3),g.writeUInt16(1),g.writeUInt32(12),g.writeUInt16(4),g.writeUInt16(16+8*ie+2*x.length),g.writeUInt16(0),g.writeUInt16(Z),g.writeUInt16($),g.writeUInt16(k),g.writeUInt16(de),J=0,j=y.length;J<j;J++)l=y[J],g.writeUInt16(l);for(g.writeUInt16(0),ne=0,F=_.length;ne<F;ne++)l=_[ne],g.writeUInt16(l);for(Ne=0,O=u.length;Ne<O;Ne++)m=u[Ne],g.writeUInt16(m);for(Ce=0,K=ve.length;Ce<K;Ce++)re=ve[Ce],g.writeUInt16(re);for(De=0,ee=x.length;De<ee;De++)E=x[De],g.writeUInt16(E);return{charMap:i,subtable:g.data,maxGlyphID:X+1}}},n})(),Tc=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="cmap",s.prototype.parse=function(r){var i,l,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)i=new hc(r,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},s.encode=function(r,i){var l,o;return i==null&&(i="macroman"),l=hc.encode(r,i),(o=new Hr).writeUInt16(0),o.writeUInt16(1),l.table=o.data.concat(l.subtable),l},s})(),Ku=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="hhea",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},s})(),Zu=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="OS/2",s.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var i,l;for(l=[],i=0;i<10;++i)l.push(r.readByte());return l})(),this.charRange=(function(){var i,l;for(l=[],i=0;i<4;++i)l.push(r.readInt());return l})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var i,l;for(l=[],i=0;i<2;i=++i)l.push(r.readInt());return l})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},s})(),Qu=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="post",s.prototype.parse=function(r){var i,l,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var c;for(l=r.readUInt16(),this.glyphNameIndex=[],c=0;0<=l?c<l:c>l;c=0<=l?++c:--c)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)i=r.readByte(),o.push(this.names.push(r.readString(i)));return o;case 151552:return l=r.readUInt16(),this.offsets=r.read(l);case 196608:break;case 262144:return this.map=(function(){var m,u,b;for(b=[],c=m=0,u=this.file.maxp.numGlyphs;0<=u?m<u:m>u;c=0<=u?++m:--m)b.push(r.readUInt32());return b}).call(this)}},s})(),eh=function(n,s){this.raw=n,this.length=n.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},th=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="name",s.prototype.parse=function(r){var i,l,o,c,m,u,b,v,y,k,x;for(r.pos=this.offset,r.readShort(),i=r.readShort(),u=r.readShort(),l=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)l.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+u+r.readShort()});for(b={},c=y=0,k=l.length;y<k;c=++y)o=l[c],r.pos=o.offset,v=r.readString(o.length),m=new eh(v,o),b[x=o.nameID]==null&&(b[x]=[]),b[o.nameID].push(m);this.strings=b,this.copyright=b[0],this.fontFamily=b[1],this.fontSubfamily=b[2],this.uniqueSubfamily=b[3],this.fontName=b[4],this.version=b[5];try{this.postscriptName=b[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=b[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=b[7],this.manufacturer=b[8],this.designer=b[9],this.description=b[10],this.vendorUrl=b[11],this.designerUrl=b[12],this.license=b[13],this.licenseUrl=b[14],this.preferredFamily=b[15],this.preferredSubfamily=b[17],this.compatibleFull=b[18],this.sampleText=b[19]},s})(),sh=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="maxp",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},s})(),rh=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="hmtx",s.prototype.parse=function(r){var i,l,o,c,m,u,b;for(r.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,y;for(y=[],i=v=0;0<=o?v<o:v>o;i=0<=o?++v:--v)y.push(r.readInt16());return y})(),this.widths=(function(){var v,y,k,x;for(x=[],v=0,y=(k=this.metrics).length;v<y;v++)c=k[v],x.push(c.advance);return x}).call(this),l=this.widths[this.widths.length-1],b=[],i=m=0;0<=o?m<o:m>o;i=0<=o?++m:--m)b.push(this.widths.push(l));return b},s.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},s})(),Rc=[].slice,nh=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(r){var i,l,o,c,m,u,b,v,y,k;return r in this.cache?this.cache[r]:(c=this.file.loca,i=this.file.contents,l=c.indexOf(r),(o=c.lengthOf(r))===0?this.cache[r]=null:(i.pos=this.offset+l,m=(u=new Hr(i.read(o))).readShort(),v=u.readShort(),k=u.readShort(),b=u.readShort(),y=u.readShort(),this.cache[r]=m===-1?new ih(u,v,k,b,y):new ah(u,m,v,k,b,y),this.cache[r]))},s.prototype.encode=function(r,i,l){var o,c,m,u,b;for(m=[],c=[],u=0,b=i.length;u<b;u++)o=r[i[u]],c.push(m.length),o&&(m=m.concat(o.encode(l)));return c.push(m.length),{table:m,offsets:c}},s})(),ah=(function(){function n(s,r,i,l,o,c){this.raw=s,this.numberOfContours=r,this.xMin=i,this.yMin=l,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),ih=(function(){function n(s,r,i,l,o){var c,m;for(this.raw=s,this.xMin=r,this.yMin=i,this.xMax=l,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;m=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&m;)c.pos+=1&m?4:2,128&m?c.pos+=8:64&m?c.pos+=4:8&m&&(c.pos+=2)}return n.prototype.encode=function(){var s,r,i;for(r=new Hr(Rc.call(this.raw.data)),s=0,i=this.glyphIDs.length;s<i;++s)r.pos=this.glyphOffsets[s];return r.data},n})(),oh=(function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return hr(s,Ks),s.prototype.tag="loca",s.prototype.parse=function(r){var i,l;return r.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,c;for(c=[],l=0,o=this.length;l<o;l+=2)c.push(2*r.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],l=0,o=this.length;l<o;l+=4)c.push(r.readUInt32());return c}).call(this)},s.prototype.indexOf=function(r){return this.offsets[r]},s.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},s.prototype.encode=function(r,i){for(var l=new Uint32Array(this.offsets.length),o=0,c=0,m=0;m<l.length;++m)if(l[m]=o,c<i.length&&i[c]==m){++c,l[m]=o;var u=this.offsets[m],b=this.offsets[m+1]-u;b>0&&(o+=b)}for(var v=new Array(4*l.length),y=0;y<l.length;++y)v[4*y+3]=255&l[y],v[4*y+2]=(65280&l[y])>>8,v[4*y+1]=(16711680&l[y])>>16,v[4*y]=(4278190080&l[y])>>24;return v},s})(),lh=(function(){function n(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var s,r,i,l,o;for(r in l=this.font.cmap.tables[0].codeMap,s={},o=this.subset)i=o[r],s[r]=l[i];return s},n.prototype.glyphsFor=function(s){var r,i,l,o,c,m,u;for(l={},c=0,m=s.length;c<m;c++)l[o=s[c]]=this.font.glyf.glyphFor(o);for(o in r=[],l)(i=l[o])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(o in u=this.glyphsFor(r))i=u[o],l[o]=i;return l},n.prototype.encode=function(s,r){var i,l,o,c,m,u,b,v,y,k,x,M,E,T,S;for(l in i=Tc.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(s),x={0:0},S=i.charMap)x[(u=S[l]).old]=u.new;for(M in k=i.maxGlyphID,c)M in x||(x[M]=k++);return v=(function(L){var X,re;for(X in re={},L)re[L[X]]=X;return re})(x),y=Object.keys(v).sort((function(L,X){return L-X})),E=(function(){var L,X,re;for(re=[],L=0,X=y.length;L<X;L++)m=y[L],re.push(v[m]);return re})(),o=this.font.glyf.encode(c,E,x),b=this.font.loca.encode(o.offsets,E),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:b,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},n})();Qe.API.PDFObject=(function(){var n;function s(){}return n=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},s.convert=function(r){var i,l,o,c;if(Array.isArray(r))return"["+(function(){var m,u,b;for(b=[],m=0,u=r.length;m<u;m++)i=r[m],b.push(s.convert(i));return b})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+n(r.getUTCFullYear(),4)+n(r.getUTCMonth(),2)+n(r.getUTCDate(),2)+n(r.getUTCHours(),2)+n(r.getUTCMinutes(),2)+n(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(l in o=["<<"],r)c=r[l],o.push("/"+l+" "+s.convert(c));return o.push(">>"),o.join(`
`)}return""+r},s})();const zr="http://localhost:8000",ch=()=>{const[n,s]=xe.useState("30days"),[r,i]=xe.useState(!1),[l,o]=xe.useState(null),[c,m]=xe.useState(!1),[u,b]=xe.useState(!1),[v,y]=xe.useState({}),[k,x]=xe.useState(30),[M,E]=xe.useState(null),[T,S]=xe.useState(null),[L,X]=xe.useState(null),[re,ue]=xe.useState(null),[ve,de]=xe.useState(null),[$,ie]=xe.useState(null),[Z,f]=xe.useState([]),[_,D]=xe.useState([]),[g,I]=xe.useState(!1),[z,te]=xe.useState(null),H={"7days":{revenue:[{month:"Mon",value:85,label:"‚Çπ8.5 Cr"},{month:"Tue",value:78,label:"‚Çπ7.8 Cr"},{month:"Wed",value:92,label:"‚Çπ9.2 Cr"},{month:"Thu",value:88,label:"‚Çπ8.8 Cr"},{month:"Fri",value:95,label:"‚Çπ9.5 Cr"},{month:"Sat",value:70,label:"‚Çπ7.0 Cr"},{month:"Sun",value:65,label:"‚Çπ6.5 Cr"}],metrics:{totalRevenue:"‚Çπ57.3 Cr",totalDisbursements:"‚Çπ42.8 Cr",activeCustomers:"8,234",avgTicketSize:"‚Çπ2.9 L",revenueChange:"+18.5%",disbursementChange:"+15.2%",customerChange:"+8.7%",ticketChange:"+3.8%"},products:[{name:"Short-Term Loan",value:25,color:"#16a34a",percentage:"25%"},{name:"Personal Loan",value:30,color:"#2563eb",percentage:"30%"},{name:"Home Loan",value:28,color:"#7c3aed",percentage:"28%"},{name:"Business Loan",value:17,color:"#f59e0b",percentage:"17%"}]},"30days":{revenue:[{month:"Week 1",value:75,label:"‚Çπ22.5 Cr"},{month:"Week 2",value:82,label:"‚Çπ24.6 Cr"},{month:"Week 3",value:88,label:"‚Çπ26.4 Cr"},{month:"Week 4",value:95,label:"‚Çπ28.5 Cr"}],metrics:{totalRevenue:"‚Çπ102 Cr",totalDisbursements:"‚Çπ76 Cr",activeCustomers:"10,567",avgTicketSize:"‚Çπ3.0 L",revenueChange:"+20.3%",disbursementChange:"+17.8%",customerChange:"+10.5%",ticketChange:"+4.2%"},products:[{name:"Short-Term Loan",value:24,color:"#16a34a",percentage:"24%"},{name:"Personal Loan",value:32,color:"#2563eb",percentage:"32%"},{name:"Home Loan",value:27,color:"#7c3aed",percentage:"27%"},{name:"Business Loan",value:17,color:"#f59e0b",percentage:"17%"}]},"90days":{revenue:[{month:"Month 1",value:70,label:"‚Çπ70 Cr"},{month:"Month 2",value:82,label:"‚Çπ82 Cr"},{month:"Month 3",value:95,label:"‚Çπ95 Cr"}],metrics:{totalRevenue:"‚Çπ247 Cr",totalDisbursements:"‚Çπ184 Cr",activeCustomers:"11,890",avgTicketSize:"‚Çπ3.1 L",revenueChange:"+21.5%",disbursementChange:"+18.9%",customerChange:"+11.8%",ticketChange:"+4.8%"},products:[{name:"Short-Term Loan",value:23,color:"#16a34a",percentage:"23%"},{name:"Personal Loan",value:33,color:"#2563eb",percentage:"33%"},{name:"Home Loan",value:28,color:"#7c3aed",percentage:"28%"},{name:"Business Loan",value:16,color:"#f59e0b",percentage:"16%"}]},"1year":{revenue:[{month:"Jan",value:45,label:"‚Çπ45 Cr"},{month:"Feb",value:52,label:"‚Çπ52 Cr"},{month:"Mar",value:48,label:"‚Çπ48 Cr"},{month:"Apr",value:61,label:"‚Çπ61 Cr"},{month:"May",value:55,label:"‚Çπ55 Cr"},{month:"Jun",value:67,label:"‚Çπ67 Cr"},{month:"Jul",value:73,label:"‚Çπ73 Cr"},{month:"Aug",value:70,label:"‚Çπ70 Cr"},{month:"Sep",value:82,label:"‚Çπ82 Cr"},{month:"Oct",value:88,label:"‚Çπ88 Cr"},{month:"Nov",value:95,label:"‚Çπ95 Cr"},{month:"Dec",value:100,label:"‚Çπ100 Cr"}],metrics:{totalRevenue:"‚Çπ836 Cr",totalDisbursements:"‚Çπ624 Cr",activeCustomers:"12,345",avgTicketSize:"‚Çπ3.2 L",revenueChange:"+22.8%",disbursementChange:"+18.5%",customerChange:"+12.3%",ticketChange:"+5.2%"},products:[{name:"Short-Term Loan",value:22,color:"#16a34a",percentage:"22%"},{name:"Personal Loan",value:34,color:"#2563eb",percentage:"34%"},{name:"Home Loan",value:29,color:"#7c3aed",percentage:"29%"},{name:"Business Loan",value:15,color:"#f59e0b",percentage:"15%"}]},custom:{revenue:[{month:"Period 1",value:60,label:"‚Çπ60 Cr"},{month:"Period 2",value:75,label:"‚Çπ75 Cr"},{month:"Period 3",value:85,label:"‚Çπ85 Cr"},{month:"Period 4",value:90,label:"‚Çπ90 Cr"}],metrics:{totalRevenue:"‚Çπ310 Cr",totalDisbursements:"‚Çπ232 Cr",activeCustomers:"11,200",avgTicketSize:"‚Çπ3.0 L",revenueChange:"+19.5%",disbursementChange:"+16.8%",customerChange:"+10.2%",ticketChange:"+4.5%"},products:[{name:"Short-Term Loan",value:24,color:"#16a34a",percentage:"24%"},{name:"Personal Loan",value:31,color:"#2563eb",percentage:"31%"},{name:"Home Loan",value:27,color:"#7c3aed",percentage:"27%"},{name:"Business Loan",value:18,color:"#f59e0b",percentage:"18%"}]}};xe.useEffect(()=>{b(!1),setTimeout(()=>b(!0),100)},[n]),xe.useEffect(()=>{const be=async()=>{I(!0),te(null);const Q=localStorage.getItem("access_token")||"",q={"Content-Type":"application/json",...Q&&{Authorization:`Bearer ${Q}`}};try{const[He,Me,Ae,Te,Oe,me,ke]=await Promise.allSettled([fetch(`${zr}/api/admin/reports/analytics?dateRange=${n}`,{headers:q}),fetch(`${zr}/api/admin/reports/loan-distribution`,{headers:q}),fetch(`${zr}/api/admin/reports/insurance-distribution`,{headers:q}),fetch(`${zr}/api/admin/reports/investment-overview`,{headers:q}),fetch(`${zr}/api/admin/reports/tax-planning-overview`,{headers:q}),fetch(`${zr}/api/admin/reports/categories`,{headers:q}),fetch(`${zr}/api/admin/reports/recent`,{headers:q})]);if(He.status==="fulfilled"&&He.value.ok){const _e=await He.value.json(),Ee=_e.data||_e;S({revenue:Ee.revenue||H[n].revenue,metrics:Ee.metrics||H[n].metrics,products:Ee.products||H[n].products})}else S(H[n]);if(Me.status==="fulfilled"&&Me.value.ok){const _e=await Me.value.json();X(_e)}if(Ae.status==="fulfilled"&&Ae.value.ok){const _e=await Ae.value.json();ue(_e)}if(Te.status==="fulfilled"&&Te.value.ok){const _e=await Te.value.json();de(_e)}if(Oe.status==="fulfilled"&&Oe.value.ok){const _e=await Oe.value.json();ie(_e)}if(me.status==="fulfilled"&&me.value.ok){const _e=await me.value.json();f(_e.categories||[])}if(ke.status==="fulfilled"&&ke.value.ok){const _e=await ke.value.json();D(_e.reports||[])}E(new Date),te(null)}catch(He){console.error("Error fetching analytics data:",He),te("Failed to load analytics data. Using cached data."),S(H[n])}finally{I(!1)}};be();const we=setInterval(be,k*1e3);return()=>clearInterval(we)},[n,k]);const W=()=>{i(!0),setTimeout(()=>{G(),i(!1)},1e3)},G=()=>{const be=V(),we=new Blob([be],{type:"text/csv;charset=utf-8;"}),Q=document.createElement("a"),q=URL.createObjectURL(we);Q.setAttribute("href",q),Q.setAttribute("download",`reports_export_${new Date().toISOString().split("T")[0]}.csv`),Q.style.visibility="hidden",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},V=()=>{if(!T||!L)return`Date,Metric,Value
`+new Date().toISOString()+",Status,No data available";const be=["Metric","Value"],we=[["Generated",new Date().toLocaleString()],["Date Range",n],[],["ANALYTICS METRICS",""],["Total Revenue",T?.metrics?.totalRevenue||"N/A"],["Total Disbursements",T?.metrics?.totalDisbursements||"N/A"],["Active Customers",T?.metrics?.activeCustomers||"N/A"],["Average Ticket Size",T?.metrics?.avgTicketSize||"N/A"],[],["LOAN DISTRIBUTION",""]];return L?.loans&&(L.loans.forEach(q=>{we.push([q.type,`${q.percentage}% (${q.amount})`])}),we.push(["Total Disbursed",L.totalDisbursed||"N/A"])),we.push([],["INSURANCE DISTRIBUTION",""]),re?.insurance&&(re.insurance.forEach(q=>{we.push([`${q.type} Insurance`,`${q.percentage}% (${q.count} policies)`])}),we.push(["Total Policies",re.totalPolicies||"N/A"])),[be,...we].map(q=>q.map(He=>`"${He}"`).join(",")).join(`
`)},j=be=>{const we=new Qe;let Q=20;const q=7,He=we.internal.pageSize.getWidth(),Me=we.internal.pageSize.getHeight(),Ae=15;return we.setFontSize(16),we.setTextColor(0,0,0),we.text(`${be} Report`,Ae,Q),Q+=q+5,we.setFontSize(10),we.setTextColor(100,100,100),we.text(`Generated on: ${new Date().toLocaleString()}`,Ae,Q),we.text(`Period: ${n}`,He-Ae-50,Q),Q+=q+10,T?.metrics&&(we.setFontSize(12),we.setTextColor(0,0,0),we.text("Key Metrics",Ae,Q),Q+=q+3,we.setFontSize(10),[["Total Revenue",T.metrics.totalRevenue],["Total Disbursements",T.metrics.totalDisbursements],["Active Customers",T.metrics.activeCustomers],["Average Ticket Size",T.metrics.avgTicketSize]].forEach(([Oe,me])=>{Q>Me-Ae&&(we.addPage(),Q=Ae),we.text(`${Oe}: ${me}`,Ae+5,Q),Q+=q}),Q+=5),L?.loans&&(Q>Me-Ae&&(we.addPage(),Q=Ae),we.setFontSize(12),we.setTextColor(0,0,0),we.text("Loan Distribution",Ae,Q),Q+=q+3,we.setFontSize(10),L.loans.forEach(Te=>{Q>Me-Ae&&(we.addPage(),Q=Ae),we.text(`${Te.type}: ${Te.percentage}% (${Te.amount})`,Ae+5,Q),Q+=q}),we.text(`Total Disbursed: ${L.totalDisbursed}`,Ae+5,Q),Q+=q+5),re?.insurance&&(Q>Me-Ae&&(we.addPage(),Q=Ae),we.setFontSize(12),we.setTextColor(0,0,0),we.text("Insurance Distribution",Ae,Q),Q+=q+3,we.setFontSize(10),re.insurance.forEach(Te=>{Q>Me-Ae&&(we.addPage(),Q=Ae),we.text(`${Te.type}: ${Te.percentage}% (${Te.count} policies)`,Ae+5,Q),Q+=q}),we.text(`Total Policies: ${re.totalPolicies}`,Ae+5,Q)),we},F=(be,we="pdf")=>{let Q=be.replace(/\s+/g,"_").toLowerCase();if(we==="csv"){const q=V(),He=new Blob([q],{type:"text/csv;charset=utf-8;"}),Me=document.createElement("a"),Ae=URL.createObjectURL(He);Me.setAttribute("href",Ae),Me.setAttribute("download",`${Q}_${new Date().toISOString().split("T")[0]}.csv`),Me.style.visibility="hidden",document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),alert(`${be} downloaded as CSV successfully! ‚úÖ`)}else if(we==="pdf")j(be).save(`${Q}_${new Date().toISOString().split("T")[0]}.pdf`),alert(`${be} downloaded as PDF successfully! ‚úÖ`);else if(we==="excel"){const q=V(),He=new Blob([q],{type:"application/vnd.ms-excel"}),Me=document.createElement("a"),Ae=URL.createObjectURL(He);Me.setAttribute("href",Ae),Me.setAttribute("download",`${Q}_${new Date().toISOString().split("T")[0]}.xlsx`),Me.style.visibility="hidden",document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),alert(`${be} downloaded as Excel successfully! ‚úÖ`)}},O=be=>{m(!0),o(be),fetch(`${zr}/api/admin/reports/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportName:be,dateRange:n,format:"pdf"})}).then(we=>we.json()).then(we=>{we.status==="success"?(alert(`Report "${be}" generated successfully! ‚úÖ`),F(be,"pdf")):alert(`Failed to generate report: ${we.message}`)}).catch(we=>{console.error("Error generating report:",we),alert("Error generating report")}).finally(()=>{m(!1),o(null)})},K=T||H[n]||H["30days"];K?.revenue,K?.products;const ee=K?.metrics||{};ee.totalRevenue,ee.revenueChange,ee.totalDisbursements,ee.disbursementChange,ee.activeCustomers,ee.customerChange,ee.avgTicketSize,ee.ticketChange;const J=L?.loans||[{type:"Short-Term Loan",percentage:23,amount:"‚Çπ10.4Cr",color:"bg-green-500"},{type:"Personal Loan",percentage:34,amount:"‚Çπ15.3Cr",color:"bg-blue-500"},{type:"Home Loan",percentage:29,amount:"‚Çπ13.1Cr",color:"bg-purple-500"},{type:"Business Loan",percentage:14,amount:"‚Çπ6.3Cr",color:"bg-yellow-500"}],ne=re?.insurance||[{type:"Health",count:5200,percentage:45,color:"#10b981"},{type:"Motor",count:2800,percentage:30,color:"#3b82f6"},{type:"Term",count:2100,percentage:25,color:"#f59e0b"}],se=ve?.investments||[{name:"Mutual Funds",value:"‚Çπ125.4 Cr",growth:"+18.5%",color:"text-indigo-600"},{name:"SIP Portfolio",value:"‚Çπ89.2 Cr",growth:"+22.3%",color:"text-purple-600"}],Ne=$?.taxPlanning||[{name:"Personal Tax Planning",value:"‚Çπ45.8 Cr",growth:"+15.2%",color:"text-orange-600"},{name:"Business Tax Strategy",value:"‚Çπ68.3 Cr",growth:"+19.7%",color:"text-amber-600"}],Ce=L?.totalDisbursed||"‚Çπ45.1 Cr",De=re?.totalPolicies||10100;return Z&&Z.length>0,e.jsxs("div",{className:"w-full bg-gray-50 min-h-screen p-3 sm:p-4 md:p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg sm:rounded-xl p-4 sm:p-6 border-2 border-green-200 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Analyze business metrics and generate reports"}),M&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[e.jsx("span",{children:"Last updated:"}),e.jsx("span",{className:"font-semibold",children:M.toLocaleTimeString()})]})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>{I(!0),setTimeout(()=>{const be=n;s(""),setTimeout(()=>s(be),100)},500)},disabled:g,className:"px-4 sm:px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 active:scale-95 flex items-center justify-center gap-2 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",title:"Refresh real-time data",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:"Refresh"})]})}),e.jsx("button",{onClick:W,disabled:r||g,className:"px-4 sm:px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 active:scale-95 flex items-center justify-center gap-2 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Exporting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),e.jsx("span",{children:"Export"})]})})]})]}),z&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-sm text-red-700",children:z})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6",children:Z.map((be,we)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all p-4 sm:p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${be.gradient} rounded-lg flex items-center justify-center text-white flex-shrink-0`,children:be.icon}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:be.name})]}),e.jsx("div",{className:"space-y-2",children:be.reports.map((Q,q)=>e.jsxs("button",{onClick:()=>O(Q),disabled:c&&l===Q,className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[e.jsx("span",{className:"text-gray-700 font-medium text-left truncate",children:Q}),c&&l===Q?e.jsxs("svg",{className:"animate-spin w-4 h-4 text-green-600 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-green-600 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})]},q))})]},we))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4",children:"Loan Distribution"}),e.jsx("div",{className:"space-y-3",children:J.map((be,we)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${be.color}`}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:be.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:be.amount}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[be.percentage,"%"]})]})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`absolute inset-y-0 left-0 ${be.color} rounded-full transition-all duration-700`,style:{width:`${be.percentage}%`}})})]},we))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Disbursed"}),e.jsx("span",{className:"text-base font-bold text-green-700",children:Ce})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4",children:"Insurance Distribution"}),e.jsx("div",{className:"space-y-3",children:ne.map((be,we)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:be.color}}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:be.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:be.count?.toLocaleString()||"0"}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:[be.percentage,"%"]})]})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-700",style:{width:`${be.percentage}%`,backgroundColor:be.color}})})]},we))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Policies"}),e.jsx("span",{className:"text-base font-bold text-blue-700",children:De.toLocaleString()})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4",children:"Investment Distribution"}),e.jsx("div",{className:"space-y-3",children:se.map((be,we)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${we===0?"bg-indigo-500":"bg-purple-500"}`}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:be.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:be.value}),e.jsx("p",{className:"text-[10px] text-green-600 font-semibold",children:be.growth})]})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`absolute inset-y-0 left-0 rounded-full transition-all duration-700 ${we===0?"bg-indigo-500":"bg-purple-500"}`,style:{width:`${we===0?"58":"42"}%`}})})]},we))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Investments"}),e.jsx("span",{className:"text-base font-bold text-indigo-700",children:"‚Çπ214.6 Cr"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4",children:"Tax Planning Distribution"}),e.jsx("div",{className:"space-y-3",children:Ne.map((be,we)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${we===0?"bg-orange-500":"bg-amber-500"}`}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:be.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:be.value}),e.jsx("p",{className:"text-[10px] text-green-600 font-semibold",children:be.growth})]})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`absolute inset-y-0 left-0 rounded-full transition-all duration-700 ${we===0?"bg-orange-500":"bg-amber-500"}`,style:{width:`${we===0?"40":"60"}%`}})})]},we))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Tax Planning"}),e.jsx("span",{className:"text-base font-bold text-orange-700",children:"‚Çπ114.1 Cr"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Retail Services Distribution"]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"File Your ITR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ12.8Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"14%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-cyan-600 rounded-full transition-all duration-700",style:{width:"14%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Revise Your ITR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ8.4Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"9%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-cyan-500 rounded-full transition-all duration-700",style:{width:"9%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Reply to ITR Notice"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ6.2Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"7%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-cyan-400 rounded-full transition-all duration-700",style:{width:"7%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-teal-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Apply for Individual PAN"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ10.5Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"12%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-teal-600 rounded-full transition-all duration-700",style:{width:"12%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-teal-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Apply for HUF PAN"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ5.7Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"6%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-teal-500 rounded-full transition-all duration-700",style:{width:"6%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Withdraw Your PF"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ15.2Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"17%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-blue-600 rounded-full transition-all duration-700",style:{width:"17%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Update Aadhaar/PAN"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ7.9Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"9%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-blue-500 rounded-full transition-all duration-700",style:{width:"9%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-indigo-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Online Trading & Demat"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ11.3Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"13%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-600 rounded-full transition-all duration-700",style:{width:"13%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Bank Account Services"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ9.6Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"11%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-600 rounded-full transition-all duration-700",style:{width:"11%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-pink-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Financial Planning"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ3.8Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"2%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-pink-600 rounded-full transition-all duration-700",style:{width:"2%"}})})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Revenue"}),e.jsx("span",{className:"text-base font-bold text-cyan-700",children:"‚Çπ91.4 Cr"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-5",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Corporate Services Distribution"]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-rose-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Register New Company"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ48.5Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"13%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-rose-600 rounded-full transition-all duration-700",style:{width:"13%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-rose-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Compliance for Company"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ42.3Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"12%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-rose-500 rounded-full transition-all duration-700",style:{width:"12%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Tax Audit"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ38.7Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"11%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-red-600 rounded-full transition-all duration-700",style:{width:"11%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Legal Advice"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ51.2Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"14%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-orange-600 rounded-full transition-all duration-700",style:{width:"14%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Provident Fund Services"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ36.1Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"10%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-amber-600 rounded-full transition-all duration-700",style:{width:"10%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"TDS-Related Services"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ43.8Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"12%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-yellow-600 rounded-full transition-all duration-700",style:{width:"12%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-lime-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"GST-Related Services"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ47.9Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"13%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-lime-600 rounded-full transition-all duration-700",style:{width:"13%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Payroll Services"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ32.4Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"9%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-green-600 rounded-full transition-all duration-700",style:{width:"9%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Accounting & Bookkeeping"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"‚Çπ20.3Cr"}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"6%"})]})]}),e.jsx("div",{className:"relative h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-emerald-600 rounded-full transition-all duration-700",style:{width:"6%"}})})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Revenue"}),e.jsx("span",{className:"text-base font-bold text-rose-700",children:"‚Çπ361.2 Cr"})]})})]})]})]})},dh=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}}),uh=async n=>{try{return(await Dd.post("http://127.0.0.1:8000/api/auth/change-password",{currentPassword:n.currentPassword,newPassword:n.newPassword,confirmPassword:n.confirmPassword},dh())).data}catch(s){throw console.error("Error changing password:",s),s.response?.data||s}},hh=()=>{const[n,s]=xe.useState("general"),[r,i]=xe.useState(!1),[l,o]=xe.useState(!1),[c,m]=xe.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,b]=xe.useState(!1),[v,y]=xe.useState(!1),[k,x]=xe.useState(!1),[M,E]=xe.useState(""),[T,S]=xe.useState(""),[L,X]=xe.useState({companyName:"Cashper",supportEmail:"info@cashper.ai",supportPhone:"6200755759 <br/> 7393080847",businessAddress:"123 Business Park, Mumbai, Maharashtra, India - 400001",openingTime:"09:00",closingTime:"18:00",twoFactorEnabled:!1,notifications:{newUserRegistration:!0,loanApplications:!0,insuranceClaims:!0,systemUpdates:!0,paymentConfirmations:!0,reportGeneration:!1}}),re=()=>{i(!0),setTimeout(()=>{i(!1),alert("Settings saved successfully! ‚úÖ")},1500)},ue=Z=>{X({...L,notifications:{...L.notifications,[Z]:!L.notifications[Z]}})},ve=Z=>{const f=Z.length>=8,_=/[A-Z]/.test(Z),D=/[a-z]/.test(Z),g=/[0-9]/.test(Z),I=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Z);return{minLength:f,hasUpperCase:_,hasLowerCase:D,hasNumber:g,hasSpecialChar:I,isValid:f&&_&&D&&g&&I}},de=async Z=>{if(Z.preventDefault(),E(""),S(""),!c.currentPassword){E("Current password is required");return}if(!c.newPassword){E("New password is required");return}if(c.newPassword!==c.confirmPassword){E("New passwords do not match");return}if(c.currentPassword===c.newPassword){E("New password must be different from current password");return}if(!ve(c.newPassword).isValid){E("Password does not meet all requirements");return}try{o(!0);const _=await uh({currentPassword:c.currentPassword,newPassword:c.newPassword,confirmPassword:c.confirmPassword});S("‚úÖ Password updated successfully!"),m({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>S(""),3e3)}catch(_){console.error("Password change error:",_),E(_?.detail||_?.message||"Failed to update password. Please try again.")}finally{o(!1)}},$=Z=>{const{name:f,value:_}=Z.target;m({...c,[f]:_}),E("")},ie=[{id:"general",name:"General"},{id:"security",name:"Security"},{id:"notifications",name:"Notifications"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Admin Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage system settings and configurations"})]}),n==="general"&&e.jsx("button",{onClick:re,disabled:r,className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95 flex items-center justify-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save All Changes"]})})]}),e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-2",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(Z=>e.jsx("button",{onClick:()=>s(Z.id),className:`flex items-center space-x-1.5 sm:space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-sm md:text-base transition-all duration-300 active:scale-95 ${n===Z.id?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:e.jsx("span",{children:Z.name})},Z.id))})}),n==="general"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Company Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:L.companyName,onChange:Z=>X({...L,companyName:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Support Email"}),e.jsx("input",{type:"email",value:L.supportEmail,onChange:Z=>X({...L,supportEmail:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Support Phone"}),e.jsx("input",{type:"tel",value:L.supportPhone,onChange:Z=>X({...L,supportPhone:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Business Address"}),e.jsx("textarea",{rows:"3",value:L.businessAddress,onChange:Z=>X({...L,businessAddress:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Business Hours"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Opening Time"}),e.jsx("input",{type:"time",value:L.openingTime,onChange:Z=>X({...L,openingTime:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Closing Time"}),e.jsx("input",{type:"time",value:L.closingTime,onChange:Z=>X({...L,closingTime:Z.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]})]}),e.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[e.jsx("span",{className:"font-bold",children:"Note:"})," These hours will be displayed to customers on your public website and used for support availability."]})})]})]}),n==="security"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Password & Authentication"]}),e.jsxs("div",{className:"space-y-4",children:[M&&e.jsx("div",{className:"p-3 sm:p-4 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("span",{className:"font-bold",children:"‚úó Error:"})," ",M]})}),T&&e.jsx("div",{className:"p-3 sm:p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("span",{className:"font-bold",children:"Success:"})," ",T]})}),e.jsx("form",{onSubmit:de,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"currentPassword",value:c.currentPassword,onChange:$,placeholder:"Enter current password",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all pr-10"}),e.jsx("button",{type:"button",onClick:()=>b(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:u?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v?"text":"password",name:"newPassword",value:c.newPassword,onChange:$,placeholder:"Enter new password",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all pr-10"}),e.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:v?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Password must contain:"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-0.5 pl-4",children:[e.jsxs("li",{className:ve(c.newPassword).minLength?"text-green-600":"",children:[ve(c.newPassword).minLength?"‚úì":"‚óã"," At least 8 characters"]}),e.jsxs("li",{className:ve(c.newPassword).hasUpperCase?"text-green-600":"",children:[ve(c.newPassword).hasUpperCase?"‚úì":"‚óã"," At least one uppercase letter"]}),e.jsxs("li",{className:ve(c.newPassword).hasNumber?"text-green-600":"",children:[ve(c.newPassword).hasNumber?"‚úì":"‚óã"," At least one number"]}),e.jsxs("li",{className:ve(c.newPassword).hasSpecialChar?"text-green-600":"",children:[ve(c.newPassword).hasSpecialChar?"‚úì":"‚óã"," At least one special character"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:k?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:$,placeholder:"Confirm new password",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all pr-10"}),e.jsx("button",{type:"button",onClick:()=>x(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:k?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c.newPassword&&c.confirmPassword&&e.jsx("p",{className:`mt-1 text-xs ${c.newPassword===c.confirmPassword?"text-green-600":"text-red-600"}`,children:c.newPassword===c.confirmPassword?"‚úì Passwords match":"‚úó Passwords do not match"})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold text-sm sm:text-base shadow-lg hover:shadow-xl transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Update Password"]})})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Two-Factor Authentication"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border-2 border-green-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900",children:"Enable 2FA"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Add an extra layer of security to your account with two-factor authentication"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:L.twoFactorEnabled,onChange:()=>X({...L,twoFactorEnabled:!L.twoFactorEnabled}),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-600"})]})]}),L.twoFactorEnabled&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-bold",children:"‚úì 2FA Enabled"})," - You'll need to verify your identity with a code sent to your phone or email when logging in."]})})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Login Activity"]}),e.jsx("div",{className:"space-y-3",children:[{device:"Windows PC",location:"Mumbai, India",time:"2 hours ago",current:!0,icon:"üíª"},{device:"iPhone 13",location:"Delhi, India",time:"1 day ago",current:!1,icon:"üì±"},{device:"MacBook Pro",location:"Bangalore, India",time:"3 days ago",current:!1,icon:"üíª"}].map((Z,f)=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md flex-shrink-0",children:e.jsx("span",{className:"text-lg sm:text-xl",children:Z.icon})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900",children:Z.device}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[Z.location," ‚Ä¢ ",Z.time]})]})]}),Z.current?e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold border border-green-300",children:"Current Session"}):e.jsx("button",{className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg font-semibold text-xs transition-all active:scale-95",children:"Revoke Access"})]},f))})]})]}),n==="notifications"&&e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notification Preferences"]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"newUserRegistration",title:"New User Registration",description:"Get notified when a new user registers",icon:"üë§"},{key:"loanApplications",title:"Loan Applications",description:"Alerts for new loan applications",icon:"üí∞"},{key:"insuranceClaims",title:"Insurance Claims",description:"Notifications for new insurance claims",icon:"üõ°Ô∏è"},{key:"systemUpdates",title:"System Updates",description:"Important system maintenance updates",icon:"‚öôÔ∏è"},{key:"paymentConfirmations",title:"Payment Confirmations",description:"Notifications for successful payments",icon:"‚úÖ"},{key:"reportGeneration",title:"Report Generation",description:"Alerts when reports are ready",icon:"üìä"}].map(Z=>e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("span",{className:"text-xl sm:text-2xl flex-shrink-0",children:Z.icon}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900 truncate",children:Z.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 sm:mt-1",children:Z.description})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0 ml-2",children:[e.jsx("input",{type:"checkbox",checked:L.notifications[Z.key],onChange:()=>ue(Z.key),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 sm:w-14 sm:h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 sm:after:h-6 sm:after:w-6 after:transition-all peer-checked:bg-green-600"})]})]},Z.key))}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:re,disabled:r,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Saving...":"Save Notification Settings"}),e.jsx("button",{className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95",children:"Reset to Defaults"})]})]})]})},mh=()=>{const[n,s]=xe.useState([]),[r,i]=xe.useState(null),[l,o]=xe.useState(!1),[c,m]=xe.useState(null),[u,b]=xe.useState(!1),[v,y]=xe.useState(!1),[k,x]=xe.useState(null),[M,E]=xe.useState({type:"",priority:"",isActive:!0}),[T,S]=xe.useState(!1),[L,X]=xe.useState({title:"",message:"",type:"info",priority:"normal",link:"",expiresAt:""});xe.useEffect(()=>{re(),ue()},[M]);const re=async()=>{o(!0),m(null);try{const f=await Ad(M);s(f||[])}catch(f){m(f.message)}finally{o(!1)}},ue=async()=>{try{const f=await kd();i(f.stats)}catch(f){console.error("Error fetching stats:",f)}},ve=async f=>{f.preventDefault(),o(!0);try{const _={title:L.title,message:L.message,type:L.type,priority:L.priority,link:L.link||null,expiresAt:L.expiresAt?new Date(L.expiresAt).toISOString():null};T?(await Pd(_),alert("Notification sent to all users successfully!")):(await _d(_),alert("Notification created successfully!")),X({title:"",message:"",type:"info",priority:"normal",link:"",expiresAt:""}),S(!1),b(!1),re(),ue()}catch(_){alert("Error creating notification: "+_.message)}finally{o(!1)}},de=async f=>{f.preventDefault(),o(!0);try{const _={title:L.title,message:L.message,type:L.type,priority:L.priority,link:L.link||null,expiresAt:L.expiresAt?new Date(L.expiresAt).toISOString():null};await Id(k.id,_),y(!1),x(null),re(),alert("Notification updated successfully!")}catch(_){alert("Error updating notification: "+_.message)}finally{o(!1)}},$=async f=>{if(confirm("Are you sure you want to delete this notification?"))try{await Cd(f,!1),re(),ue(),alert("Notification deleted successfully!")}catch(_){alert("Error deleting notification: "+_.message)}},ie=f=>{x(f),X({title:f.title,message:f.message,type:f.type,priority:f.priority,link:f.link||"",expiresAt:f.expiresAt?new Date(f.expiresAt).toISOString().slice(0,16):""}),y(!0)},Z=f=>{switch(f){case"success":return e.jsx(dt,{size:20,className:"text-green-500"});case"error":case"alert":return e.jsx(hs,{size:20,className:"text-red-500"});case"warning":return e.jsx(Td,{size:20,className:"text-yellow-500"});default:return e.jsx(Sd,{size:20,className:"text-blue-500"})}};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[e.jsx(Qo,{size:32})," Notification Management"]}),e.jsx("p",{className:"text-gray-600",children:"Create and manage notifications for users"})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors",onClick:()=>b(!0),children:[e.jsx(Wl,{size:20}),"Create Notification"]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Total Notifications"}),e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:r.total})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Active"}),e.jsx("p",{className:"text-4xl font-bold text-green-500",children:r.active})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"Inactive"}),e.jsx("p",{className:"text-4xl font-bold text-gray-400",children:r.inactive})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide mb-3",children:"By Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r.byType||{}).map(([f,_])=>e.jsxs("span",{className:"bg-gray-100 px-3 py-1 rounded-md text-sm text-gray-700 font-medium",children:[f,": ",_]},f))})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm mb-6 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(el,{size:16})," Type:"]}),e.jsxs("select",{value:M.type,onChange:f=>E({...M,type:f.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"}),e.jsx("option",{value:"alert",children:"Alert"}),e.jsx("option",{value:"announcement",children:"Announcement"}),e.jsx("option",{value:"update",children:"Update"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Priority:"}),e.jsxs("select",{value:M.priority,onChange:f=>E({...M,priority:f.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Status:"}),e.jsxs("select",{value:M.isActive,onChange:f=>E({...M,isActive:f.target.value==="true"}),className:"px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 bg-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l?e.jsx("div",{className:"flex flex-col items-center justify-center py-16 text-gray-600",children:"Loading..."}):c?e.jsx("div",{className:"flex flex-col items-center justify-center py-16 text-red-500",children:c}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-600",children:[e.jsx(Qo,{size:64,className:"text-gray-300 mb-4"}),e.jsx("p",{children:"No notifications found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Type"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Title"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Message"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Priority"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Created"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Status"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(f=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0",children:[e.jsx("td",{className:"px-4 py-4",children:Z(f.type)}),e.jsx("td",{className:"px-4 py-4 font-semibold text-gray-900 max-w-[250px] truncate",children:f.title}),e.jsxs("td",{className:"px-4 py-4 text-gray-600 text-sm max-w-[300px] truncate",children:[f.message.substring(0,60),f.message.length>60&&"..."]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-md text-xs font-semibold uppercase ${f.priority==="urgent"?"bg-red-100 text-red-700":f.priority==="high"?"bg-yellow-100 text-yellow-700":f.priority==="normal"?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"}`,children:f.priority})}),e.jsx("td",{className:"px-4 py-4 text-gray-600 text-sm",children:new Date(f.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-md text-xs font-semibold ${f.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:f.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 text-blue-500 hover:bg-blue-50 rounded-md transition-colors",onClick:()=>ie(f),title:"Edit",children:e.jsx(Mo,{size:16})}),e.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-md transition-colors",onClick:()=>$(f.id),title:"Delete",children:e.jsx(Ld,{size:16})})]})})]},f.id))})]})})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-5",onClick:()=>{b(!1),S(!1)},children:e.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx(Wl,{size:24})," Create Notification"]}),e.jsxs("form",{onSubmit:ve,children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:L.title,onChange:f=>X({...L,title:f.target.value}),required:!0,minLength:3,maxLength:200,placeholder:"Enter notification title",className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{value:L.message,onChange:f=>X({...L,message:f.target.value}),required:!0,minLength:10,maxLength:1e3,rows:4,placeholder:"Enter notification message",className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors resize-y"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),e.jsxs("select",{value:L.type,onChange:f=>X({...L,type:f.target.value}),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"}),e.jsx("option",{value:"alert",children:"Alert"}),e.jsx("option",{value:"announcement",children:"Announcement"}),e.jsx("option",{value:"update",children:"Update"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority *"}),e.jsxs("select",{value:L.priority,onChange:f=>X({...L,priority:f.target.value}),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Link (Optional)"}),e.jsx("input",{type:"text",value:L.link,onChange:f=>X({...L,link:f.target.value}),placeholder:"/path or https://example.com",className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expires At (Optional)"}),e.jsx("input",{type:"datetime-local",value:L.expiresAt,onChange:f=>X({...L,expiresAt:f.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"sendToAllUsers",checked:T,onChange:f=>S(f.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"sendToAllUsers",className:"flex items-center gap-2 text-sm font-medium text-gray-700 cursor-pointer",children:[e.jsx(cr,{size:18}),"Send to All Users"]})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-8",children:[e.jsx("button",{type:"button",className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-200 transition-colors",onClick:()=>{b(!1),S(!1)},children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:l,children:[e.jsx(zd,{size:16}),l?"Creating...":"Create Notification"]})]})]})]})}),v&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-5",onClick:()=>y(!1),children:e.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx(Mo,{size:24})," Edit Notification"]}),e.jsxs("form",{onSubmit:de,children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:L.title,onChange:f=>X({...L,title:f.target.value}),required:!0,minLength:3,maxLength:200,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{value:L.message,onChange:f=>X({...L,message:f.target.value}),required:!0,minLength:10,maxLength:1e3,rows:4,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors resize-y"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),e.jsxs("select",{value:L.type,onChange:f=>X({...L,type:f.target.value}),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"}),e.jsx("option",{value:"alert",children:"Alert"}),e.jsx("option",{value:"announcement",children:"Announcement"}),e.jsx("option",{value:"update",children:"Update"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority *"}),e.jsxs("select",{value:L.priority,onChange:f=>X({...L,priority:f.target.value}),required:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Link (Optional)"}),e.jsx("input",{type:"text",value:L.link,onChange:f=>X({...L,link:f.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expires At (Optional)"}),e.jsx("input",{type:"datetime-local",value:L.expiresAt,onChange:f=>X({...L,expiresAt:f.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-8",children:[e.jsx("button",{type:"button",className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-200 transition-colors",onClick:()=>y(!1),children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:l,children:[e.jsx(Mo,{size:16}),l?"Updating...":"Update Notification"]})]})]})]})})]})},xh=()=>{const[n,s]=xe.useState([]),[r,i]=xe.useState(!1),[l,o]=xe.useState(null),[c,m]=xe.useState(!1),[u,b]=xe.useState(""),[v,y]=xe.useState("all"),[k,x]=xe.useState("all"),[M,E]=xe.useState(1),[T,S]=xe.useState({total:0,pending:0,confirmed:0,completed:0}),L=8;xe.useEffect(()=>{X()},[]);const X=async()=>{i(!0);try{const D=localStorage.getItem("access_token");if(!D){console.error("No token found in localStorage. User may not be logged in."),i(!1);return}const g={Authorization:`Bearer ${D}`,"Content-Type":"application/json"};console.log("Fetching with token:",D.substring(0,20)+"...");const I=await fetch("http://localhost:8000/api/admin/inquiries/all",{headers:g});let z=[];I.ok?z=(await I.json()).data||[]:console.error("Failed to fetch inquiries:",I.status,I.statusText);try{const H=await fetch("http://localhost:8000/api/contact/submissions?skip=0&limit=100",{headers:g});if(H.ok){const G=(await H.json()).data||[];console.log("Fetched contact submissions:",G.length),G.forEach(V=>{z.find(j=>j.id===V.id)||z.push({id:V.id,_id:V.id,name:V.name||"N/A",email:V.email||"N/A",phone:V.phone||"N/A",income:"N/A",amount:"N/A",status:(V.status||"pending").toLowerCase(),createdAt:V.createdAt,message:V.message,subject:V.subject,type:"Contact Form",productType:"Contact Form"})})}else{console.error("Failed to fetch contact submissions:",H.status,H.statusText);const W=await H.json().catch(()=>({}));console.error("Error details:",W)}}catch(H){console.warn("Error fetching contact submissions:",H)}try{const H=await fetch("http://localhost:8000/api/personal-tax/consultation/all?skip=0&limit=100",{headers:g});if(H.ok){const W=await H.json(),G=Array.isArray(W)?W:W.data||[];console.log("Fetched personal tax consultations:",G.length),G.forEach(V=>{z.find(j=>j.id===String(V._id))||z.push({id:String(V._id),_id:String(V._id),name:V.name||"N/A",email:V.email||"N/A",phone:V.phone||"N/A",income:V.income||"N/A",amount:V.income||"N/A",status:(V.status||"pending").toLowerCase(),createdAt:V.createdAt,message:`Income Range: ${V.income||"N/A"}, Tax Regime: ${V.taxRegime||"N/A"}`,type:"Personal Tax Planning",productType:"Personal Tax Planning"})})}else console.error("Failed to fetch personal tax consultations:",H.status,H.statusText)}catch(H){console.warn("Error fetching personal tax consultations:",H)}try{const H=await fetch("http://localhost:8000/api/business-tax/consultation/all?skip=0&limit=100",{headers:g});if(H.ok){const W=await H.json(),G=Array.isArray(W)?W:W.data||[];console.log("Fetched business tax consultations:",G.length),G.forEach(V=>{z.find(j=>j.id===String(V._id))||z.push({id:String(V._id),_id:String(V._id),name:V.ownerName||"N/A",email:V.email||"N/A",phone:V.phone||"N/A",income:V.annualTurnover||"N/A",amount:V.annualTurnover||"N/A",status:(V.status||"pending").toLowerCase(),createdAt:V.createdAt,message:`Business: ${V.businessName||"N/A"}, Type: ${V.businessType||"N/A"}, Turnover: ${V.annualTurnover||"N/A"}`,type:"Business Tax Strategy",productType:"Business Tax Strategy"})})}else console.error("Failed to fetch business tax consultations:",H.status,H.statusText)}catch(H){console.warn("Error fetching business tax consultations:",H)}console.log("Fetched inquiries:",z),console.log("Total count:",z.length);const te=z.map(H=>({id:H.id||H._id,_id:H.id||H._id,name:H.name||"N/A",email:H.email||"N/A",phone:H.phone||"N/A",income:H.amount||H.loan_amount||H.insurance_amount||"N/A",status:(H.status||"pending").toLowerCase(),createdAt:H.createdAt||H.created_at||new Date().toISOString(),message:H.message||H.description||"",subject:H.subject||"",type:H.type||H.productType||"Contact Form",productType:H.type||H.productType||"Contact Form"}));console.log("Formatted inquiries:",te),console.log("Status breakdown:",{total:te.length,pending:te.filter(H=>H.status==="pending").length,confirmed:te.filter(H=>H.status==="confirmed").length,completed:te.filter(H=>H.status==="completed").length}),s(te),re(te)}catch(D){console.error("Error fetching inquiries:",D)}finally{i(!1)}},re=D=>{const g=D.filter(te=>te.status==="pending").length,I=D.filter(te=>te.status==="confirmed").length,z=D.filter(te=>te.status==="completed").length;S({total:g+I+z,pending:g,confirmed:I,completed:z})},ue=n.filter(D=>{const g=D.name.toLowerCase().includes(u.toLowerCase())||D.email.toLowerCase().includes(u.toLowerCase())||D.phone.includes(u),I=v==="all"||D.status===v,z=k==="all"||D.productType===k;return g&&I&&z}),ve=Math.ceil(ue.length/L),de=(M-1)*L,$=ue.slice(de,de+L),ie=D=>{const g={pending:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-600"},confirmed:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-600"},completed:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:"text-green-600"},in_progress:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",icon:"text-indigo-600"},resolved:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:"text-green-600"},closed:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"text-gray-600"},cancelled:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:"text-red-600"}};return g[D]||g.pending},Z=D=>{switch(D){case"pending":return e.jsx(ls,{className:"w-4 h-4"});case"confirmed":return e.jsx(dt,{className:"w-4 h-4"});case"completed":return e.jsx(dt,{className:"w-4 h-4"});case"cancelled":return e.jsx(St,{className:"w-4 h-4"});default:return e.jsx(hs,{className:"w-4 h-4"})}},f=D=>D?new Date(D).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_=async(D,g)=>{try{const I=localStorage.getItem("access_token"),z=n.find(W=>W.id===D);if(!z){console.error("Consultation not found");return}const te=z.productType||z.type||"Contact Form",H=await fetch("http://localhost:8000/api/admin/inquiries/"+D+"/status",{method:"PATCH",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({status:g,inquiry_type:te})});if(H.ok){const W=await H.json();console.log("Status update response:",W);const G=n.map(j=>j.id===D?{...j,status:g}:j);s(G),re(G),l&&l.id===D&&o({...l,status:g}),console.log(`Inquiry ${g==="confirmed"?"confirmed":g==="completed"?"marked as completed":g==="cancelled"?"cancelled":"updated"} successfully!`)}else console.error("Failed to update status:",H.status,await H.text())}catch(I){console.error("Error updating status:",I),X()}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-4 sm:py-6 md:py-8 lg:py-12 px-2 xs:px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-3 sm:mb-4 md:mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[e.jsxs("h1",{className:"text-xl xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3 mb-1 sm:mb-2",children:[e.jsx(on,{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Inquiry"})]}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 truncate",children:"Manage and track all inquiry requests"})]}),e.jsxs("button",{onClick:X,disabled:r,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 whitespace-nowrap touch-manipulation",children:[e.jsx(hl,{className:`w-4 h-4 sm:w-5 sm:h-5 ${r?"animate-spin":""}`}),e.jsx("span",{children:"Refresh Data"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 md:gap-4 mb-4 sm:mb-6 md:mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-2.5 sm:p-3 md:p-4 lg:p-6 border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2 md:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-[10px] xs:text-xs sm:text-sm font-medium truncate",children:"Total"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mt-0.5 sm:mt-1 md:mt-2",children:T.total})]}),e.jsx(cr,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 text-blue-500 opacity-20 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-2.5 sm:p-3 md:p-4 lg:p-6 border-l-4 border-yellow-500 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2 md:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-[10px] xs:text-xs sm:text-sm font-medium truncate",children:"Pending"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mt-0.5 sm:mt-1 md:mt-2",children:T.pending})]}),e.jsx(ls,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 text-yellow-500 opacity-20 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-2.5 sm:p-3 md:p-4 lg:p-6 border-l-4 border-indigo-500 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2 md:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-[10px] xs:text-xs sm:text-sm font-medium truncate",children:"Confirmed"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mt-0.5 sm:mt-1 md:mt-2",children:T.confirmed})]}),e.jsx(dt,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 text-indigo-500 opacity-20 flex-shrink-0"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-2.5 sm:p-3 md:p-4 lg:p-6 border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2 md:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-[10px] xs:text-xs sm:text-sm font-medium truncate",children:"Completed"}),e.jsx("p",{className:"text-lg xs:text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mt-0.5 sm:mt-1 md:mt-2",children:T.completed})]}),e.jsx(Rs,{className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 text-green-500 opacity-20 flex-shrink-0"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-2.5 sm:p-3 md:p-4 lg:p-6 mb-4 sm:mb-6 md:mb-8 overflow-visible",children:e.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-2.5 sm:gap-3 md:gap-4 overflow-visible",children:[e.jsxs("div",{className:"relative w-full sm:col-span-2 lg:col-span-1",children:[e.jsx(kr,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search by name, email...",value:u,onChange:D=>{b(D.target.value),E(1)},className:"w-full pl-8 sm:pl-9 md:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all touch-manipulation placeholder:text-gray-400"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 relative w-full",children:[e.jsx(el,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0"}),e.jsxs("select",{value:v,onChange:D=>{y(D.target.value),E(1)},className:"flex-1 min-w-0 px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 appearance-none bg-white cursor-pointer transition-all touch-manipulation font-medium",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.25rem"},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 relative w-full sm:col-span-2 lg:col-span-1",children:[e.jsx(el,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0"}),e.jsxs("select",{value:k,onChange:D=>{x(D.target.value),E(1)},className:"flex-1 min-w-0 px-2.5 sm:px-3 md:px-4 py-2.5 sm:py-2.5 md:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 appearance-none bg-white cursor-pointer transition-all touch-manipulation font-medium",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.25rem"},children:[e.jsx("option",{value:"all",children:"All Products"}),e.jsxs("optgroup",{label:"üí∞ Loan Services",children:[e.jsx("option",{value:"Short Term Loan",children:"Short Term Loan"}),e.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),e.jsx("option",{value:"Home Loan",children:"Home Loan"}),e.jsx("option",{value:"Business Loan",children:"Business Loan"})]}),e.jsxs("optgroup",{label:"üõ°Ô∏è Insurance Services",children:[e.jsx("option",{value:"Term Insurance",children:"Term Insurance"}),e.jsx("option",{value:"Health Insurance",children:"Health Insurance"}),e.jsx("option",{value:"Motor Insurance",children:"Motor Insurance"})]}),e.jsxs("optgroup",{label:"üìà Investment Services",children:[e.jsx("option",{value:"SIP",children:"SIP"}),e.jsx("option",{value:"Mutual Funds",children:"Mutual Funds"})]}),e.jsxs("optgroup",{label:"üìã Tax Services",children:[e.jsx("option",{value:"Personal Tax Planning",children:"Personal Tax Planning"}),e.jsx("option",{value:"Business Tax Strategy",children:"Business Tax Strategy"})]}),e.jsxs("optgroup",{label:"üè™ Retail Services",children:[e.jsx("option",{value:"File Your ITR",children:"File Your ITR"}),e.jsx("option",{value:"Revise Your ITR",children:"Revise Your ITR"}),e.jsx("option",{value:"Reply to ITR Notice",children:"Reply to ITR Notice"}),e.jsx("option",{value:"Apply for Individual PAN",children:"Apply for Individual PAN"}),e.jsx("option",{value:"Apply for HUF PAN",children:"Apply for HUF PAN"}),e.jsx("option",{value:"Withdraw Your PF",children:"Withdraw Your PF"}),e.jsx("option",{value:"Update Aadhaar or PAN",children:"Update Aadhaar or PAN"}),e.jsx("option",{value:"Online Trading & Demat Account",children:"Online Trading & Demat Account"}),e.jsx("option",{value:"Bank Account Services",children:"Bank Account Services"}),e.jsx("option",{value:"Financial Planning & Advisory",children:"Financial Planning & Advisory"})]}),e.jsxs("optgroup",{label:"üè¢ Corporate Services",children:[e.jsx("option",{value:"Register New Company",children:"Register New Company"}),e.jsx("option",{value:"Compliance Services",children:"Compliance Services"}),e.jsx("option",{value:"Tax Audit Services",children:"Tax Audit Services"}),e.jsx("option",{value:"TDS Services",children:"TDS Services"}),e.jsx("option",{value:"GST Services",children:"GST Services"}),e.jsx("option",{value:"Legal Advice",children:"Legal Advice"}),e.jsx("option",{value:"Provident Fund Services",children:"Provident Fund Services"}),e.jsx("option",{value:"Payroll Services",children:"Payroll Services"}),e.jsx("option",{value:"Accounting & Bookkeeping",children:"Accounting & Bookkeeping"})]}),e.jsx("optgroup",{label:"üìû Other",children:e.jsx("option",{value:"Contact Form",children:"Contact Form"})})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-2.5 sm:gap-3 md:gap-4 lg:gap-5 xl:gap-6",children:r?e.jsx("div",{className:"col-span-full flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 animate-pulse",children:e.jsx(on,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading consultations..."})]})}):$.length===0?e.jsx("div",{className:"col-span-full flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(on,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"No consultations found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your search or filters"})]})}):$.map(D=>{const g=ie(D.status);return e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-md hover:shadow-lg active:shadow-xl transition-all overflow-hidden touch-manipulation",children:[e.jsx("div",{className:`${g.bg} border-b-2 ${g.border} p-2.5 sm:p-3 md:p-4`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 truncate",children:D.name}),e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-600 mt-0.5 sm:mt-1 truncate",children:D.productType||"Contact Form"})]}),e.jsxs("div",{className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full ${g.bg} border ${g.border} flex-shrink-0`,children:[e.jsx("span",{className:g.icon,children:Z(D.status)}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${g.text} whitespace-nowrap`,children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})]})]})}),e.jsxs("div",{className:"p-2.5 sm:p-3 md:p-4 lg:p-6 space-y-2 sm:space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 md:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 text-gray-700",children:[e.jsx(Rd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-[10px] xs:text-xs sm:text-sm truncate",children:D.email})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 text-gray-700",children:[e.jsx(Md,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-[10px] xs:text-xs sm:text-sm",children:D.phone})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 text-gray-700",children:[e.jsx(on,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-[10px] xs:text-xs sm:text-sm",children:f(D.createdAt)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4 pt-2 sm:pt-3 md:pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Product/Service"}),e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:D.productType||"Contact"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Amount/Value"}),e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:D.income||"N/A"})]})]}),D.message&&e.jsxs("div",{className:"bg-gray-50 p-2 sm:p-2.5 md:p-3 rounded-lg",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium mb-0.5 sm:mb-1",children:"Message"}),e.jsx("p",{className:"text-[10px] xs:text-xs sm:text-sm text-gray-700 line-clamp-2",children:D.message})]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-2 sm:p-3 md:p-4 bg-gray-50 flex flex-col xs:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>{o(D),m(!0)},className:"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-3 py-2 sm:py-2.5 text-blue-600 bg-blue-50 hover:bg-blue-100 active:bg-blue-200 rounded-lg transition-all text-xs sm:text-sm font-medium touch-manipulation",children:[e.jsx(Ls,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{children:"View Details"})]}),D.status==="pending"&&e.jsxs("button",{onClick:()=>_(D.id,"confirmed"),className:"flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-3 py-2 sm:py-2.5 text-green-600 bg-green-50 hover:bg-green-100 active:bg-green-200 rounded-lg transition-all text-xs sm:text-sm font-medium touch-manipulation",children:[e.jsx(dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Confirm"})]})]})]},D.id)})}),ue.length>0&&e.jsxs("div",{className:"mt-4 sm:mt-6 md:mt-8 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-semibold",children:de+1})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(de+L,ue.length)})," of"," ",e.jsx("span",{className:"font-semibold",children:ue.length})," results"]}),e.jsxs("div",{className:"flex gap-1 sm:gap-2 flex-wrap justify-center",children:[e.jsx("button",{onClick:()=>E(D=>Math.max(D-1,1)),disabled:M===1,className:"px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm border border-gray-300 rounded-lg hover:bg-gray-50 active:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all touch-manipulation font-medium",children:"Prev"}),[...Array(Math.min(ve,5))].map((D,g)=>{let I=g+1;return ve>5&&M>3&&(I=M-2+g),e.jsx("button",{onClick:()=>E(I),className:`min-w-[2rem] h-8 px-2 sm:min-w-[2.5rem] sm:h-10 sm:px-3 rounded-lg text-xs sm:text-sm font-medium transition-all touch-manipulation ${M===I?"bg-green-600 text-white shadow-md":"border border-gray-300 hover:bg-gray-50 active:bg-gray-100"}`,children:I},I)}),e.jsx("button",{onClick:()=>E(D=>Math.min(D+1,ve)),disabled:M===ve,className:"px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm border border-gray-300 rounded-lg hover:bg-gray-50 active:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all touch-manipulation font-medium",children:"Next"})]})]}),c&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-2 xs:p-3 sm:p-4 z-50 overflow-y-auto",onClick:()=>m(!1),children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-2xl max-w-2xl w-full max-h-[95vh] my-auto overflow-y-auto",onClick:D=>D.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-3 sm:p-4 md:p-5 lg:p-6 sticky top-0 z-10 rounded-t-lg sm:rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold truncate",children:"Inquiry Details"}),e.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white hover:bg-opacity-20 active:bg-opacity-30 p-1.5 sm:p-2 rounded-lg transition-all touch-manipulation flex-shrink-0 text-xl sm:text-2xl leading-none","aria-label":"Close modal",children:"‚úï"})]})}),e.jsxs("div",{className:"p-3 sm:p-4 md:p-5 lg:p-6 space-y-3 sm:space-y-4 md:space-y-5 lg:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 md:mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-2 sm:gap-3 md:gap-4 bg-gray-50 p-2.5 sm:p-3 md:p-4 rounded-lg",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Full Name"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:l.name})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:l.email})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Phone Number"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1",children:l.phone})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Amount/Value"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1",children:l.income||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 md:mb-4",children:"Inquiry Details"}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-2 sm:gap-3 md:gap-4 bg-gray-50 p-2.5 sm:p-3 md:p-4 rounded-lg",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Product/Service"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:l.productType||"Contact Form"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Consultation Type"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1 truncate",children:l.consultationType||"Inquiry"})]}),l.subject&&e.jsxs("div",{className:"min-w-0 xs:col-span-2",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Subject"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1",children:l.subject})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:`inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${ie(l.status).bg} ${ie(l.status).border} border ${ie(l.status).text}`,children:[Z(l.status),e.jsx("span",{className:"truncate",children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-gray-600 font-medium",children:"Booked Date"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 mt-0.5 sm:mt-1",children:f(l.createdAt)})]})]})]}),(l.confirmedDate||l.consultationDate)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 md:mb-4",children:"Important Dates"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-2.5 sm:p-3 md:p-4 rounded-lg space-y-2 sm:space-y-3",children:[l.confirmedDate&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsx(on,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-blue-600 font-medium",children:"Confirmation Date"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-blue-900 truncate",children:f(l.confirmedDate)})]})]}),l.consultationDate&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsx(on,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] xs:text-xs text-blue-600 font-medium",children:"Scheduled Consultation"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base font-semibold text-blue-900 truncate",children:f(l.consultationDate)})]})]})]})]}),l.message&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 md:mb-4",children:"Message"}),e.jsx("div",{className:"bg-gray-50 p-2.5 sm:p-3 md:p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-700 whitespace-pre-wrap break-words",children:l.message})})]}),e.jsxs("div",{className:"border-t pt-3 sm:pt-4 md:pt-5 lg:pt-6 flex flex-col xs:flex-row gap-2 sm:gap-3",children:[l.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{_(l.id,"confirmed"),m(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-4 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all font-semibold text-xs sm:text-sm md:text-base touch-manipulation",children:[e.jsx(dt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Confirm"]}),e.jsxs("button",{onClick:()=>{_(l.id,"cancelled"),m(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-4 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 transition-all font-semibold text-xs sm:text-sm md:text-base touch-manipulation",children:[e.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Cancel"]})]}),l.status==="confirmed"&&e.jsxs("button",{onClick:()=>{_(l.id,"completed"),m(!1)},className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-4 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-all font-semibold text-xs sm:text-sm md:text-base touch-manipulation",children:[e.jsx(dt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Mark Completed"]}),e.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2.5 sm:py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 active:bg-gray-100 transition-all font-semibold text-xs sm:text-sm md:text-base touch-manipulation",children:"Close"})]})]})]})})]})})},ph=()=>{const n=vd(),[s,r]=xe.useState(!1),[i,l]=xe.useState("dashboard"),[o,c]=xe.useState({fullName:"Admin User",email:"sudha@gmail.com",profileImage:null});xe.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("access_token");if(!k){console.warn("No token found, skipping profile fetch");return}const x=localStorage.getItem("adminProfile");if(x)try{const E=JSON.parse(x);c(E)}catch(E){console.error("Error parsing cached profile:",E)}const M=await fetch("http://127.0.0.1:8000/api/auth/profile",{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(M.status===401){console.error("Unauthorized - token may be invalid or expired"),localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("adminProfile");return}if(M.ok){const E=await M.json(),T={fullName:E.fullName||"Admin User",email:E.email||"sudha@gmail.com",profileImage:E.profileImage||null};c(T),localStorage.setItem("adminProfile",JSON.stringify(T))}else console.error("Failed to fetch profile:",M.status,M.statusText)}catch(k){console.error("Failed to fetch admin profile:",k)}})()},[]);const m=y=>{const k={...o,...y};c(k),localStorage.setItem("adminProfile",JSON.stringify(k))};xe.useEffect(()=>{const y=n.pathname;y==="/admin/dashboard"||y==="/admin"?l("dashboard"):y==="/admin/users"?l("users"):y==="/admin/loans"?l("loans"):y==="/admin/insurance"?l("insurance"):y==="/admin/investments"?l("investments"):y==="/admin/taxplanning"?l("taxplanning"):y==="/admin/taxconsultations"?l("taxconsultations"):y==="/admin/retailservices"?l("retailservices"):y==="/admin/corporateservices"?l("corporateservices"):y==="/admin/reports"?l("reports"):y==="/admin/settings"?l("settings"):y==="/admin/profile"?l("profile"):y==="/admin/notifications"&&l("notifications")},[n]);const u=()=>{r(!s)};$l.useEffect(()=>{const y=()=>{window.innerWidth>=1024&&s&&r(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[s]);const b=()=>{switch(i){case"dashboard":return e.jsx(Hl,{});case"users":return e.jsx(au,{});case"loans":return e.jsx(iu,{});case"insurance":return e.jsx(ou,{});case"investments":return e.jsx(lu,{});case"taxplanning":return e.jsx(cu,{});case"taxconsultations":return e.jsx(xh,{});case"retailservices":return e.jsx(du,{});case"corporateservices":return e.jsx(uu,{});case"reports":return e.jsx(ch,{});case"settings":return e.jsx(hh,{});case"profile":return e.jsx(v,{adminProfile:o,updateAdminProfile:m});case"notifications":return e.jsx(mh,{});default:return e.jsx(Hl,{})}},v=({adminProfile:y,updateAdminProfile:k})=>{const[x,M]=xe.useState({fullName:"Admin User",email:"sudha@gmail.com",phone:"+91 98765 43210",role:"Administrator",department:"",location:"Mumbai, India",bio:"",profileImage:null,lastLogin:null}),[E,T]=xe.useState(null),[S,L]=xe.useState(!1),[X,re]=xe.useState(!1),ue=$l.useRef(null);xe.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("access_token");if(!f)return;const _=await fetch("http://localhost:8000/api/auth/profile",{headers:{Authorization:`Bearer ${f}`}});if(_.ok){const D=await _.json();if(M({fullName:D.fullName||"Admin User",email:D.email||"sudha@gmail.com",phone:D.phone||"+91 98765 43210",role:"Administrator",department:D.department||"",location:D.address||"Mumbai, India",bio:D.bio||"",profileImage:D.profileImage||null,lastLogin:D.lastLogin||null}),D.profileImage){const g=D.profileImage.startsWith("http")?D.profileImage:`http://localhost:8000${D.profileImage}`;T(g)}}}catch(f){console.error("Error loading profile data:",f)}})()},[]);const ve=async Z=>{const f=Z.target.files[0];if(f){if(f.size>5*1024*1024){alert("File size should be less than 5MB");return}if(!f.type.startsWith("image/")){alert("Please upload an image file");return}const _=new FileReader;_.onloadend=()=>{T(_.result)},_.readAsDataURL(f);try{const D=localStorage.getItem("access_token");if(!D){alert("Please login again");return}const g=new FormData;g.append("profileImage",f);const I=await fetch("http://localhost:8000/api/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${D}`},body:g});if(I.ok){const z=await I.json();if(alert("Profile picture uploaded successfully! ‚úÖ"),M(te=>({...te,profileImage:z.profileImage})),z.profileImage){const te=z.profileImage.startsWith("http")?z.profileImage:`http://localhost:8000${z.profileImage}`;T(te),k({profileImage:z.profileImage,fullName:z.fullName||x.fullName,email:z.email||x.email})}}else{const z=await I.json();alert(`Failed to upload: ${z.detail||"Unknown error"}`)}}catch(D){console.error("Error uploading image:",D),alert("Failed to upload image. Please try again.")}}},de=async()=>{if(window.confirm("Are you sure you want to remove your profile picture?"))try{const Z=localStorage.getItem("access_token");if(!Z){alert("Please login again");return}const f=new FormData;f.append("removeProfileImage","true");const _=await fetch("http://localhost:8000/api/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${Z}`},body:f});if(_.ok){const D=await _.json();T(null),M(g=>({...g,profileImage:null})),k({profileImage:null}),ue.current&&(ue.current.value=""),alert("Profile picture removed successfully! ‚úÖ")}else{const D=await _.json();alert(`Failed to remove profile picture: ${D.detail||"Unknown error"}`)}}catch(Z){console.error("Error removing image:",Z),alert("Failed to remove image. Please try again.")}},$=async()=>{re(!0);try{const Z=localStorage.getItem("access_token");if(!Z){alert("Please login again"),re(!1);return}const f=new FormData;x.fullName&&x.fullName.trim()&&f.append("fullName",x.fullName.trim()),x.phone&&x.phone.trim()&&f.append("phone",x.phone.trim()),x.location&&x.location.trim()&&f.append("address",x.location.trim()),x.bio&&x.bio.trim()&&f.append("bio",x.bio.trim()),x.department&&x.department.trim()&&f.append("department",x.department.trim()),x.profileImage&&x.profileImage instanceof File&&f.append("profileImage",x.profileImage),console.log("Sending profile update with fields:");for(let[g,I]of f.entries())console.log(`${g}: ${I instanceof File?`File(${I.name})`:I}`);const _=await fetch("http://localhost:8000/api/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${Z}`},body:f});console.log("Response status:",_.status);const D=await _.json();if(console.log("Updated profile response:",D),_.ok){if(alert("Profile updated successfully! ‚úÖ"),M(g=>({...g,fullName:D.fullName!==void 0?D.fullName:g.fullName,phone:D.phone!==void 0?D.phone:g.phone,location:D.address!==void 0?D.address:g.location,bio:D.bio!==void 0?D.bio:g.bio,department:D.department!==void 0?D.department:g.department,profileImage:D.profileImage!==void 0?D.profileImage:g.profileImage,lastLogin:D.lastLogin!==void 0?D.lastLogin:g.lastLogin})),k({fullName:D.fullName,profileImage:D.profileImage}),D.profileImage){const g=D.profileImage.startsWith("http")?D.profileImage:`http://localhost:8000${D.profileImage}`;T(g)}L(!1)}else{const g=D.detail||"Unknown error";alert(`Failed to update profile: ${g}`),console.error("Backend error:",D)}}catch(Z){console.error("Error updating profile:",Z),alert("Failed to update profile. Please try again.")}finally{re(!1)}},ie=(Z,f)=>{M({...x,[Z]:f})};return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your personal information and profile picture"})]}),e.jsxs("button",{onClick:()=>L(!S),className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),S?"Cancel Editing":"Edit Profile"]})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6 md:p-8",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Picture"]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 sm:gap-6",children:[e.jsx("div",{className:"relative group",children:E?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:E,alt:"Profile",className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover border-4 border-green-600 shadow-2xl"}),S&&e.jsx("button",{onClick:de,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded-full flex items-center justify-center shadow-lg transition-all active:scale-95",title:"Remove image",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 bg-gradient-to-br from-green-600 to-green-700 rounded-full flex items-center justify-center text-white text-5xl sm:text-6xl md:text-7xl font-bold shadow-2xl border-4 border-green-600",children:x.fullName.charAt(0)})}),e.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-2",children:"Upload Profile Picture"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-4",children:"Click the button below to upload a new profile picture"}),e.jsx("input",{ref:ue,type:"file",accept:"image/*",onChange:ve,className:"hidden"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>ue.current?.click(),disabled:!S,className:`px-4 py-2.5 rounded-lg font-semibold text-sm transition-all flex items-center justify-center gap-2 ${S?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white active:scale-95 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Choose Image"]}),E&&e.jsxs("button",{onClick:de,disabled:!S,className:`px-4 py-2.5 rounded-lg font-semibold text-sm transition-all flex items-center justify-center gap-2 ${S?"bg-red-100 hover:bg-red-200 text-red-700 active:scale-95 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove"]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"‚Ä¢ Recommended size: 400x400 pixels"}),e.jsx("p",{className:"text-xs text-gray-500",children:"‚Ä¢ Maximum file size: 5MB"}),e.jsx("p",{className:"text-xs text-gray-500",children:"‚Ä¢ Supported formats: JPG, PNG, GIF"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6 md:p-8",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Profile Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 border-b-2 border-green-600 pb-2",children:"Personal Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:x.fullName,onChange:Z=>ie("fullName",Z.target.value),disabled:!S,className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all ${S?"border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500":"border-gray-200 bg-gray-50"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:x.email,disabled:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all bg-gray-50 border-gray-200 cursor-not-allowed",title:"Email cannot be changed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed for security reasons"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:x.phone,onChange:Z=>ie("phone",Z.target.value),disabled:!S,className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all ${S?"border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500":"border-gray-200 bg-gray-50"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:x.location,onChange:Z=>ie("location",Z.target.value),disabled:!S,className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all ${S?"border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500":"border-gray-200 bg-gray-50"}`})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 border-b-2 border-blue-600 pb-2",children:"Account Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Role"}),e.jsx("input",{type:"text",value:x.role,disabled:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",title:"Role cannot be changed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Department"}),e.jsx("input",{type:"text",value:x.department,onChange:Z=>ie("department",Z.target.value),disabled:!S,className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all ${S?"border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500":"border-gray-200 bg-gray-50"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Account Created"}),e.jsx("input",{type:"text",value:"January 1, 2024",readOnly:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Last Login"}),e.jsx("input",{type:"text",value:x.lastLogin?new Date(x.lastLogin).toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Not available",readOnly:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Bio / About"}),e.jsx("textarea",{value:x.bio,onChange:Z=>ie("bio",Z.target.value),disabled:!S,rows:"4",className:`w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 rounded-lg transition-all resize-none ${S?"border-green-300 focus:ring-2 focus:ring-green-500 focus:border-green-500":"border-gray-200 bg-gray-50"}`})]}),S&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mt-6",children:[e.jsx("button",{onClick:$,disabled:X,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:X?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})}),e.jsx("button",{onClick:()=>L(!1),disabled:X,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-semibold text-sm sm:text-base transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})};return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Zd,{toggleSidebar:u,setActiveView:l,adminProfile:o})}),e.jsxs("div",{className:"flex flex-1 relative overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Kd,{isOpen:s,activeView:i,setActiveView:l,toggleSidebar:u})}),e.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-green-50 via-white to-emerald-50 [scroll-behavior:smooth] [-webkit-overflow-scrolling:touch] [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded [&::-webkit-scrollbar-thumb:hover]:bg-gray-400",children:e.jsx("div",{className:"p-3 xs:p-4 sm:p-5 md:p-6 lg:p-8 w-full max-w-full",children:e.jsx("div",{className:"w-full",children:b()})})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity duration-300 backdrop-blur-sm",onClick:u,"aria-hidden":"true"})]})},Oh=Object.freeze(Object.defineProperty({__proto__:null,default:ph},Symbol.toStringTag,{value:"Module"}));export{Oh as A,gt as _};
//# sourceMappingURL=AdminPanel-BDt5be53.js.map
